/*! Calendar.js v2.12.2 | (c) Bunoon 2024 | MIT License */function calendarJs(ol,pl,ql){function R(i,o,s){if(B=Dc(i)?i:new Date,o=r(o)?o:!1,s=r(s)?s:!1,i=o,b.isWidget)ng=jc(B),sb||(Xi(!0),E!==null&&(Yi(),Zi(),$i(),aj(),bj(),Oe||(Jh(),Oe=!0),cj(),dj(),ej())),rl();else{B.setDate(1),B.setHours(0,0,0,0),o=B;var C=new Date;if(ng=o.getFullYear()===C.getFullYear()&&o.getMonth()===C.getMonth(),o=new Date(B.getFullYear(),B.getMonth(),1),C=Pe(o.getDay()===0?7:o.getDay()),o=!ae,Qe()&&Nb(),Ka(),!sb&&(Xi(),E!==null)){if(w||(be===null&&(be=k("div","side-menu-disabled-background"),be.onclick=Nb,E.appendChild(be)),sl()),tl(),ul(),Ob===null&&(Ob=k("div","full-month-view"),Ob.id=kc(),E.appendChild(Ob)),vl(),!w){var F=tb!==null;if(b.views.fullMonth.isPinUpViewEnabled){if(F||(tb=k("div","pin-up"),Ob.appendChild(tb)),F=b.views.fullMonth.pinUpViewImageUrls.length,F>0)for(var j=0;j<F;j++)new Image().src=b.views.fullMonth.pinUpViewImageUrls[j];ae||xb()}else F&&(Ob.removeChild(tb),tb=null)}F=Ec!==null,b.views.fullMonth.showDayNamesHeaders?(F&&(Ec.innerHTML=n.empty),F||(Ec=k("div","row-cells header-days"),Ob.appendChild(Ec)),w&&(Ec.onclick=J),Kh(Ec)):F&&(Ob.removeChild(Ec),Ec=null),fj(),wl(),xl(),yl(),Oe||(Jh(),Oe=!0),dj(),ej()}if(C>1){F=new Date(B),F.setMonth(F.getMonth()-1),j=gd(F.getFullYear(),F.getMonth());for(var V=1,$=j-C+1;$<j;$++){var _=$===j-1;Lh($+1,V,F.getMonth(),F.getFullYear(),!0,_),V++}}for(F=0,j=gd(B.getFullYear(),B.getMonth()),V=0;V<j;V++)F=C+V,Lh(V+1,F,B.getMonth(),B.getFullYear(),!1);if(j=F,j<42){for(F=1,C=new Date(B),C.setMonth(C.getMonth()+1),j+=1;j<43;j++)V=F===1,Lh(F,j,C.getMonth(),C.getFullYear(),!0,V),F++;F=gd(C.getFullYear(),C.getMonth()),F=qa.round(F/2),Mh=new Date(C.getFullYear(),C.getMonth(),F)}else Mh=null;La(),i&&(Yi(),Zi(),$i(),aj(),bj(),zl(),Al(),Bl(),Cl(),cj(),w||(Dl(),El(),Fl(),Gl()),lc!==null||w||(lc=k("div","calendar-notification"),Ca.push(lc),I.body.appendChild(lc))),s&&Pa(!0,!1),E!==null&&(Nh.innerText=Oh(b.views.fullMonth.titleBarDateFormat,B),o&&W(b.viewToOpenOnFirstLoad)&&(b.viewToOpenOnFirstLoad.toLowerCase()===yb.fullDay&&b.views.fullDay.enabled?Za():b.viewToOpenOnFirstLoad.toLowerCase()===yb.fullWeek&&b.views.fullWeek.enabled?Fc():b.viewToOpenOnFirstLoad.toLowerCase()===yb.fullYear&&b.views.fullYear.enabled?Gc():b.viewToOpenOnFirstLoad.toLowerCase()===yb.timeline&&b.views.timeline.enabled?Pb():b.viewToOpenOnFirstLoad.toLowerCase()===yb.allEvents&&b.views.allEvents.enabled&&Ph()))}}function dj(){if(ya(b.data)&&u.addEvents(b.data,!1,!1,!1),b.useLocalStorageForEvents&&ea.localStorage)for(var i=ea.localStorage.length,o=0;o<i;o++){var s=ea.localStorage.getItem(ea.localStorage.key(o));s=Re(s),r(s)&&u.addEvent(s,!1,!1,!1)}gj()}function ej(){sb=!0,ae||(A(b.events.onRender,Da),ae=!0)}function Xi(i){if(i=r(i)?i:!1,E===null){if(hj(Da)){var o=Da;Da=o.id,W(Da)||(Da=kc())}else o=Ea(Da);o!==null&&(o.tagName.toLowerCase()!=="input"||o.type!=="text"&&o.type!=="date"?(E=o,E.className=i?"calendar-widget":"calendar",E.innerHTML=n.empty,Se(E,"height")>=100?E.className+=n.space+"fixed-height":E.style.removeProperty("height")):(Te=i=o,mc(Te,"hidden"),Hc=k("input","calendar-date-picker-input"),Hc.readOnly=!0,Hc.placeholder=b.selectDatePlaceholderText,w=!0,o=k("div","calendar-date-picker"),i.insertAdjacentElement("afterend",o),i.remove(i),o.appendChild(Te),o.appendChild(Hc),E=k("div","calendar calendar-hidden"),E.id=Da,o.appendChild(E),Hc.onclick=Hl,I.addEventListener("click",hd),ij(),o=Te.value.split("/"),i=null,o.length===3&&(o=new Date(parseInt(o[2]),parseInt(o[1])-1,parseInt(o[0])),o instanceof Date&&!isNaN(o)&&(i=o)),i===null?i=new Date:Qh(i),i.setHours(0,0,0,0),Ic=i))}}function sl(){ae||(zb=k("div","side-menu custom-scroll-bars dark-thumb-scroll"),zb.onclick=J,E.appendChild(zb),Qb=k("div","main-header"),zb.appendChild(Qb)),Qb.innerHTML=n.empty,ua(Qb,b.sideMenuHeaderText),x(Qb,"ib-close",b.closeTooltipText,Nb),(b.configurationDialogEnabled||b.exportEventsEnabled||b.importEventsEnabled&&b.manualEditingEnabled)&&Qb.appendChild(k("div","right-divider-line")),b.configurationDialogEnabled&&x(Qb,"ib-octagon-hollow",b.configurationTooltipText,function(){Nb(),jj()}),(b.configurationDialogEnabled&&b.exportEventsEnabled||b.importEventsEnabled&&b.manualEditingEnabled)&&Qb.appendChild(k("div","right-divider-line")),b.exportEventsEnabled&&(id=x(Qb,"ib-arrow-down-full-line",b.exportEventsTooltipText,function(){var i=Qa();i===null?jd(kd):i===ba?jd(nc):i===ia?jd(oc):i===na?jd(Jc):i===va&&jd(Rb)})),b.importEventsEnabled&&b.manualEditingEnabled&&x(Qb,"ib-arrow-up-full-line",b.importEventsTooltipText,Il),ae||(Kc=k("div","content"),zb.appendChild(Kc))}function kj(i){var o=Ue(Lc)||i===!0,s=Ue(ld,!0),C=Ue(md,!0),F=Ue(Mc,!0);i=Ue(Nc,!0),Kc.innerHTML=n.empty,Nc=nd=Mc=od=md=Oc=ld=Pc=Lc=pd=null,qd();var j=Qa();if(j===null?$a(id,kd.length>0):j===ba?$a(id,nc.length>0):j===va?$a(id,Rb.length>0):j===ia?$a(id,oc.length>0):j===na?$a(id,Jc.length>0):$a(id,!1),b.sideMenu.showDays){var V=o;V=r(V)?V:!0,pd=k("div","content-section content-section-opened"),Lc=k("div","checkbox-container"),Kc.appendChild(pd),o=0,j=7;var $=!1,_=[];for(Ve(pd,Lc,b.sideMenuDaysText,V,_),pd.appendChild(Lc),(b.startOfWeekDay===za.saturday||b.startOfWeekDay===za.sunday)&&(o=b.startOfWeekDay,$=!0);o<j;o++)V=b.visibleDays.indexOf(o)>G.notFound,_.push(M(Lc,b.dayNames[o],Qc,o.toString(),V,null,Rc)[0]);if($)for(j=b.startOfWeekDay,o=0;o<j;o++)$=b.visibleDays.indexOf(o)>G.notFound,_.push(M(Lc,b.dayNames[o],Qc,o.toString(),$,null,Rc)[0]);b.reverseOrderDaysOfWeek&&rd(Lc)}if(b.sideMenu.showEventTypes){s=r(s)?s:!0,ld=Pc=null,o=!1,j=[];for(var Fe in P)P.hasOwnProperty(Fe)&&(o||(Pc=k("div","content-section content-section-opened"),Kc.appendChild(Pc),ld=k("div","checkbox-container"),Ve(Pc,ld,b.eventTypesText,s,j),Pc.appendChild(ld),o=!0),_=!0,r(S.visibleEventTypes)&&(_=S.visibleEventTypes.indexOf(parseInt(Fe))>G.notFound),j.push(M(ld,P[Fe].text,Qc,Fe,_,null,Rc)[0]))}if(b.sideMenu.showGroups&&(o=C,o=r(o)?o:!0,md=Oc=null,Fe=lj(),C=Fe.length,C>0))for(s=[],Oc=k("div","content-section content-section-opened"),md=k("div","checkbox-container"),Kc.appendChild(Oc),Ve(Oc,md,b.groupsText,o,s),Oc.appendChild(md),o=0;o<C;o++)j=Fe[o],_=j.toLowerCase(),$=!0,r(S.visibleGroups)&&($=S.visibleGroups.indexOf(_)>G.notFound),s.push(M(md,j,Qc,_,$,null,Rc)[0]);if(b.sideMenu.showWorkingDays){for(o=F,o=r(o)?o:!0,od=k("div","content-section content-section-opened"),Mc=k("div","checkbox-container"),Kc.appendChild(od),F=0,Fe=7,s=!1,C=[],Ve(od,Mc,b.workingDaysText,o,C),od.appendChild(Mc),(b.startOfWeekDay===za.saturday||b.startOfWeekDay===za.sunday)&&(F=b.startOfWeekDay,s=!0);F<Fe;F++)o=b.workingDays.indexOf(F)>G.notFound,C.push(M(Mc,b.dayNames[F],Qc,F.toString(),o,null,Rc)[0]);if(s)for(Fe=b.startOfWeekDay,F=0;F<Fe;F++)s=b.workingDays.indexOf(F)>G.notFound,C.push(M(Mc,b.dayNames[F],Qc,F.toString(),s,null,Rc)[0]);b.reverseOrderDaysOfWeek&&rd(Mc)}if(b.sideMenu.showWeekendDays){for(s=i,s=r(s)?s:!0,nd=k("div","content-section content-section-opened"),Nc=k("div","checkbox-container"),Kc.appendChild(nd),i=1,F=8,C=!1,Fe=[],Ve(nd,Nc,b.weekendDaysText,s,Fe),nd.appendChild(Nc),(b.startOfWeekDay===za.saturday||b.startOfWeekDay===za.sunday)&&(i=b.startOfWeekDay+1,C=!0);i<F;i++)s=i>6?0:i,o=b.weekendDays.indexOf(s)>G.notFound,Fe.push(M(Nc,b.dayNames[i-1],Qc,s.toString(),o,null,Rc)[0]);if(C)for(F=b.startOfWeekDay+1,i=1;i<F;i++)C=i>6?0:i,s=b.weekendDays.indexOf(C)>G.notFound,Fe.push(M(Nc,b.dayNames[i-1],Qc,C.toString(),s,null,Rc)[0]);b.reverseOrderDaysOfWeek&&rd(Nc)}}function sd(){return b.sideMenu.showDays||b.sideMenu.showEventTypes||b.sideMenu.showGroups||b.sideMenu.showWorkingDays||b.sideMenu.showWeekendDays}function Sb(){Qe()&&kj()}function Sc(i){kj(r(i)?i:!1),og=!1,zb.className+=" side-menu-open",be.style.display="block",td(Ra.sideMenuEvents,function(){I.body.addEventListener("click",Nb)},500,!1)}function Nb(){if(zb!==null){if(zb.className="side-menu custom-scroll-bars",be.style.display="none",og){var i=!1,o=!1;if(Oc!==null){var s=We(Oc);ce(S.visibleGroups,s)||(S.visibleGroups=[].slice.call(s),o=!0,A(b.events.onVisibleGroupsChanged,S.visibleGroups))}Pc!==null&&(s=We(Pc,!0),ce(S.visibleEventTypes,s)||(S.visibleEventTypes=[].slice.call(s),o=!0,A(b.events.onVisibleEventTypesChanged,S.visibleEventTypes))),pd!==null&&(s=We(pd,!0),s.length>=1&&!ce(b.visibleDays,s)&&(b.visibleDays=[].slice.call(s),ud=[],o=i=!0)),od!==null&&(s=We(od,!0),ce(b.workingDays,s)||(b.workingDays=[].slice.call(s),o=i=!0)),nd!==null&&(s=We(nd,!0),ce(b.weekendDays,s)||(b.weekendDays=s,o=i=!0)),o&&(i&&A(b.events.onOptionsUpdated,b),sb=!1,R(B,!0,!0))}pc(),I.body.removeEventListener("click",Nb)}}function Qe(){return zb!==null&&zb.className.indexOf("side-menu-open")>G.notFound}function We(i,o){o=r(o)?o:!1,i=i.getElementsByTagName("input");var s=i.length,C=[];if(s>0)for(var F=0;F<s;F++){var j=i[F];j.checked&&(o?C.push(parseInt(j.name)):C.push(j.name))}return C}function Ve(i,o,s,C,F){var j=k("div","text-header");i.appendChild(j),D(j,s+":");var V=k("div","ib-arrow-up-full");j.appendChild(V);var $=k("div","right-divider-line");j.appendChild($);var _=x(j,"ib-square",b.selectAllText,function(_e){mj(_e,F,!0)}),Fe=x(j,"ib-square-hollow",b.selectNoneText,function(_e){mj(_e,F,!1)});return j.onclick=function(){var _e=o.style.display==="none";j.className=_e?"text-header":"text-header-closed",o.style.display=_e?"block":"none",V.className=_e?"ib-arrow-up-full":"ib-arrow-down-full",i.className=_e?"content-section content-section-opened":"content-section",$.style.display=_e?"block":"none",_.style.display=_e?"block":"none",Fe.style.display=_e?"block":"none"},C||(o.style.display="none",j.className="text-header-closed",V.className="ib-arrow-down-full",i.className="content-section",$.style.display="none",_.style.display="none",Fe.style.display="none"),[_,Fe]}function mj(i,o,s){J(i),i=o.length;for(var C=!1,F=0;F<i;F++)o[F].checked!==s&&(o[F].checked=s,C=!0);og=C}function Ue(i,o){return o&&i===null?!1:i===null||i.style.display!=="none"}function Qc(){og=!0}function rl(){Rh(),E.innerHTML=n.empty;var i=ca(B),o=k("div","day-name");D(o,b.dayNames[i]),E.appendChild(o),x(o,"ib-arrow-right-full",b.nextDayTooltipText,Jl),x(o,"ib-arrow-left-full",b.previousDayTooltipText,Kl),o.appendChild(k("div","right-divider-line")),b.manualEditingEnabled&&x(o,"ib-plus",b.addEventTooltipText,function(){T(null,new Date(B))}),x(o,"ib-pin",b.todayTooltipText,Ll),i=k("div","day-date"),qc(i,B,!1,!0,!1),E.appendChild(i),Ml(),Sh()}function Ml(){var i=k("div","events custom-scroll-bars"),o=[];E.appendChild(i),Th(B,o),o=Ab(o);var s=o.length;if(s>0)for(var C=0;C<s;C++){var F=i,j=o[C],V=k("div","event");if(F.appendChild(V),de(V,j,Xe(j,B)),ee(V,j),V.id="widget-day-"+j.id,V.setAttribute("event-type",L(j.type)),V.setAttribute("event-id",j.id),V.setAttribute("event-is-all-day",j.isAllDay),!A(b.events.onWidgetEventRender,V,j)){var $=k("div","title");if(L(j.repeatEvery)>z.never){var _=k("div","ib-refresh-medium ib-no-hover ib-no-active");_.style.borderColor=V.style.color,$.appendChild(_)}$.innerHTML+=rc(j.title),V.appendChild($),$=k("div","date"),V.appendChild($),_=k("div","duration"),V.appendChild(_),j.from.getDate()===j.to.getDate()?j.isAllDay?Tb($,j.from,null," - "+b.allDayText):(Tb($,j.from,null," - "+fe(j.from,j.to)),D(_,Ub(j.from,j.to))):(Ye($,j.from,j.to),D(_,Ub(j.from,j.to))),_.innerHTML===n.empty&&V.removeChild(_),Fa(j.repeatEvery)&&j.repeatEvery>z.never&&($=k("div","repeats"),D($,b.repeatsText.replace(":",n.empty)+n.space+vd(j.repeatEvery)),V.appendChild($)),ab(j.location)&&($=k("div","location"),D($,j.location),V.appendChild($)),ab(j.description)&&($=k("div","description"),D($,j.description),V.appendChild($))}F.scrollHeight>F.clientHeight&&F.className.indexOf(" scroll-margin")===G.notFound&&(F.className+=" scroll-margin")}else ua(i,b.noEventsAvailableFullText)}function Ll(i){J(i),R()}function Jl(i){J(i),i=new Date(B),i.setDate(i.getDate()+1),i.getFullYear()<=b.maximumYear&&R(i)}function Kl(i){J(i),i=new Date(B),i.setDate(i.getDate()-1),i.getFullYear()>=b.minimumYear&&R(i)}function ij(){w&&(b.exportEventsEnabled=!1,b.manualEditingEnabled=!1,b.fullScreenModeEnabled=!1,b.eventNotificationsEnabled=!1,b.views.fullMonth.showPreviousNextMonthNames=!1,b.views.fullMonth.showExtraTitleBarButtons=!1,b.holidays=[])}function Hl(i){if(J(i),pg("calendar calendar-shown","calendar calendar-hidden"),ib)E.className="calendar calendar-hidden",Ka(),A(b.events.onDatePickerClosed,Da);else{E.className="calendar calendar-shown",R(new Date(Ic),!sb),A(b.events.onDatePickerOpened,Da),i=nj,i===null&&(i=nj=E.offsetTop),E.style.top=i+"px";var o=Ze(E),s=oj();o.top-s.top+E.offsetHeight>ea.innerHeight?(o=Se(E,"border-width"),s=Se(Hc,"border-width"),i-=E.offsetHeight+Hc.clientHeight+o*4+s*2,E.className+=" calendar-shadow-top",E.style.top=i+"px"):E.className+=" calendar-shadow-bottom"}ib=!ib}function hd(){ib&&(E.className="calendar calendar-hidden",ib=!1,Ka(),A(b.events.onDatePickerClosed,Da))}function Qh(i){Hc.value=Oh(b.views.datePicker.selectedDateFormat,i),Te.value=i.getFullYear()+"-"+Q(i.getMonth()+1)+"-"+Q(i.getDate())}function pj(i){var o=!0;return b.views.datePicker.minimumDate!==null&&(o=$e(b.views.datePicker.minimumDate,i)),o&&b.views.datePicker.maximumDate!==null&&(o=$e(i,b.views.datePicker.maximumDate)),o}function Jh(i){var o=(i=r(i)?i:!0)?I.body.addEventListener:I.body.removeEventListener,s=i?I.addEventListener:I.removeEventListener;i=i?ea.addEventListener:ea.removeEventListener,o("click",Nl),o("contextmenu",Uh),o("mousemove",Ol),o("mouseup",Vh),o("mouseleave",Pl),s("scroll",Uh),i("resize",Uh),i("resize",Wh),i("resize",Ql),i("blur",Rl),b.shortcutKeysEnabled&&s("keydown",Sl)}function Nl(i){Ka(),la(i)||sc()}function Rl(){Ka(),pc(),w&&hd()}function Ql(){wd(Ra.windowResize),td(Ra.windowResize,function(){Pa(!0,!1)},50,!1)}function Uh(){Ka()}function Ka(i){var o=!1;return i=r(i)?i:!0,qg(Ma)&&(o=!0),qg(da)&&(o=!0),qg(Sa)&&(o=!0),qg(ub)&&(o=!0),rg()&&(o=!0),pc(),pg("calendar-context-menu"),pg("years-drop-down"),pg("years-drop-down-no-months"),i&&af(),o}function Sl(i){if(w)ib&&(i.keyCode===U.escape?(i.preventDefault(),hd()):la(i)&&i.keyCode===U.left?(i.preventDefault(),sg()):la(i)&&i.keyCode===U.right?(i.preventDefault(),tg()):i.keyCode===U.left?(i.preventDefault(),bf()):i.keyCode===U.right?(i.preventDefault(),cf()):i.keyCode===U.down&&(i.preventDefault(),ug()));else if(Qe())i.keyCode===U.escape&&Qe()&&(i.preventDefault(),Nb());else{if(xd){var o=qj();la(i)&&i.keyCode===U.left&&o?(i.preventDefault(),sg()):la(i)&&i.keyCode===U.right&&o?(i.preventDefault(),tg()):i.keyCode===U.escape?!rj()&&o&&b.useEscapeKeyToExitFullScreenMode&&bb():i.keyCode===U.left&&o?(i.preventDefault(),o=Qa(),o===null?bf():o===ba?sj():o===ia?tj():o===Ga?uj():o===na&&vj()):i.keyCode===U.right&&o?(i.preventDefault(),o=Qa(),o===null?cf():o===ba?wj():o===ia?xj():o===Ga?yj():o===na&&zj()):i.keyCode===U.down&&o?(i.preventDefault(),o=Qa(),o===null?ug():o===ba?Aj():o===ia?Bj():o===Ga?Cj():o===na&&Dj()):i.keyCode===U.f5&&o&&Pa(!1,!0)}else i.keyCode===U.escape&&rj();if(la(i)&&i.shiftKey&&i.keyCode===U.a)i.preventDefault(),b.manualEditingEnabled&&T(null,new Date);else if(la(i)&&i.shiftKey&&i.keyCode===U.c)i.preventDefault(),Ej();else if(la(i)&&i.shiftKey&&i.keyCode===U.e)i.preventDefault(),b.exportEventsEnabled&&(i=[],o=Qa(),o===null?i=kd:o===ba?i=nc:o===ia?i=oc:o===na?i=Jc:o===va&&(i=Rb),i.length>0&&jd(i));else if(la(i)&&i.shiftKey&&i.keyCode===U.g)i.preventDefault(),b.configurationDialogEnabled&&jj();else if(la(i)&&i.shiftKey&&i.keyCode===U.j)i.preventDefault(),ge();else if(la(i)&&i.shiftKey&&i.keyCode===U.f)i.preventDefault(),i=!1,o=Qa(),o===null?i=kd.length>0:o===ba?i=nc.length>0:o===ia?i=Rb.length>0:o===Ga?i=oc.length>0:o===na&&(i=Jc.length>0),i&&he();else if(la(i)&&i.shiftKey&&i.keyCode===U.m){if(i.preventDefault(),jb(va))for(i=vg.length,o=0;o<i;o++)vg[o]()}else la(i)&&i.shiftKey&&i.keyCode===U.o?(i.preventDefault(),sd()&&Sc()):la(i)&&i.shiftKey&&i.keyCode===U.v?(i.preventDefault(),i=oa.length,jb(ba)&&i>0&&Xh(N,Vb)):la(i)&&i.shiftKey&&i.keyCode===U.x?(i.preventDefault(),Ej(!0)):la(i)&&i.shiftKey&&i.keyCode===U.f11&&(i.preventDefault(),bb())}}function la(i){return i.ctrlKey||i.metaKey}function rj(){var i=Ka(!1);return i||=af(),!i&&kb.length>0&&(i=kb[kb.length-1],Yh(i)&&(kb.pop(),i(!1)),i=!0),i||=qd(),i||=sc(),!i&&oa.length>0&&(ie(),oa=[],Vb=!1,i=!0),!i&&Bb.length>0&&(Fj(),i=!0),i}function tl(){if(!w&&b.views.fullDay.enabled){var i=ba!==null;i&&(ba.innerHTML=n.empty),i||(ba=k("div","full-day-view"),ba.id=kc(),E.appendChild(ba)),i=k("div","title-bar"),ba.appendChild(i),b.fullScreenModeEnabled&&(i.ondblclick=bb),df=k("div","title"),i.appendChild(df),x(i,"ib-close",b.closeTooltipText,Tl),i.appendChild(k("div","right-divider-line")),b.views.fullDay.showExtraTitleBarButtons&&b.fullScreenModeEnabled&&(Zh=x(i,"ib-arrow-expand-left-right",b.enableFullScreenTooltipText,bb),i.appendChild(k("div","right-divider-line-full-screen-mode"))),x(i,"ib-arrow-right-full",b.nextDayTooltipText,wj),b.manualEditingEnabled&&b.views.fullDay.showExtraTitleBarButtons&&x(i,"ib-plus",b.addEventTooltipText,function(){if(b.useTemplateWhenAddingNewEvent){var o=yd(N,N);T(o),zd()}else T(null,N)}),b.views.timeline.enabled&&(i.appendChild(k("div","right-divider-line-views")),x(i,"ib-bar-graph",b.viewTimelineTooltipText,function(){Pb(N,!0)})),!w&&sd()&&(x(i,"ib-hamburger",b.showMenuTooltipText,Sc),i.appendChild(k("div","left-divider-line"))),x(i,"ib-arrow-left-full",b.previousDayTooltipText,sj),b.views.fullDay.showExtraTitleBarButtons&&(Gj=x(i,"ib-pin",b.todayTooltipText,Aj),b.jumpToDateEnabled&&x(i,"ib-arrow-right-full-line",b.jumpToDateTitle,function(){ge()}),i.appendChild(k("div","left-divider-line-events")),x(i,"ib-refresh",b.refreshTooltipText,function(){Pa(!0,!0)}),y.enabled&&(Hj=x(i,"ib-search",b.searchTooltipText,he))),Cb=k("div","contents custom-scroll-bars"),ba.appendChild(Cb),Cb.oncontextmenu=function(o){var s=wg(o,Aa);ef=Q(s[0])+":"+Q(s[1]),Ij(o,N,nc)},Tc=k("div","content-events-all-day"),Cb.appendChild(Tc),i=k("div","all-day-text"),D(i,b.allDayText),Tc.appendChild(i),Aa=k("div","contents-events"),Aa.ondblclick=Ul,Cb.appendChild(Aa),je=k("div","working-hours"),Cb.appendChild(je),b.manualEditingEnabled&&b.dragAndDropForEventsEnabled&&(Aa.ondragover=J,Aa.ondragenter=J,Aa.ondragleave=J,Aa.ondrop=function(o){Jj(o,N,Aa)}),Kj(Aa,b.views.fullDay.minutesBetweenSections),ff=k("div","time-arrow"),Aa.appendChild(ff),ff.appendChild(k("div","arrow-left")),ff.appendChild(k("div","line"))}}function tc(i,o,s,C,F){for(var j=new Date(i.from),V=Uc(i.repeatEveryExcludeDays);j<s;){C(j,F);var $=!(!r(i.repeatEnds)||$e(j,i.repeatEnds));if(V.indexOf(j.getDay())===G.notFound&&!$&&Z(j,s)){o.push(i);break}}}function Vl(i,o){var s=0,C=Uc(i.seriesIgnoreDates),F=Ad(o),j=new Date(o);if(ke(i)&&C.indexOf(F)===G.notFound){var V=k("div","event");V.ondblclick=J,V.setAttribute("event-type",L(i.type)),V.setAttribute("event-id",i.id),V.setAttribute("event-is-all-day",i.isAllDay),V.onclick=function($){Lj($,V)},i.isAllDay?Tc.appendChild(V):(b.manualEditingEnabled&&b.dragAndDropForEventsEnabled&&(Z(i.from,i.to)&&(V.className+=" resizable"),V.ondragstart=function($){var _=Ze(V);xg=V,yg=V.offsetTop,Wb=i,zg=_.top-$.pageY,Ag=o},V.ondragEnd=Vh,V.setAttribute("draggable",!0)),Aa.appendChild(V)),V.oncontextmenu=function($){gf($,i,F)},hf(V,i),de(V,i,Xe(i,o)),ee(V,i,j),Z(i.from,o)&&(V.id="full-day-"+i.id),A(b.events.onFullDayEventRender,V,i)||(C=k("div","title"),L(i.repeatEvery)>z.never&&(j=k("div","ib-refresh-medium ib-no-hover ib-no-active"),j.style.borderColor=V.style.color,C.appendChild(j)),C.innerHTML+=rc(i.title),V.appendChild(C),i.isAllDay&&!b.views.fullDay.showAllDayEventDetails)||(C=k("div","date"),V.appendChild(C),j=k("div","duration"),V.appendChild(j),i.from.getDate()===i.to.getDate()?i.isAllDay?D(C,b.allDayText):(D(C,fe(i.from,i.to)),D(j,Ub(i.from,i.to))):(Ye(C,i.from,i.to),D(j,Ub(i.from,i.to))),j.innerHTML===n.empty&&V.removeChild(j),Fa(i.repeatEvery)&&i.repeatEvery>z.never&&(C=k("div","repeats"),D(C,b.repeatsText.replace(":",n.empty)+n.space+vd(i.repeatEvery)),V.appendChild(C)),ab(i.location)&&(C=k("div","location"),D(C,i.location),V.appendChild(C)),ab(i.description)&&(C=k("div","description"),D(C,i.description),V.appendChild(C))),V.addEventListener("click",function($){jf($,i)}),i.isAllDay||(s=Mj(Cb,Aa,o,V,i)),nc.push(i),i.isAllDay||Bg.push({eventDetails:i,eventElement:V,height:V.offsetHeight})}return s}function Za(i,o){i=r(i)?new Date(i):new Date,o=r(o)?o:!1;var s=new Date,C=ca(s);if(C=b.visibleDays.indexOf(C)>G.notFound,df.innerHTML=n.empty,N=new Date(i),nc=[],Bg=[],Tc.style.display="block",je.style.display="none",Z(i,s)&&!C&&Nj(),$a(Gj,C),$h(Cb,"event"),qd(),A(b.events.onFullDayTitleRender,N)||qc(df,N,!1,!0,!0),kf(ba),b.workingDays.indexOf(ca(i))>=0&&b.workingHoursStart!==null&&b.workingHoursEnd!==null){var F=null;s=null,Ta(b.workingHoursStart)?(C=ca(N),b.workingHoursStart.hasOwnProperty(C.toString())&&(F=b.workingHoursStart[C.toString()])):F=b.workingHoursStart,Ta(b.workingHoursEnd)?(C=ca(N),b.workingHoursEnd.hasOwnProperty(C.toString())&&(s=b.workingHoursEnd[C.toString()])):s=b.workingHoursEnd,F!==null&&s!==null&&F!==s&&(C=Aa.offsetHeight/1440,F=F.split(":"),s=s.split(":"),F=(parseInt(F[0])*60+parseInt(F[1]))*C,s=(parseInt(s[0])*60+parseInt(s[1]))*C-F,je.style.display="block",je.style.top=F+"px",je.style.height=s+"px")}if(s=i,C=null,b.showHolidays){F=[];for(var j=[],V=b.holidays.length,$=0;$<V;$++){var _=b.holidays[$],Fe=K(_.title,n.empty);Oj(_,s)&&Fe!==n.empty&&j.indexOf(Fe.toLowerCase())&&(F.push(Fe),j.push(Fe.toLowerCase()))}F.length>0&&(C=F.join(", "))}for(s=C,F=[],s!==null&&ja(df," ("+s+")","light-title-bar-text"),Th(i,F),F=Ab(F),j=F.length,C=null,s=Pj(N,ba,ff,Aa,b.views.fullDay.showTimelineArrow),V=0;V<j;V++)$=Vl(F[V],i),C===null&&(C=$);o&&(i=ba,o=b.views.fullDay.showTimelineArrow,jc(N)&&jb(i)&&o?(i=Tc.offsetHeight,i=i<=1?b.spacing*4:i,Cb.scrollTop=s-i):Cb.scrollTop=C-Cb.offsetHeight/2),Tc.offsetHeight<=1&&(Tc.style.display="none"),$a(Hj,nc.length>0),Qj(Aa)}function Th(i,o){Db(function(s){for(var C=Vc(s.from,s.to)+1,F=new Date(s.from),j=0;j<C;j++){if(Z(F,i)){o.push(s);break}cb(F)}C=L(s.repeatEvery),C>z.never&&(C===z.everyDay?tc(s,o,i,cb,1):C===z.everyWeek?tc(s,o,i,Xb,1):C===z.every2Weeks?tc(s,o,i,Xb,2):C===z.everyMonth?tc(s,o,i,le,1):C===z.everyYear?tc(s,o,i,Bd,1):C===z.custom&&(C=L(s.repeatEveryCustomType),F=L(s.repeatEveryCustomValue),F>0&&(C===O.daily?tc(s,o,i,cb,F):C===O.weekly?tc(s,o,i,Xb,F):C===O.monthly?tc(s,o,i,le,F):C===O.yearly&&tc(s,o,i,Bd,F))))})}function Tl(){Cd(ba),N=null,nc=[],Bg=[]}function Ul(i){b.manualEditingEnabled&&(i=wg(i,Aa),b.useTemplateWhenAddingNewEvent?(i=Q(i[0])+":"+Q(i[1]),i=yd(N,N,i,i),T(i),zd()):T(null,N,i))}function sj(){if(Cg(N),b.visibleDays.length<7)for(var i=ca(N);b.visibleDays.indexOf(i)===G.notFound;)Cg(N),i=ca(N);Za(N,!0)}function wj(){Nj(!0)}function Aj(){N=new Date,Za(N,!0)}function Nj(i){if(i=r(i)?i:!1,cb(N),b.visibleDays.length<7)for(var o=ca(N);b.visibleDays.indexOf(o)===G.notFound;)cb(N),o=ca(N);i&&Za(N,!0)}function ul(){if(!w&&b.views.fullWeek.enabled){var i=ia!==null;i&&(ia.innerHTML=n.empty,Dd=null),i||(ia=k("div","full-week-view"),ia.id=kc(),E.appendChild(ia)),i=k("div","title-bar"),ia.appendChild(i),b.fullScreenModeEnabled&&(i.ondblclick=bb),Ua=k("div","title"),i.appendChild(Ua),x(i,"ib-close",b.closeTooltipText,function(){oc=[],Cd(ia)}),i.appendChild(k("div","right-divider-line")),b.views.fullWeek.showExtraTitleBarButtons&&b.fullScreenModeEnabled&&(ai=x(i,"ib-arrow-expand-left-right",b.enableFullScreenTooltipText,bb),i.appendChild(k("div","right-divider-line-full-screen-mode"))),x(i,"ib-arrow-right-full",b.nextWeekTooltipText,xj),b.manualEditingEnabled&&b.views.fullWeek.showExtraTitleBarButtons&&x(i,"ib-plus",b.addEventTooltipText,function(){T(null,new Date(Rj))}),!w&&sd()&&(x(i,"ib-hamburger",b.showMenuTooltipText,Sc),i.appendChild(k("div","left-divider-line"))),x(i,"ib-arrow-left-full",b.previousWeekTooltipText,tj),b.views.fullWeek.showExtraTitleBarButtons&&(x(i,"ib-pin",b.thisWeekTooltipText,Bj),b.jumpToDateEnabled&&x(i,"ib-arrow-right-full-line",b.jumpToDateTitle,function(){ge()}),i.appendChild(k("div","left-divider-line-events")),x(i,"ib-refresh",b.refreshTooltipText,function(){Pa(!0,!0)}),y.enabled&&(Sj=x(i,"ib-search",b.searchTooltipText,he))),Ed=k("div","contents custom-scroll-bars"),ia.appendChild(Ed),Wl()}}function Wl(){var i=k("div","header-days-container");Ed.appendChild(i),b.views.fullWeek.showDayNamesHeaders&&(Dd=k("div","row-cells header-days"),i.appendChild(Dd)),Fd=k("div","content-events-all-day"),Ed.appendChild(Fd),me=k("div","row-cells days"),Fd.appendChild(me),i=k("div","all-day-text"),D(i,b.allDayText),Fd.appendChild(i),ne=k("div","hours"),Ed.appendChild(ne),Kj(ne,b.views.fullWeek.minutesBetweenSections),lf=k("div","row-cells days"),ne.appendChild(lf)}function bi(i,o,s){for(;i<o;i++)b.visibleDays.indexOf(i)>G.notFound&&Xl(s,i)}function Xl(i,o){var s=k("div",Dg()),C=k("div",Dg()),F=new Date(i[o]);s.id="calendar-week-day-"+o,C.id="calendar-week-all-day-"+o,lf.appendChild(s),me.appendChild(C),s.ondblclick=function(j){b.manualEditingEnabled&&(j=wg(j,s),b.useTemplateWhenAddingNewEvent?(j=Q(j[0])+":"+Q(j[1]),j=yd(F,F,j,j),T(j),zd()):T(null,F,j))},Eg(C,F.getFullYear(),F.getMonth(),F.getDate()),Yl(s,o),jc(F)&&Zl(s,F),b.manualEditingEnabled&&b.dragAndDropForEventsEnabled&&(s.ondragover=J,s.ondragenter=J,s.ondragleave=J,s.ondrop=function(j){Jj(j,F,ne)}),s.oncontextmenu=function(j){var V=wg(j,s);ef=Q(V[0])+":"+Q(V[1]),Ij(j,F,mf[o])}}function Zl(i,o){oe=k("div","time-arrow"),i.appendChild(oe),oe.appendChild(k("div","arrow-left")),oe.appendChild(k("div","line")),Fg=Pj(o,ia,oe,i,b.views.fullWeek.showTimelineArrow)}function Yl(i,o){if(b.workingHoursStart!==null&&b.workingHoursEnd!==null&&b.workingDays.indexOf(o)>=0){var s=Ta(b.workingHoursStart)&&b.workingHoursStart.hasOwnProperty(o.toString())?b.workingHoursStart[o.toString()]:b.workingHoursStart,C=Ta(b.workingHoursEnd)&&b.workingHoursEnd.hasOwnProperty(o.toString())?b.workingHoursEnd[o.toString()]:b.workingHoursEnd;s!==null&&C!==null&&s!==C&&(o=i.offsetHeight/1440,s=s.split(":"),C=C.split(":"),s=(parseInt(s[0])*60+parseInt(s[1]))*o,o=(parseInt(C[0])*60+parseInt(C[1]))*o-s,C=k("div","working-hours"),i.appendChild(C),C.style.display="block",C.style.top=s+"px",C.style.height=o+"px")}}function Tj(i,o){i.getFullYear()===o.getFullYear()?(i.getMonth()===o.getMonth()?(Tb(Ua,i),ja(Ua," - "),Tb(Ua,o,null,n.space),ja(Ua,b.monthNames[i.getMonth()])):(qc(Ua,i,!1,!1),ja(Ua," - "),qc(Ua,o,!1,!1)),ja(Ua,", "+i.getFullYear())):(qc(Ua,i,!1,!0),ja(Ua," - "),qc(Ua,o,!1,!0))}function uc(i,o,s,C,F){for(var j=new Date(i.from),V=Uc(i.repeatEveryExcludeDays),$=!1;j<s;){C(j,F);var _=!(!r(i.repeatEnds)||$e(j,i.repeatEnds));if(V.indexOf(j.getDay())===G.notFound&&!_&&j>=o&&j<=s){_=Ea("calendar-week-day-"+ca(j));var Fe=Ea("calendar-week-all-day-"+ca(j));_!==null&&(Uj(_,Fe,i,j),$=!0)}}return $}function Uj(i,o,s,C){var F=!1,j=Uc(s.seriesIgnoreDates),V=new Date(C),$=Ad(V);if(C=new Date(C),ke(s)&&j.indexOf($)===G.notFound){var _=k("div","event");F=ca(V),_.setAttribute("event-type",L(s.type)),_.setAttribute("event-id",s.id),_.setAttribute("event-is-all-day",s.isAllDay),i.appendChild(_),_.onclick=function(Fe){Lj(Fe,_)},_.oncontextmenu=function(Fe){gf(Fe,s,$)},s.isAllDay?(o.appendChild(_),ci(_,s,V,o),di=!0):b.manualEditingEnabled&&b.dragAndDropForEventsEnabled&&!nf(s)&&(Z(s.from,s.to)&&!s.isAllDay&&(_.className+=" resizable"),_.ondragstart=function(Fe){var _e=Ze(_);xg=_,yg=_.offsetTop,Wb=s,zg=_e.top-Fe.pageY,Ag=V},_.ondragEnd=Vh,_.setAttribute("draggable",!0)),hf(_,s),de(_,s,Xe(s,V)),ee(_,s,C),Z(s.from,V)&&(_.id="week-day-"+s.id),A(b.events.onFullWeekEventRender,_,s)||(o=k("div","title"),L(s.repeatEvery)>z.never&&(j=k("div","ib-refresh-medium ib-no-hover ib-no-active"),j.style.borderColor=_.style.color,o.appendChild(j)),o.innerHTML+=rc(s.title),_.appendChild(o),s.isAllDay&&!b.views.fullWeek.showAllDayEventDetails)||(o=k("div","date"),_.appendChild(o),j=k("div","duration"),_.appendChild(j),s.from.getDate()===s.to.getDate()?s.isAllDay?D(o,b.allDayText):(D(o,fe(s.from,s.to)),D(j,Ub(s.from,s.to))):(Ye(o,s.from,s.to),D(j,Ub(s.from,s.to))),j.innerHTML===n.empty&&_.removeChild(j),Fa(s.repeatEvery)&&s.repeatEvery>z.never&&(o=k("div","repeats"),D(o,b.repeatsText.replace(":",n.empty)+n.space+vd(s.repeatEvery)),_.appendChild(o)),ab(s.location)&&(o=k("div","location"),D(o,s.location),_.appendChild(o)),ab(s.description)&&(o=k("div","description"),D(o,s.description),_.appendChild(o))),_.addEventListener("click",function(Fe){jf(Fe,s)}),s.isAllDay||Mj(i,i,V,_,s,!0),s.isAllDay||ei.push({eventDetails:s,eventElement:_,height:_.offsetHeight}),mf.hasOwnProperty(F)||(mf[F]=[]),of=of===0?_.offsetTop:qa.min(of,_.offsetTop),mf[F].push(s),F=!0}return F}function Fc(i,o){o=r(o)?o:!1;var s=r(i)?new Date(i):new Date,C=s;if(C=r(C)?new Date(C):new Date,C.getDay()>0?C.setDate(C.getDate()-C.getDay()):b.startOfWeekDay===za.monday&&C.setDate(C.getDate()-7),b.startOfWeekDay===za.monday?C.setDate(C.getDate()+1):b.startOfWeekDay===za.saturday&&C.setDate(C.getDate()-1),i=new Date(C),C=new Date(C),i.setHours(0,0,0,0),C.setDate(C.getDate()+6),C.setHours(23,59,59,99),C=[i,C],i=C[0],C=C[1],Yb=s,oe=null,oc=[],mf={},di=!1,Fg=null,of=0,Fd.style.display="none",ei=[],Rj=i,kf(ia),qd(),Ua.innerHTML=n.empty,!A(b.events.onFullWeekTitleRender,i,C)){if(b.views.fullWeek.showWeekNumbersInTitles){s=Ua;var F=b.weekText+n.space,j=new Date(i.getFullYear(),0,1),V=qa.ceil(((i-j)/864e5+j.getDay()+1)/7);j.getDay()>4&&V--,ja(s,F+V+": ")}b.reverseOrderDaysOfWeek?Tj(C,i):Tj(i,C)}for(Kh(Dd,!1),s=b.dayHeaderNames.length,F={},j=new Date(i);j<C;)F[ca(j)]=new Date(j),j.setDate(j.getDate()+1);if(lf.innerHTML=n.empty,me.innerHTML=n.empty,b.startOfWeekDay===za.saturday||b.startOfWeekDay===za.sunday?(bi(b.startOfWeekDay,s,F),bi(0,b.startOfWeekDay,F)):bi(0,s,F),b.reverseOrderDaysOfWeek&&rd(lf),Dd!==null&&b.views.fullWeek.showDatesInDayHeaders){for(s=new Date(i),F=0,j=Dd.children;s<C;)V=ca(s),b.visibleDays.indexOf(V)>G.notFound&&(j[F].innerHTML+=n.space+s.getDate()+"/"+(s.getMonth()+1),F++),s.setDate(s.getDate()+1);b.reverseOrderDaysOfWeek&&rd(Dd)}for(s=Ab(Gd()),F=s.length,j=0;j<F;j++){V=s[j];for(var $=Vc(V.from,V.to)+1,_=new Date(V.from),Fe=!1,_e=0;_e<$;_e++){if(_>=i&&_<=C){var et=Ea("calendar-week-day-"+ca(_)),tt=Ea("calendar-week-all-day-"+ca(_));et!==null&&Uj(et,tt,V,_)&&(Fe=!0)}cb(_)}Fe&&oc.push(V),_=L(V.repeatEvery),$=!1,_>z.never&&(_===z.everyDay?$=uc(V,i,C,cb,1):_===z.everyWeek?$=uc(V,i,C,Xb,1):_===z.every2Weeks?$=uc(V,i,C,Xb,2):_===z.everyMonth?$=uc(V,i,C,le,1):_===z.everyYear?$=uc(V,i,C,Bd,1):_===z.custom&&(_=L(V.repeatEveryCustomType),_e=L(V.repeatEveryCustomValue),_e>0&&(_===O.daily?$=uc(V,i,C,cb,_e):_===O.weekly?$=uc(V,i,C,Xb,_e):_===O.monthly?$=uc(V,i,C,le,_e):_===O.yearly&&($=uc(V,i,C,Bd,_e))))),$&&!Fe&&oc.push(V)}for(i=b.dayHeaderNames.length,C=0;C<i;C++)s=Ea("calendar-week-day-"+C),s!==null&&Qj(s);if(i=0,di){for(Fd.style.display="block",C=me.children.length,s=0;s<C;s++){for(F=me.children[s].children,j=F.length,Fe=V=0;Fe<j;Fe++)V+=F[Fe].offsetHeight+b.spacing;i=qa.max(i,V)}Fd.style.height=i+b.spacing+"px"}o&&(Fg!==null?(i=i<=0?b.spacing*4:i,Ed.scrollTop=Fg-i):Ed.scrollTop=of),$a(Sj,oc.length>0)}function tj(){Yb.setDate(Yb.getDate()-7),Fc(Yb,!0)}function xj(){Xb(Yb),Fc(Yb,!0)}function Bj(){Yb=new Date,Fc(Yb,!0)}function vl(){Gg=Hg=null;var i=X!==null;i&&(X.innerHTML=n.empty),i||(X=k("div","title-bar"),Ob.appendChild(X)),b.fullScreenModeEnabled&&(X.ondblclick=bb),w&&(X.onclick=function(o){J(o),Ka()}),!w&&sd()&&(x(X,"ib-hamburger",b.showMenuTooltipText,Sc),X.appendChild(k("div","left-divider-line"))),x(X,"ib-arrow-left-full",b.previousMonthTooltipText,bf),b.views.fullMonth.addYearButtons&&x(X,"ib-rewind",b.previousYearTooltipText,sg),(w||b.views.fullMonth.showExtraTitleBarButtons)&&x(X,"ib-pin",b.currentMonthTooltipText,ug),b.views.fullMonth.showExtraTitleBarButtons&&(b.jumpToDateEnabled&&x(X,"ib-arrow-right-full-line",b.jumpToDateTitle,function(){ge()}),X.appendChild(k("div","left-divider-line-events")),x(X,"ib-refresh",b.refreshTooltipText,function(){Pa(!0,!0)}),y.enabled&&(Gg=x(X,"ib-search",b.searchTooltipText,he))),w&&(x(X,"ib-close",b.closeTooltipText,hd),X.appendChild(k("div","right-divider-line"))),b.views.fullMonth.showExtraTitleBarButtons&&b.fullScreenModeEnabled&&(Hg=x(X,"ib-arrow-expand-left-right",b.enableFullScreenTooltipText,bb),X.appendChild(k("div","right-divider-line-full-screen-mode"))),x(X,"ib-arrow-right-full",b.nextMonthTooltipText,cf),b.views.fullMonth.addYearButtons&&x(X,"ib-forward",b.nextYearTooltipText,tg),b.views.fullMonth.showExtraTitleBarButtons&&b.manualEditingEnabled&&x(X,"ib-plus",b.addEventTooltipText,function(){Vj(B,new Date)?T(null):T(null,new Date(B.getFullYear(),B.getMonth(),1))}),w||((b.views.timeline.enabled||b.views.allEvents.enabled||b.views.fullYear.enabled||b.views.fullWeek.enabled||b.views.fullDay.enabled)&&X.appendChild(k("div","right-divider-line-views")),b.views.timeline.enabled&&x(X,"ib-bar-graph",b.viewTimelineTooltipText,function(){Pb(null,!0)}),b.views.allEvents.enabled&&x(X,"ib-eye",b.viewAllEventsTooltipText,function(){Ph(!0)}),b.views.fullYear.enabled&&x(X,"ib-expand",b.viewFullYearTooltipText,function(){Gc(null,!0)}),b.views.fullWeek.enabled&&x(X,"ib-hamburger-side",b.viewFullWeekTooltipText,function(){Fc(null,!0)}),b.views.fullDay.enabled&&x(X,"ib-hourglass",b.viewFullDayTooltipText,function(){Za(null,!0)})),i=k("div","title-container"),X.appendChild(i),$l(i),am(i)}function xb(){w||tb===null||(b.views.fullMonth.pinUpViewImageUrls.length>0?(tb.style.backgroundImage="url('"+b.views.fullMonth.pinUpViewImageUrls[Wc]+"')",Wc++,Wc===b.views.fullMonth.pinUpViewImageUrls.length&&(Wc=0)):b.views.fullMonth.pinUpViewImageCssClasses.length>0&&(tb.className="pin-up"+n.space+b.views.fullMonth.pinUpViewImageCssClasses[Wc],Wc++,Wc===b.views.fullMonth.pinUpViewImageCssClasses.length&&(Wc=0)),Wj())}function Wj(){if(!w&&tb!==null&&!A(b.events.onFullMonthPinUpRender,tb,B)){var i=new Date;if(fi===null||!Z(fi,i)){tb.innerHTML=n.empty,fi=i;var o=k("div","pin-up-text"),s=k("div","day"),C=k("div","month"),F=k("div","year");if(o.onclick=function(){T(null,i)},Va(o,b.addEventTooltipText),tb.appendChild(o),o.appendChild(s),o.appendChild(C),o.appendChild(F),ja(s,i.getDate()),b.showDayNumberOrdinals&&(o=Ig(i.getDate()),r(o))){var j=k("sup");j.innerText=o,s.appendChild(j)}D(C,b.monthNames[i.getMonth()]),D(F,i.getFullYear())}}}function fj(i,o){var s=r(i);if(i=s?i:Ob,o=r(o)?o:"calendar-day-",!s&&pf.length>0){for(var C=pf.length,F=0;F<C;F++)i.removeChild(pf[F]);pf=[]}for(C=0;C<6;C++){F=k("div","row-cells days"),i.appendChild(F),s||pf.push(F);for(var j=0;j<7;j++){var V=j;if((b.startOfWeekDay===za.saturday||b.startOfWeekDay===za.sunday)&&(V=b.startOfWeekDay+j,V>=7&&(V-=7)),b.visibleDays.indexOf(V)>G.notFound){V=C*7+(j+1);var $=k("div",Dg(b.views.fullMonth.allowEventScrolling));$.id=o+V,F.appendChild($),b.views.fullMonth.allowEventScrolling&&($.className+=" scrollY"),b.views.fullMonth.minimumDayHeight>0&&($.style.height=b.views.fullMonth.minimumDayHeight+"px")}}b.reverseOrderDaysOfWeek&&rd(F)}}function Dg(i){i=r(i)?i:!1;var o="cell cell-"+b.visibleDays.length;return i&&(o+=" custom-scroll-bars"),o}function $l(i){pe=k("span","year-dropdown-button"),pe.ondblclick=J,pe.onclick=bm,i.appendChild(pe),Nh=k("span"),pe.appendChild(Nh),Jg=k("span","ib-arrow-down-full-medium"),pe.appendChild(Jg)}function am(i){var o=new Date(b.minimumYear,1,1),s=null;if(Zb=k("div",b.views.fullMonth.showMonthButtonsInYearDropDownMenu?"years-drop-down":"years-drop-down-no-months"),i.appendChild(Zb),b.views.fullMonth.showMonthButtonsInYearDropDownMenu)for(i=0;i<12;i++)i%3===0&&(s=k("div","months"),Zb.appendChild(s)),cm(s,i);for(qf=k("div","contents custom-scroll-bars"),Zb.appendChild(qf);dm(o.getFullYear()),Bd(o),!(o.getFullYear()>b.maximumYear););}function cm(i,o){var s=k("div","month-name"),C=b.monthNamesAbbreviated[o];s.onclick=function(F){J(F),B.getMonth()!==o&&(B.setMonth(o),A(b.events.onSetDate,B),R(B),rg(),xb())},D(s,C),i.appendChild(s),Xc[o.toString()]=s}function dm(i){var o=k("div");o.className="year",o.innerText=i.toString(),o.id="year-selected-"+i.toString(),qf.appendChild(o),o.ondblclick=J,o.onclick=function(s){J(s),B.getFullYear()!==i&&(B.setFullYear(i),A(b.events.onSetDate,B),R(B),rg(),xb())}}function em(){var i=Zb.getElementsByClassName("year"),o=i.length;if(o>=1)for(var s=0;s<o;s++)i[s].className!=="year"&&(i[s].className="year");if(i=Ea("year-selected-"+B.getFullYear()),i!==null&&(i.className+=" year-selected"),!w){var C=[];Db(function(F){if(F=F.from.getFullYear(),C.indexOf(F)===G.notFound){var j=Ea("year-selected-"+F);j!==null&&j.className.indexOf(" year-selected")===G.notFound&&(j.className+=" year-has-events"),C.push(F)}})}return i}function bm(i){if(J(i),Zb.style.display!=="block"){Ka(),Zb.style.display="block",Jg.className="ib-arrow-up-full-medium";for(var o in Xc)Xc.hasOwnProperty(o.toString())&&(Xc[o.toString()].className="month-name");i=B.getMonth().toString(),o=new Date,B.getFullYear()===o.getFullYear()&&(o=o.getMonth().toString(),Xc.hasOwnProperty(o)&&(Xc[o].className="month-name-current-month")),Xc.hasOwnProperty(i)&&(Xc[i].className="month-name-selected"),i=em(),qf.scrollTop=i!==null?i.offsetTop-qf.offsetTop-b.spacing:0}else rg()}function rg(){var i=!1;return Kg()&&(Jg.className="ib-arrow-down-full-medium",Zb.style.display="none",i=!0),i}function Kg(){return Zb!==null&&Zb.style.display==="block"}function Lh(i,o,s,C,F,j){if(o=Ea("calendar-day-"+o),o!==null){var V=new Date,$=i===V.getDate()&&C===V.getFullYear()&&s===V.getMonth();V=k("span");var _=new Date(C,s,i);F=F?" day-muted":n.empty;var Fe=!0;if(j=r(j)?j:!1,o.innerHTML=n.empty,o.className=o.className.replace(" cell-today",n.empty).replace(" cell-selected",n.empty).replace(" cell-no-click",n.empty),w&&$&&(o.className+=" cell-today"),w&&!$&&Ic!==null&&Z(_,Ic)&&(o.className+=" cell-selected"),w?(Fe=pj(_),Fe||(o.className+=" cell-no-click",V.className="no-click")):V.className=n.empty,V.className+=F,V.className+=$&&!w?" today":n.empty,V.innerText=i,i!==1||w||(V.className+=" first-day"),b.weekendDays.indexOf(_.getDay())>=0&&o.className.indexOf("weekend-day")===G.notFound&&(o.className+=" weekend-day"),b.workingDays.indexOf(ca(_))>=0&&o.className.indexOf("working-day")===G.notFound&&(o.className+=" working-day"),o.oncontextmenu=function(et){Lg(et,_)},b.showDayNumberOrdinals&&($=Ig(i),r($))){var _e=k("sup");_e.innerText=$,V.appendChild(_e)}o.appendChild(V),o.appendChild(k("span","blank")),b.views.fullDay.enabled&&(V=k("div","ib-arrow-expand-left-right-icon"),o.appendChild(V),Va(V,b.expandDayTooltipText),V.onclick=function(){Za(_,!0)}),j&&b.views.fullMonth.showPreviousNextMonthNames&&ja(o,b.monthNames[s],"month-name"+F,function(){i===1?cf():bf()},!0,!0),fm(_,F,o),b.manualEditingEnabled&&(o.ondblclick=function(){if(b.useTemplateWhenAddingNewEvent){var et=yd(_,_);T(et),zd()}else T(null,_)},Eg(o,C,s,i)),w&&(o.onclick=Fe?function(et){J(et),Kg()?Ka():(et=new Date(_),et.setHours(0,0,0,0),hd(),Qh(_),A(b.events.onDatePickerDateChanged,et),Ic=et)}:J),b.views.fullMonth.useOnlyDotEvents&&o.appendChild(k("div","dots-separator"))}}function La(){for(var i=0;i<6;i++)for(var o=0;o<7;o++){var s=Ea("calendar-day-"+(i*7+(o+1)));s!==null&&($h(s,"event"),$h(s,"plus-x-events"))}for(Rh(),qe=!1,kd=[],Hd={},i=Ab(Gd()),o=i.length,s=0;s<o;s++){var C=i[s],F=C;if(gi(F.from,F),F.from.getDate()!==F.to.getDate()||F.from.getMonth()!==F.to.getMonth()||F.from.getFullYear()!==F.to.getFullYear()){var j=Vc(F.from,F.to);if(j>0)for(var V=new Date(F.from),$=0;$<j;$++)cb(V),hi(Ad(V),F.id),ii(V)!==null&&gi(V,F)}ke(C)&&kd.push(C),F=L(C.repeatEvery),F>z.never&&(F===z.everyDay?vc(C,cb,1):F===z.everyWeek?vc(C,Xb,1):F===z.every2Weeks?vc(C,Xb,2):F===z.everyMonth?vc(C,le,1):F===z.everyYear?vc(C,Bd,1):F===z.custom&&(F=L(C.repeatEveryCustomType),j=L(C.repeatEveryCustomValue),j>0&&(F===O.daily?vc(C,cb,j):F===O.weekly?vc(C,Xb,j):F===O.monthly?vc(C,le,j):F===O.yearly&&vc(C,Bd,j))))}Xj!==qe&&(Xj=qe,A(b.events.onBusyStateChange,qe)),Gg!==null&&$a(Gg,kd.length>0),Sh()}function vc(i,o,s){for(var C=new Date(i.from),F=Uc(i.repeatEveryExcludeDays),j=new Date(b.maximumYear,11,31);C<j;){o(C,s);var V=!(!r(i.repeatEnds)||$e(C,i.repeatEnds));F.indexOf(C.getDay())!==G.notFound||V||(hi(Ad(C),i.id),C<Mh&&ii(C)!==null&&gi(C,i))}}function gi(i,o){var s=ii(i),C=Uc(o.seriesIgnoreDates),F=Ad(i),j=new Date(i);if(ke(o)&&C.indexOf(F)===G.notFound&&(hi(F,o.id),s!==null&&(gm(i,o),!w)))if(s.getElementsByClassName("event").length<b.views.fullMonth.maximumEventsPerDayDisplay||b.views.fullMonth.maximumEventsPerDayDisplay<=0||b.views.fullMonth.useOnlyDotEvents){if(C=k("div","event"),C.setAttribute("event-type",L(o.type)),C.setAttribute("event-id",o.id),C.setAttribute("event-is-all-day",o.isAllDay),b.views.fullMonth.useOnlyDotEvents)C.className+=" event-circle";else if(!A(b.events.onFullMonthEventRender,C,o)){var V=o.title,$=L(o.repeatEvery);b.views.fullMonth.showTimesInEvents&&!o.isAllDay&&o.from.getDate()===o.to.getDate()&&(V=fe(o.from,o.to)+": "+V),$>z.never&&($=k("div","ib-refresh-small ib-no-hover ib-no-active"),$.style.borderColor=C.style.color,C.appendChild($)),C.innerHTML+=rc(V)}s.appendChild(C),ci(C,o,i,s),hf(C,o),de(C,o,Xe(o,i),b.views.fullMonth.applyCssToEventsNotInCurrentMonth),ee(C,o,j),Z(o.from,i)&&(C.id="day-"+o.id),C.onmousemove=function(_){Id!==null&&Id.id===o.id?J(_):ji(_,o)},C.oncontextmenu=function(_){gf(_,o,F)},C.addEventListener("click",function(_){jf(_,o)})}else hm(s,i)}function hm(i,o){var s=i.getElementsByClassName("plus-x-events");if(s=s.length>0?s[0]:null,s===null){var C=new Date(o);s=k("div","plus-x-events"),s.setAttribute("events","1"),s.ondblclick=J,i.appendChild(s),(b.views.fullMonth.applyCssToEventsNotInCurrentMonth&&o.getMonth()!==B.getMonth()||o.getFullYear()!==B.getFullYear())&&(s.className+=" day-muted"),D(s,"+1 "+b.moreText),b.views.fullDay.enabled?s.onclick=function(){Za(C,!0)}:s.className+=n.space+"prevent-pointer-events"}else i=parseInt(s.getAttribute("events"))+1,s.setAttribute("events",i.toString()),D(s,"+"+i+n.space+b.moreText)}function ii(i){var o=new Date(B.getFullYear(),B.getMonth(),1),s=new Date(B),C=new Date(B),F=null,j=0;return o=ca(o),s.setMonth(s.getMonth()+1),C.setMonth(C.getMonth()-1),i.getMonth()===s.getMonth()&&i.getFullYear()===s.getFullYear()?(s=o+gd(B.getFullYear(),B.getMonth()),j=Pe(i.getDate()+s)):i.getMonth()===C.getMonth()&&i.getFullYear()===C.getFullYear()?j=Pe(o-Vc(i,B)+1):i.getMonth()===B.getMonth()&&i.getFullYear()===B.getFullYear()&&(s=o,j=Pe(i.getDate()+s)),j>0&&(F=Ea("calendar-day-"+j)),F}function hi(i,o){Hd.hasOwnProperty(i)||(Hd[i]=[]),Hd[i].indexOf(o)===G.notFound&&Hd[i].push(o)}function wl(){if(!w&&b.views.fullYear.enabled){var i=Ga!==null;i&&(Ga.innerHTML=n.empty),i||(Ga=k("div","full-year-view"),Ga.id=kc(),E.appendChild(Ga)),i=k("div","title-bar"),Ga.appendChild(i),b.fullScreenModeEnabled&&(i.ondblclick=bb),ki=k("div","title"),i.appendChild(ki),!w&&sd()&&(x(i,"ib-hamburger",b.showMenuTooltipText,Sc),i.appendChild(k("div","left-divider-line"))),x(i,"ib-arrow-left-full",b.previousYearTooltipText,uj),b.views.fullYear.showExtraTitleBarButtons&&(x(i,"ib-pin",b.currentYearTooltipText,Cj),b.jumpToDateEnabled&&x(i,"ib-arrow-right-full-line",b.jumpToDateTitle,function(){ge()}),i.appendChild(k("div","left-divider-line-events")),x(i,"ib-refresh",b.refreshTooltipText,function(){Pa(!0,!0)})),x(i,"ib-close",b.closeTooltipText,function(){Cd(Ga)}),i.appendChild(k("div","right-divider-line")),b.views.fullYear.showExtraTitleBarButtons&&b.fullScreenModeEnabled&&(li=x(i,"ib-arrow-expand-left-right",b.enableFullScreenTooltipText,bb),i.appendChild(k("div","right-divider-line-full-screen-mode"))),x(i,"ib-arrow-right-full",b.nextYearTooltipText,yj),b.views.fullYear.showExtraTitleBarButtons&&b.manualEditingEnabled&&x(i,"ib-plus",b.addEventTooltipText,function(){T(null,new Date(wa,0,1))}),re=k("div","contents custom-scroll-bars"),Ga.appendChild(re)}}function im(i){var o=new Date(wa,i,1),s=function(){for(Z(B,o)||(R(o),xb());Bb.length>0;)Fj(!1);rf()},C=k("div","year-month");re.appendChild(C);var F=k("div","title-bar-container");C.appendChild(F);var j=k("div","title-bar");j.ondblclick=s,D(j,b.monthNames[i]),F.appendChild(j),x(j,"ib-arrow-expand-left-right",b.expandMonthTooltipText,s),b.manualEditingEnabled&&(j.appendChild(k("div","right-divider-line")),x(j,"ib-plus",b.addEventTooltipText,function(){T(null,o)})),s=k("div","row-cells header-days"),C.appendChild(s),Kh(s),s=i+1+"-month-",F=new Date(wa,i,1),F=Pe(F.getDay()===0?7:F.getDay()),fj(C,s),F>1&&jm(F,s,i),F=km(F,s,i),j=F[0],lm(F[1],s,i),j&&(Mg=C.offsetTop)}function jm(i,o,s){s=new Date(wa,s,1),s.setMonth(s.getMonth()-1);var C=gd(s.getFullYear(),s.getMonth());for(--i;i>0;)mm(o,i,s,C),i--,C--}function mm(i,o,s,C){if(i=Ea(i+o),i!==null){var F=new Date(s.getFullYear(),s.getMonth(),C);i.className+=" cell-muted",b.views.fullDay.enabled&&(i.onclick=function(){Za(F,!0)}),i.oncontextmenu=function(j){Lg(j,F)},mi(i,F),Tb(i,F)}}function km(i,o,s){for(var C=0,F=gd(wa,s),j=!1,V=0;V<F;V++)C=i+V,nm(o,s,V,C)&&(j=!0);return[j,C]}function nm(i,o,s,C){if(i=Ea(i+C),C=!1,i!==null){var F=new Date(wa,o,s+1);b.views.fullDay.enabled&&(i.onclick=function(){Za(F,!0)}),i.oncontextmenu=function(j){Lg(j,F)},C=mi(i,F,!0),Tb(i,F)}return C}function lm(i,o,s){if(i<42){s=new Date(wa,s,1);var C=1;for(s.setMonth(s.getMonth()+1),i+=1;i<43;i++)om(o,s,i,C),C++}}function om(i,o,s,C){if(i=Ea(i+s),i!==null){var F=new Date(o.getFullYear(),o.getMonth(),C);i.className+=" cell-muted",b.views.fullDay.enabled&&(i.onclick=function(){Za(F,!0)}),i.oncontextmenu=function(j){Lg(j,F)},mi(i,F),Tb(i,F)}}function mi(i,o,s){var C=Ad(o),F=!1;if(s=r(s)?s:!1,b.weekendDays.indexOf(o.getDay())>=0&&(i.className+=" weekend-day"),b.workingDays.indexOf(ca(o))>=0&&(i.className+=" working-day"),Hd.hasOwnProperty(C)){i.className+=" has-events",C=Hd[C].length;var j=k("div","events-count");j.innerText=C.toString(),i.appendChild(j)}return s&&jc(o)&&(i.className+=" cell-today",F=!0),F}function Gc(i,o){o=r(o)?o:!1,wa=r(i)?i:B.getFullYear(),Mg=0,ki.innerText=wa,o=(i=o)?0:re.scrollTop,re.innerHTML=n.empty;for(var s=0;s<12;s++)im(s);re.scrollTop=i?Mg>0?Mg-b.spacing*4:0:o,kf(Ga)}function uj(){wa>b.minimumYear&&(--wa,Gc(wa,!0))}function yj(){wa<b.maximumYear&&(wa+=1,Gc(wa,!0))}function Cj(){wa=new Date().getFullYear(),Gc(wa,!0)}function xl(){if(!w&&b.views.allEvents.enabled){var i=va!==null;i&&(va.innerHTML=n.empty),i||(va=k("div","all-events-view"),va.id=kc(),E.appendChild(va)),i=k("div","title-bar"),va.appendChild(i),b.fullScreenModeEnabled&&(i.ondblclick=bb);var o=k("div","title");D(o,b.allEventsText),i.appendChild(o),x(i,"ib-close",b.closeTooltipText,function(){Rb=[],Cd(va)}),b.views.allEvents.showExtraTitleBarButtons&&(i.appendChild(k("div","right-divider-line")),b.fullScreenModeEnabled&&(ni=x(i,"ib-arrow-expand-left-right",b.enableFullScreenTooltipText,bb),i.appendChild(k("div","right-divider-line-full-screen-mode"))),b.manualEditingEnabled&&x(i,"ib-plus",b.addEventTooltipText,function(){T(null)})),!w&&sd()&&x(i,"ib-hamburger",b.showMenuTooltipText,Sc),b.views.allEvents.showExtraTitleBarButtons&&(i.appendChild(k("div","left-divider-line-events")),x(i,"ib-refresh",b.refreshTooltipText,function(){Pa(!0,!0)}),y.enabled&&(Yj=x(i,"ib-search",b.searchTooltipText,he))),Jd=k("div","contents custom-scroll-bars"),va.appendChild(Jd)}}function pm(i){if(ke(i)){var o=qm(i.from),s=k("div","event");if(o.appendChild(s),s.oncontextmenu=function(F){gf(F,i)},ci(s,i,i.from,o),hf(s,i),de(s,i),ee(s,i),s.id="month-"+i.id,s.setAttribute("event-type",L(i.type)),s.setAttribute("event-id",i.id),s.setAttribute("event-is-all-day",i.isAllDay),!A(b.events.onAllEventsEventRender,s,i)){if(o=k("div","title"),L(i.repeatEvery)>z.never){var C=k("div","ib-refresh-medium ib-no-hover ib-no-active");C.style.borderColor=s.style.color,o.appendChild(C)}o.innerHTML+=rc(i.title),s.appendChild(o),o=k("div","date"),s.appendChild(o),C=k("div","duration"),s.appendChild(C),i.from.getDate()===i.to.getDate()?i.isAllDay?Tb(o,i.from,null," - "+b.allDayText):(Tb(o,i.from,null," - "+fe(i.from,i.to)),D(C,Ub(i.from,i.to))):(Ye(o,i.from,i.to),D(C,Ub(i.from,i.to))),C.innerHTML===n.empty&&s.removeChild(C),Fa(i.repeatEvery)&&i.repeatEvery>z.never&&(o=k("div","repeats"),D(o,b.repeatsText.replace(":",n.empty)+n.space+vd(i.repeatEvery)),s.appendChild(o)),ab(i.location)&&(o=k("div","location"),D(o,i.location),s.appendChild(o)),ab(i.description)&&(o=k("div","description"),D(o,i.description),s.appendChild(o))}s.addEventListener("click",function(F){jf(F,i)}),Rb.push(i)}}function qm(i){var o="month-"+i.getMonth()+"-"+i.getFullYear(),s=Ea(o);if(s===null){var C=new Date(i),F=function(){Rb=[],Cd(va),R(C),xb()},j=rm(i);j!==null&&Jd.appendChild(j),j=k("div","month"),Jd.appendChild(j);var V=k("div","header");if(D(V,b.monthNames[i.getMonth()]+n.space+i.getFullYear()),V.ondblclick=F,j.appendChild(V),x(V,"ib-arrow-expand-left-right",b.expandMonthTooltipText,F),V.appendChild(k("div","right-divider-line")),b.manualEditingEnabled){var $=new Date(i.getFullYear(),i.getMonth(),1);x(V,"ib-plus",b.addEventTooltipText,function(){if(b.useTemplateWhenAddingNewEvent){var Fe=yd($,$);T(Fe),zd()}else T(null,$)})}b.manualEditingEnabled&&x(V,"ib-close",b.removeEventsTooltipText,function(){Zj(C,Vj)}),F=function(){var Fe=_,_e=s;_e.style.display!=="none"?(_e.style.display="none",Fe.className="ib-square-hollow",S.visibleAllEventsMonths[o]=!1,Va(Fe,b.restoreTooltipText)):(_e.style.display="block",Fe.className="ib-minus",S.visibleAllEventsMonths[o]=!0,Va(Fe,b.minimizedTooltipText))};var _=x(V,"ib-minus",b.minimizedTooltipText,F);vg.push(F),s=k("div","events"),s.id=o,j.appendChild(s),S.visibleAllEventsMonths.hasOwnProperty(o)&&!S.visibleAllEventsMonths[o]&&(s.style.display="none",_.className="ib-square-hollow",Va(_,b.restoreTooltipText)),Eg(s,i.getFullYear(),i.getMonth(),i.getDate())}return s}function rm(i){var o=null;if(oi.indexOf(i.getFullYear())===G.notFound){oi.push(i.getFullYear()),o=k("div","year-header");var s=k("span","header-text");D(s,i.getFullYear()+":"),o.appendChild(s),b.views.fullYear.enabled?s.onclick=function(){Gc(i.getFullYear(),!0)}:s.className+=n.space+"prevent-pointer-events",o.appendChild(k("div","line"))}return o}function Ph(i){i=r(i)?i:!1,kf(va),Jd.innerHTML=n.empty,Rb=[],vg=[],oi=[],i&&(Jd.scrollTop=0),i=Ab(Gd());for(var o=i.length,s=0;s<o;s++)pm(i[s]);$a(Yj,Rb.length>0),Rb.length===0&&sm(Jd,function(){T(null)})}function yl(){if(!w&&b.views.timeline.enabled){var i=na!==null;i&&(na.innerHTML=n.empty),db===null&&(db=b.views.timeline.defaultAxis),i||(na=k("div","timeline-view"),na.id=kc(),E.appendChild(na)),i=k("div","title-bar"),na.appendChild(i),b.fullScreenModeEnabled&&(i.ondblclick=bb),Ng=k("div","title"),i.appendChild(Ng),x(i,"ib-close",b.closeTooltipText,function(){Jc=[],Cd(na)}),i.appendChild(k("div","right-divider-line")),b.views.timeline.showExtraTitleBarButtons&&b.fullScreenModeEnabled&&(pi=x(i,"ib-arrow-expand-left-right",b.enableFullScreenTooltipText,bb),i.appendChild(k("div","right-divider-line-full-screen-mode"))),x(i,"ib-arrow-right-full",b.nextYearTooltipText,zj),b.views.timeline.showExtraTitleBarButtons&&b.manualEditingEnabled&&x(i,"ib-plus",b.addEventTooltipText,function(){T(null,new Date(fa))}),b.views.fullDay.enabled&&(i.appendChild(k("div","right-divider-line-views")),x(i,"ib-hourglass",b.viewFullDayTooltipText,function(){Za(fa,!0)})),!w&&sd()&&(x(i,"ib-hamburger",b.showMenuTooltipText,Sc),i.appendChild(k("div","left-divider-line"))),x(i,"ib-arrow-left-full",b.previousYearTooltipText,vj),b.views.timeline.showExtraTitleBarButtons&&(ak=x(i,"ib-pin",b.currentYearTooltipText,Dj),b.jumpToDateEnabled&&x(i,"ib-arrow-right-full-line",b.jumpToDateTitle,function(){ge()}),i.appendChild(k("div","left-divider-line-events")),x(i,"ib-refresh",b.refreshTooltipText,function(){Pa(!0,!0)}),y.enabled&&(bk=x(i,"ib-search",b.searchTooltipText,he))),Wa=k("div","contents custom-scroll-bars"),Wa.addEventListener("scroll",pc),na.appendChild(Wa)}}function tm(i,o){var s=k("div","event"),C=Ad(fa),F=new Date(fa);if(s.id="timeline-day-"+o.id,s.setAttribute("event-type",L(o.type)),s.setAttribute("event-id",o.id),s.setAttribute("event-is-all-day",o.isAllDay),i.appendChild(s),!A(b.events.onTimelineEventRender,s,o)){if(L(o.repeatEvery)>z.never){var j=k("div","ib-refresh-medium ib-no-hover ib-no-active");j.style.borderColor=s.style.color,s.appendChild(j)}s.innerHTML+=rc(o.title)}s.oncontextmenu=function(V){gf(V,o,C)},s.addEventListener("click",function(V){jf(V,o)}),s.onmousemove=function(V){Id!==null&&Id.id===o.id?J(V):ji(V,o)},ee(s,o,F),hf(s,o),de(s,o,Xe(o,fa)),s=um(i,fa,s,o),sf=sf===null?s:qa.min(sf,s),tf=tf===null?i.offsetTop:qa.min(tf,i.offsetTop)}function Pb(i,o){i=r(i)?new Date(i):new Date,o=r(o)?o:!1;var s=new Date,C=ca(s),F=b.visibleDays.indexOf(C)>G.notFound,j=[];C=Wa.scrollLeft;var V=Wa.scrollTop;Ng.innerHTML=n.empty,Wa.innerHTML=n.empty,Jc=[],fa=i,Og={},tf=sf=null,uf=[],Z(i,s)&&!F&&ck(),Th(fa,j),$a(ak,F),vf=k("div","timeline-header"),Wa.appendChild(vf),i=k("div","timeline-header-item"),s=n.empty,db==="group"?s=b.groupText:db==="organizerName"?s=b.organizerNameText:db==="location"?s=b.locationText:db==="organizerEmailAddress"?s=b.organizerEmailAddressText:db==="url"?s=b.urlText:db==="title"?s=b.titleText:db==="description"&&(s=b.descriptionText),i.innerHTML=s,vf.appendChild(i),x(i,"ib-arrow-left-full",b.previousPropertyTooltipText,vm),x(i,"ib-arrow-right-full",b.nextPropertyTooltipText,wm),i=b.views.timeline.minutesBetweenSections,s=new Date,F=new Date;var $=0,_=0;for(F.setHours(0,0,0,0),60%i!==0&&(i=30);Z(F,s);){var Fe=k("div","timeline-header-item");Fe.innerText=Eb(new Date(F)),vf.appendChild(Fe),F=lb(F,i),Fe=k("div","timeline-header-item"),Fe.innerText=Eb(new Date(F)),vf.appendChild(Fe),F=lb(F,i),Fe=k("div","timeline-column"),Fe.style.left=$+"px",Wa.appendChild(Fe),_===0&&(_=Se(Fe,"border-right-width"),_=Fe.clientWidth+_),$+=_;var _e=k("div","timeline-column");_e.style.left=$+"px",Wa.appendChild(_e),$+=_,uf.push(Fe),uf.push(_e)}if(kf(na),j=Ab(j),i=j.length,s=0,i>0)for(F=0;F<i;F++){if($=j[F],Fe=K($[db],b.noneText),_=Fe.toLowerCase(),$.isAllDay&&(Fe=b.allDayText+": "+Fe,_=_+"-"+$.id),Og.hasOwnProperty(_))Fe=Og[_];else{_e=k("div","timeline-row"),Wa.appendChild(_e);var et=k("div","timeline-row-item"+(s%2!==0?" timeline-row-item-odd":n.empty));D(et,Fe),_e.appendChild(et),Fe=k("div","timeline-row-items"),_e.appendChild(Fe),_e=b.views.timeline.minutesBetweenSections,et=new Date;var tt=new Date;for(tt.setHours(0,0,0,0),60%_e!==0&&(_e=30);Z(tt,et);){var lt=k("div","timeline-row-item-spacing");Fe.appendChild(lt),tt=lb(tt,_e),lt=k("div","timeline-row-item-spacing"),Fe.appendChild(lt),tt=lb(tt,_e)}Og[_]=Fe,s++}tm(Fe,$),Jc.push($)}for(j=uf.length,s=i=0;s<j;s++)F=uf[s],i===0&&(i=Wa.scrollHeight-F.offsetTop),F.style.height=i+"px";A(b.events.onTimelineTitleRender,N)||qc(Ng,fa,!1,!0,!0),o?(Wa.scrollLeft=sf,Wa.scrollTop=tf):(Wa.scrollLeft=C,Wa.scrollTop=V),$a(bk,Jc.length>0)}function vj(){if(Cg(fa),b.visibleDays.length<7)for(var i=ca(fa);b.visibleDays.indexOf(i)===G.notFound;)Cg(fa),i=ca(fa);Pb(fa,!0)}function zj(){ck(!0)}function Dj(){fa=new Date,Pb(fa,!0)}function vm(){var i=se.indexOf(db);i--,i<0&&(i=se.length-1),db=se[i],Pb(fa)}function wm(){var i=se.indexOf(db);i++,i>se.length-1&&(i=0),db=se[i],Pb(fa)}function ck(i){if(i=r(i)?i:!1,cb(fa),b.visibleDays.length<7)for(var o=ca(fa);b.visibleDays.indexOf(o)===G.notFound;)cb(fa),o=ca(fa);i&&Pb(fa,!0)}function Ba(i,o,s,C,F){F=r(F)?F:!1;var j=k("div","item");return i.appendChild(j),j.appendChild(k("div",o)),i=k("div","menu-text"),D(i,s),j.appendChild(i),F&&(i.className+=" bold"),j.onclick=function(){C()},j}function eb(i){var o=k("div","separator");return i.appendChild(o),o}function qg(i){var o=!1;return te(i)&&(i.style.display="none",o=!0),o}function te(i){return i!==null&&i.style.display==="block"}function dk(){return te(Ma)||te(da)||te(Sa)||te(ub)||te(Fb)}function Dl(){Ma!==null&&(mb(I.body,Ma),Pg=qi=null),Ma=k("div","calendar-context-menu"),Ca.push(Ma),I.body.appendChild(Ma),b.manualEditingEnabled&&Ba(Ma,"ib-plus-icon",b.addEventTitle+"...",function(){if(b.useTemplateWhenAddingNewEvent){var i=yd(Kd,Kd);T(i),zd()}else T(null,Kd)},!0),b.views.fullDay.enabled&&(eb(Ma),Ba(Ma,"ib-arrow-expand-left-right-icon",b.expandDayTooltipText,function(){Za(Kd,!0)})),b.views.fullWeek.enabled&&(eb(Ma),Ba(Ma,"ib-hamburger-side-icon",b.viewFullWeekText,function(){Fc(Kd,!0)})),b.manualEditingEnabled&&(qi=eb(Ma),Pg=Ba(Ma,"ib-circle-icon",b.pasteText,function(){Xh(Kd,Vb)}))}function Lg(i,o){w||Ma===null||(la(i)||sc(),Kd=new Date(o),Pg!==null&&(o=oa.length>0?"block":"none",qi.style.display=o,Pg.style.display=o),Ka(),J(i),wf(i,Ma))}function El(){da!==null&&(mb(I.body,da),Qg=Rg=xf=yf=zf=Af=Bf=Cf=Df=Ef=Ff=Gf=da=null),da=k("div","calendar-context-menu"),Ca.push(da),I.body.appendChild(da),b.manualEditingEnabled&&(zf=Ba(da,"ib-edit-icon",b.editEventTitle+"...",function(){T(fb,null,null,ek)},!0),Df=eb(da),Cf=Ba(da,"ib-pipe-icon",b.cutText,function(){ie(),Vb=!0,fk(fb),ie(!1)}),Bf=eb(da),Af=Ba(da,"ib-circle-hollow-icon",b.copyText,function(){ie(),Vb=!1,fk(fb),ie(!1)}),Ff=eb(da),Ef=Ba(da,"ib-equals-icon",b.duplicateText+"...",function(){T(fb),D(Yc,b.addEventTitle),Hf.value=b.addText,Sg.style.display="none",ka=ue(ka),x(Yc,"ib-close",b.closeTooltipText,Zc,!0)}),yf=eb(da),xf=Ba(da,"ib-close-icon",b.removeEventText,function(){$b(I.body,Na);var i=function(){mb(I.body,Na)},o=L(fb.repeatEvery)>z.never&&If!==null;Jf(b.confirmEventRemoveTitle,b.confirmEventRemoveMessage,function(){i(),r(fb.id)&&(Tg.checked||If===null?(u.removeEvent(fb.id,!0),Xa(b.eventRemovedText.replace("{0}",fb.title))):(ya(fb.seriesIgnoreDates)?fb.seriesIgnoreDates.push(If):fb.seriesIgnoreDates=[If],La()),ra())},i,o)}),Gf=eb(da)),ri=Ba(da,"ib-arrow-top-right-icon",b.openUrlText,function(){si(fb.url)}),b.exportEventsEnabled&&(Rg=eb(da),Qg=Ba(da,"ib-arrow-down-full-line-icon",b.exportEventsTooltipText+"...",function(){jd(Ha)})),b.exportEventsEnabled&&Kf.share&&(eb(da),Ba(da,"ib-arrow-up-full-line-share-icon",b.shareText+"...",function(){var i=gk(Ha.length>0?Ha:[fb]),o={type:"text/plain"};i=new Blob([i],o),o={files:[new File([i],hk("txt",b.shareStartFilename),o)]},Kf.canShare(o)&&Kf.share(o)}))}function gf(i,o,s){if(da!==null){var C=K(o.url),F=nf(o);la(i)||sc(),fb=o,ek=new Date(s),If=r(s)?s:null,Ha.length>1?(b.manualEditingEnabled&&(zf.style.display="none",Df.style.display="none",Cf.style.display="block",Bf.style.display="block",Af.style.display="block",Ff.style.display="none",Ef.style.display="none",yf.style.display="none",xf.style.display="none"),Gf.style.display="none",ri.style.display="none",b.exportEventsEnabled&&(Rg.style.display="block",Qg.style.display="block")):(F?b.manualEditingEnabled&&(zf.style.display="block",Df.style.display="none",Cf.style.display="none",Bf.style.display="none",Af.style.display="none",Ff.style.display="none",Ef.style.display="none",yf.style.display="block",xf.style.display="block",Gf.style.display=C!==n.empty?"block":"none"):b.manualEditingEnabled&&(zf.style.display="block",Df.style.display="block",Cf.style.display="block",Bf.style.display="block",Af.style.display="block",Ff.style.display="block",Ef.style.display="block",yf.style.display="block",xf.style.display="block",Gf.style.display=C!==n.empty?"block":"none"),ri.style.display=C!==n.empty?"block":"none",b.exportEventsEnabled&&(Rg.style.display="none",Qg.style.display="none")),(C!==n.empty||da.childElementCount>1)&&(Ka(),J(i),wf(i,da))}}function Fl(){Sa!==null&&(mb(I.body,Sa),Ug=ti=ui=vi=Sa=null),b.manualEditingEnabled&&(Sa=k("div","calendar-context-menu"),Ca.push(Sa),I.body.appendChild(Sa),Ba(Sa,"ib-plus-icon",b.addEventTitle+"...",function(){if(b.useTemplateWhenAddingNewEvent){var i=yd(ve,ve,ef,ef);T(i),zd()}else T(null,ve,ef)},!0),vi=eb(Sa),ui=Ba(Sa,"ib-close-icon",b.removeEventsTooltipText,function(){Zj(ve,Z)}),ti=eb(Sa),Ug=Ba(Sa,"ib-circle-icon",b.pasteText,function(){Xh(ve,Vb)}))}function Ij(i,o,s){Sa!==null&&(la(i)||sc(),ve=o,Ug!==null&&(o=oa.length>0?"block":"none",ti.style.display=o,Ug.style.display=o),s=ya(s)&&s.length>0?"block":"none",vi.style.display=s,ui.style.display=s,Ka(),J(i),wf(i,Sa))}function Gl(){ub===null&&(ub=k("div","calendar-context-menu"),Ca.push(ub),I.body.appendChild(ub),ik=Ba(ub,"ib-close-icon",b.hideDayText,function(){b.visibleDays.splice(b.visibleDays.indexOf(jk),1),sb=!1,A(b.events.onOptionsUpdated,b),R(B,!0,!0)},!0),kk=eb(ub),lk=Ba(ub,"ib-rhombus-hollow-icon",b.showOnlyWorkingDaysText,function(){b.workingDays.length>=1&&(b.visibleDays=[].slice.call(b.workingDays),sb=!1,A(b.events.onOptionsUpdated,b),R(B,!0,!0))}),mk=eb(ub),Ba(ub,"ib-octagon-hollow-icon",b.visibleDaysText+"...",function(){Sc(!0)}))}function Yi(){Na!==null||w||(Na=k("div","disabled-background"))}function Zi(){if(!w){gb===null&&(gb=k("div","calendar-dialog event-editor"),Ca.push(gb),I.body.appendChild(gb)),gb.innerHTML=n.empty;var i=k("div","view");gb.appendChild(i),Vg=k("div","disabled-area"),i.appendChild(Vg),Yc=k("div","title-bar"),i.appendChild(Yc),Ld(Yc,gb,null);var o=k("div","contents");i.appendChild(o),i=nk(o),we(i,b.eventText,function(s){xe(s,ac,gb)},!0),we(i,b.typeText.replace(":",n.empty),function(s){xe(s,Wg,gb)}),we(i,b.repeatsText.replace(":",n.empty),function(s){xe(s,Xg,gb)}),we(i,b.optionalText,function(s){xe(s,$c,gb)}),ac=ye(o,!0,!1),Wg=ye(o,!1,!1),Xg=ye(o,!1,!1),$c=ye(o,!1,!1),xm(),ym(),zm(),i=k("div","buttons-container"),o.appendChild(i),Sg=Ia(i,b.removeEventText,"remove",Am),Hf=Ia(i,b.addText,"add-update",ok),Ia(i,b.cancelText,"cancel",Zc)}}function xm(){ua(ac,b.titleText);var i=k("div","input-title-container");ac.appendChild(i),Gb=k("input",null,"text"),i.appendChild(Gb),Gb.onkeydown=function(s){s.keyCode===U.enter&&ok()},b.maximumEventTitleLength>0&&(Gb.maxLength=b.maximumEventTitleLength);var o=function(){pk(null)};b.eventColorsEditingEnabled&&(wi=Ia(i,"...","select-colors",Bm,b.selectColorsText)),ua(ac,b.fromText.replace(":",n.empty)+"/"+b.toText),i=k("div","split"),ac.appendChild(i),bc=k("input"),bc.onchange=o,i.appendChild(bc),mc(bc,"date"),cc=k("input"),i.appendChild(cc),mc(cc,"time"),i=k("div","split"),ac.appendChild(i),nb=k("input"),nb.onchange=o,i.appendChild(nb),mc(nb,"date"),dc=k("input"),i.appendChild(dc),mc(dc,"time"),ze=M(ac,b.isAllDayText,o)[0],Lf=M(ac,b.showAlertsText)[0],Mf=M(ac,b.showAsBusyText)[0]}function ym(){var i=k("div","radio-buttons-container");Xg.appendChild(i),wc=ma(i,b.repeatsNever,"RepeatType",ad),Nf=ma(i,b.repeatsEveryDayText,"RepeatType",ad),Of=ma(i,b.repeatsEveryWeekText,"RepeatType",ad),Pf=ma(i,b.repeatsEvery2WeeksText,"RepeatType",ad),Qf=ma(i,b.repeatsEveryMonthText,"RepeatType",ad),Rf=ma(i,b.repeatsEveryYearText,"RepeatType",ad),ec=ma(i,b.repeatsCustomText,"RepeatType",ad),Yg=Ia(i,"...","repeat-options",Cm,b.repeatOptionsTitle),i=k("div","split split-margin"),Xg.appendChild(i),bd=k("input",null,"number"),bd.setAttribute("min","1"),i.appendChild(bd);var o=k("div","radio-buttons-container split-contents");i.appendChild(o),Md=ma(o,b.dailyText,"RepeatCustomType"),Sf=ma(o,b.weeklyText,"RepeatCustomType"),Tf=ma(o,b.monthlyText,"RepeatCustomType"),Uf=ma(o,b.yearlyText,"RepeatCustomType")}function zm(){var i=k("div","split");$c.appendChild(i),ua(i,b.alertOffsetText),ua(i,b.groupText),i=k("div","split"),$c.appendChild(i),Nd=k("input",null,"number"),Nd.setAttribute("min","0"),i.appendChild(Nd),Od=k("input",null,"text"),i.appendChild(Od),b.maximumEventGroupLength>0&&(Od.maxLength=b.maximumEventGroupLength),ua($c,b.descriptionText),Pd=k("textarea","custom-scroll-bars"),$c.appendChild(Pd),b.maximumEventDescriptionLength>0&&(Pd.maxLength=b.maximumEventDescriptionLength),i=k("div","split"),$c.appendChild(i),ua(i,b.urlText),ua(i,b.locationText),i=k("div","split"),$c.appendChild(i),Ae=k("input",null,"url"),i.appendChild(Ae),Qd=k("input",null,"text"),i.appendChild(Qd),b.maximumEventLocationLength>0&&(Qd.maxLength=b.maximumEventLocationLength)}function ad(){Yg.disabled=wc.checked,Uf.disabled=!ec.checked,Md.disabled=!ec.checked,Sf.disabled=!ec.checked,Tf.disabled=!ec.checked,bd.disabled=!ec.checked}function pk(i){i=r(i)?i:ka;var o=!1;(i=r(i)&&ob(i.locked)?i.locked:!1)?o=!0:ze.checked&&(nb.value=bc.value,cc.value="00:00",dc.value="23:59",o=!0),nb.disabled=o,cc.disabled=o,dc.disabled=o;var s=Be(bc),C=Be(nb);qk(nb,s),qk(Rd,C),s>C&&Hb(s,nb),i||(C>s||C<s?(o=!0,wc.checked=!0):o=!1),wc.disabled=o,Nf.disabled=o,Of.disabled=o,Pf.disabled=o,Qf.disabled=o,Rf.disabled=o,ec.disabled=o,Yg.disabled=o,bd.disabled=o,Md.disabled=o,Sf.disabled=o,Tf.disabled=o,Uf.disabled=o,i||ad()}function T(i,o,s,C){if(Yh(b.events.onBeforeEventAddEdit))A(b.events.onBeforeEventAddEdit,i);else{$b(I.body,Na);var F=gb,j=void 0;j=r(j)?j:0,F=F.getElementsByClassName("tab"),F.length>0&&F[j].click(),Wg.innerHTML=n.empty,j=k("div","radio-buttons-container"),Wg.appendChild(j);for(var V in P)P.hasOwnProperty(V)&&(P[V].eventEditorInput=ma(j,P[V].text,"Type"));r(i)?(D(Yc,b.editEventTitle),rk(i.type),Hf.value=b.updateText,Sg.style.display="inline-block",ka=i,cc.value=Eb(i.from,!1),dc.value=Eb(i.to,!1),ze.checked=xi(i.isAllDay),Lf.checked=xi(i.showAlerts,!0),Mf.checked=xi(i.showAsBusy,!0),Gb.value=K(i.title),Pd.value=K(i.description),Qd.value=K(i.location),Od.value=K(i.group),Ae.value=K(i.url),Ce.value=K(i.color,b.defaultEventBackgroundColor),De.value=K(i.colorText,b.defaultEventTextColor),Ee.value=K(i.colorBorder,b.defaultEventBorderColor),bd.value=L(i.repeatEveryCustomValue,1),Nd.value=L(i.alertOffset,0),Hb(i.from,bc),Hb(i.to,nb),s=L(i.repeatEvery),s===z.never?wc.checked=!0:s===z.everyDay?Nf.checked=!0:s===z.everyWeek?Of.checked=!0:s===z.every2Weeks?Pf.checked=!0:s===z.everyMonth?Qf.checked=!0:s===z.everyYear?Rf.checked=!0:s===z.custom&&(ec.checked=!0),o=L(i.repeatEveryCustomType),o===O.daily?Md.checked=!0:o===O.weekly?Sf.checked=!0:o===O.monthly?Tf.checked=!0:o===O.yearly&&(Uf.checked=!0),o=Uc(i.repeatEveryExcludeDays),Zg.checked=o.indexOf(1)>G.notFound,$g.checked=o.indexOf(2)>G.notFound,ah.checked=o.indexOf(3)>G.notFound,bh.checked=o.indexOf(4)>G.notFound,ch.checked=o.indexOf(5)>G.notFound,dh.checked=o.indexOf(6)>G.notFound,eh.checked=o.indexOf(0)>G.notFound,Hb(i.repeatEnds,Rd),yi=s>z.never&&r(C)&&!Z(i.from,C),Vf=C):(C=new Date,o=r(o)?o:C,jc(o)&&(o.setHours(C.getHours()),o.setMinutes(C.getMinutes())),C=lb(o,b.defaultEventDuration),D(Yc,b.addEventTitle),rk(),Hf.value=b.addText,Sg.style.display="none",ka={},ze.checked=!1,Lf.checked=!0,Mf.checked=!0,Gb.value=n.empty,Pd.value=n.empty,Qd.value=n.empty,Od.value=n.empty,Ae.value=n.empty,Ce.value=b.defaultEventBackgroundColor,De.value=b.defaultEventTextColor,Ee.value=b.defaultEventBorderColor,wc.checked=!0,Zg.checked=!1,$g.checked=!1,ah.checked=!1,bh.checked=!1,ch.checked=!1,dh.checked=!1,eh.checked=!1,Rd.value=null,bd.value="1",Md.checked=!0,Nd.value=0,ya(s)&&(o.setHours(s[0]),o.setMinutes(s[1]),C.setHours(s[0]),C.setMinutes(s[1]),C=lb(C,b.defaultEventDuration)),cc.value=Eb(o,!1),dc.value=Eb(C,!1),Hb(o,bc),Hb(C,nb),yi=!1,Vf=null),x(Yc,"ib-close",b.closeTooltipText,Zc,!0),i=nf(i);for(var $ in P)P.hasOwnProperty($)&&r(P[$].eventEditorInput)&&(P[$].eventEditorInput.disabled=i);Hf.disabled=i,bc.disabled=i,nb.disabled=i,cc.disabled=i,dc.disabled=i,ze.disabled=i,Lf.disabled=i,Mf.disabled=i,Gb.disabled=i,Pd.disabled=i,Qd.disabled=i,Od.disabled=i,Ae.disabled=i,wc.disabled=i,Nf.disabled=i,Of.disabled=i,Pf.disabled=i,Qf.disabled=i,Rf.disabled=i,ec.disabled=i,Yg.disabled=i,Nd.disabled=i,wi!==null&&(wi.disabled=i),pk(),kb.push(Zc),gb.style.display="block",Gb.focus()}}function zd(){Gb.focus(),Gb.select()}function ok(){var i=cc.value.split(":"),o=dc.value.split(":"),s=Sd(Gb.value),C=Sd(Ae.value);if(i.length<2)Wf(b.fromTimeErrorMessage);else if(o.length<2)Wf(b.toTimeErrorMessage);else if(s===n.empty)Wf(b.titleErrorMessage);else if(C.length>0&&!sk(C))Wf(b.urlErrorMessage);else{var F=Be(bc),j=Be(nb),V=Sd(Pd.value),$=Sd(Qd.value),_=Sd(Od.value),Fe=Be(Rd,null),_e=parseInt(bd.value),et=Dm(),tt=parseInt(Nd.value);if(isNaN(_e)&&(_e=0,wc.checked=!0,Md.checked=!0),isNaN(tt)&&(tt=0),j<F)Wf(b.toSmallerThanFromErrorMessage);else{var lt=function(rt,nt,it,at,ot){ot=r(ot)?ot:!1,fh(nt,cc.value),fh(it,dc.value),ot?(ka.from=nt,ka.to=it,ka.repeatEnds=at):(ot=r(rt),nt={from:nt,to:it,title:s,description:V,location:$,group:_,isAllDay:ze.checked,showAlerts:Lf.checked,showAsBusy:Mf.checked,color:ka.color,colorText:ka.colorText,colorBorder:ka.colorBorder,repeatEveryExcludeDays:ka.repeatEveryExcludeDays,repeatEnds:at,url:C,repeatEveryCustomValue:_e,type:et,customTags:ka.customTags,alertOffset:tt},wc.checked?nt.repeatEvery=z.never:Nf.checked?nt.repeatEvery=z.everyDay:Of.checked?nt.repeatEvery=z.everyWeek:Pf.checked?nt.repeatEvery=z.every2Weeks:Qf.checked?nt.repeatEvery=z.everyMonth:Rf.checked?nt.repeatEvery=z.everyYear:ec.checked&&(nt.repeatEvery=z.custom),Md.checked?nt.repeatEveryCustomType=O.daily:Sf.checked?nt.repeatEveryCustomType=O.weekly:Tf.checked?nt.repeatEveryCustomType=O.monthly:Uf.checked&&(nt.repeatEveryCustomType=O.yearly),ot?nt.id=rt:(nt.organizerName=b.organizerName,nt.organizerEmailAddress=b.organizerEmailAddress),ot?(u.updateEvent(rt,nt,!1),Xa(b.eventUpdatedText.replace("{0}",ka.title))):(u.addEvent(nt,!1),Xa(b.eventAddedText.replace("{0}",nt.title))),b.isWidget?R(B):(La(),ra()))};yi?(Xf(),Jf(b.confirmEventUpdateTitle,b.confirmEventUpdateMessage,function(){var rt=new Date(Vf),nt=new Date(Vf),it=new Date(Vf);Td(),cb(it,-1),lt(ka.id,F,j,it,!0),lt(null,rt,nt,Fe),Zc()},function(){Td(),lt(ka.id,F,j,Fe),Zc()},!1,!0,b.forwardText,b.seriesText)):(lt(ka.id,F,j,Fe),Zc())}}}function Zc(i){Ge(i),mb(I.body,Na),gb.style.display="none"}function Am(){Xf(),Jf(b.confirmEventRemoveTitle,b.confirmEventRemoveMessage,function(){Td(),Zc(),r(ka.id)&&(u.removeEvent(ka.id,!0),b.isWidget?R(B):ra(),Xa(b.eventRemovedText.replace("{0}",ka.title)))},function(){Td()})}function ra(){jb(ba)&&Za(N),jb(ia)&&Fc(Yb),jb(Ga)&&Gc(wa),jb(va)&&Ph(),jb(na)&&Pb(fa)}function yd(i,o,s,C){return s=r(s)?s:"09:00",C=r(C)?s:"09:00",fh(i,s),fh(o,C),o=lb(o,b.defaultEventDuration),i={from:i,to:o,title:b.newEventDefaultTitle,description:n.empty,location:n.empty,group:n.empty,isAllDay:!1,showAlerts:!0,showAsBusy:!0,color:b.defaultEventBackgroundColor,colorText:b.defaultEventTextColor,colorBorder:b.defaultEventBorderColor,repeatEveryExcludeDays:[],repeatEnds:null,url:n.empty,repeatEveryCustomValue:n.empty,repeatEvery:z.never,repeatEveryCustomType:O.daily,organizerName:n.empty,organizerEmailAddress:n.empty,type:0,locked:!1,customTags:null,alertOffset:0},u.addEvent(i,!1),Xa(b.eventAddedText.replace("{0}",i.title)),La(),ra(),qb(),i}function nf(i){return r(i)&&ob(i.locked)?i.locked:!1}function Wf(i){Jf(b.errorText,i,Td,null,!1,!1),Xf()}function Xf(){Vg.style.display="block"}function Td(){Vg.style.display="none"}function $i(){if(!w&&xc===null){xc=k("div","calendar-dialog event-editor-colors"),Ca.push(xc),I.body.appendChild(xc);var i=k("div","title-bar");D(i,b.selectColorsText),xc.appendChild(i),Ld(i,xc,null),x(i,"ib-close",b.closeTooltipText,gh,!0),i=k("div","contents"),xc.appendChild(i);var o=k("div","section");i.appendChild(o),ua(o,b.backgroundColorText,"text-header"),Ce=k("input"),o.appendChild(Ce),mc(Ce,"color"),o=k("div","section"),i.appendChild(o),ua(o,b.textColorText,"text-header"),De=k("input"),o.appendChild(De),mc(De,"color"),o=k("div","section"),i.appendChild(o),ua(o,b.borderColorText,"text-header"),Ee=k("input"),o.appendChild(Ee),mc(Ee,"color"),o=k("div","buttons-container"),i.appendChild(o),Ia(o,b.updateText,"update",Em),Ia(o,b.cancelText,"cancel",gh)}}function Em(){gh(),ka.color=Ce.value,ka.colorText=De.value,ka.colorBorder=Ee.value}function gh(i){Ge(i),Td(),xc.style.display="none"}function Bm(){kb.push(gh),xc.style.display="block",Xf()}function aj(){if(!w&&yc===null){yc=k("div","calendar-dialog event-editor-repeat-options"),Ca.push(yc),I.body.appendChild(yc);var i=k("div","title-bar");D(i,b.repeatOptionsTitle),yc.appendChild(i),Ld(i,yc,null),x(i,"ib-close",b.closeTooltipText,hh,!0),i=k("div","contents"),yc.appendChild(i);var o=k("div","section");i.appendChild(o),ua(o,b.daysToExcludeText,"text-header"),Zg=M(o,b.dayNames[0])[0],$g=M(o,b.dayNames[1])[0],ah=M(o,b.dayNames[2])[0],bh=M(o,b.dayNames[3])[0],ch=M(o,b.dayNames[4])[0],dh=M(o,b.dayNames[5])[0],eh=M(o,b.dayNames[6])[0],o=k("div","section"),i.appendChild(o),ua(o,b.repeatEndsText,"text-header"),Rd=k("input"),o.appendChild(Rd),mc(Rd,"date"),o=k("div","buttons-container"),i.appendChild(o),Ia(o,b.updateText,"update",Fm),Ia(o,b.cancelText,"cancel",hh)}}function Fm(){hh();var i=[];Zg.checked&&i.push(1),$g.checked&&i.push(2),ah.checked&&i.push(3),bh.checked&&i.push(4),ch.checked&&i.push(5),dh.checked&&i.push(6),eh.checked&&i.push(0),ka.repeatEveryExcludeDays=i}function hh(i){Ge(i),Td(),yc.style.display="none"}function Cm(){kb.push(hh),yc.style.display="block",Xf()}function bj(){if(!w&&cd===null){cd=k("div","calendar-dialog message"),Ca.push(cd),I.body.appendChild(cd),zi=k("div","title-bar"),cd.appendChild(zi);var i=k("div","contents");cd.appendChild(i),Ai=k("div","text"),i.appendChild(Ai);var o=M(i,b.removeAllEventsInSeriesText);Tg=o[0],Bi=o[1],Yf=k("div","buttons-container"),i.appendChild(Yf)}}function Jf(i,o,s,C,F,j,V,$){F=r(F)?F:!1,j=r(j)?j:!0;var _=r(V)?V:b.yesText,Fe=r($)?$:b.noText;Yf.innerHTML=n.empty;var _e=k("input","yes-ok","button");_e.value=_,Yf.appendChild(_e),_=k("input","no","button"),_.value=Fe,Yf.appendChild(_),kb.push(!1),cd.style.display="block",D(zi,i),D(Ai,o),_e.onclick=tk,_e.addEventListener("click",s),_.onclick=tk,dd(C)&&_.addEventListener("click",C),r(V)||r($)||(j?(_.style.display="inline-block",_e.value=b.yesText):(_.style.display="none",_e.value=b.okText)),F?(Bi.style.display="block",Tg.checked=!1):(Bi.style.display="none",Tg.checked=!0)}function tk(){kb.pop(),cd.style.display="none"}function zl(){if(!w&&zc===null){zc=k("div","calendar-dialog export-events"),Ca.push(zc),I.body.appendChild(zc);var i=k("div","title-bar");D(i,b.exportEventsTitle),zc.appendChild(i),Ld(i,zc,null),x(i,"ib-close",b.closeTooltipText,ih,!0),i=k("div","contents"),zc.appendChild(i),Ya=k("input",null,"text"),Ya.placeholder=b.exportFilenamePlaceholderText,i.appendChild(Ya),Ya.onkeydown=function(C){C.keyCode===U.enter&&uk()},Ib=M(i,b.copyToClipboardOnlyText,vk)[0],jh=k("div","split options"),i.appendChild(jh);var o=k("div","radio-buttons-container split-contents");jh.appendChild(o);var s=k("div","radio-buttons-container split-contents");jh.appendChild(s),Ci=ma(o,"CSV","ExportType"),wk=ma(o,"XML","ExportType"),xk=ma(o,"JSON","ExportType"),yk=ma(o,"TXT","ExportType"),zk=ma(s,"iCAL","ExportType"),Ak=ma(s,"MD","ExportType"),Bk=ma(s,"HTML","ExportType"),Ck=ma(s,"TSV","ExportType"),o=k("div","buttons-container"),i.appendChild(o),Ia(o,b.exportText,"export",uk),Ia(o,b.cancelText,"cancel",ih)}}function vk(){Ya.disabled=Ib.checked}function jd(i){$b(I.body,Na),Nb(),kb.push(ih),zc.style.display="block",Ac=i,Ci.checked=!0,Ya.value=n.empty,Ib.checked=!1,vk(),Ya.focus()}function ih(i){Ge(i),mb(I.body,Na),zc.style.display="none"}function uk(){ih(),Ci.checked?Bc(Ac,"csv",Ya.value,Ib.checked):wk.checked?Bc(Ac,"xml",Ya.value,Ib.checked):xk.checked?Bc(Ac,"json",Ya.value,Ib.checked):yk.checked?Bc(Ac,"text",Ya.value,Ib.checked):zk.checked?Bc(Ac,"ical",Ya.value,Ib.checked):Ak.checked?Bc(Ac,"md",Ya.value,Ib.checked):Bk.checked?Bc(Ac,"html",Ya.value,Ib.checked):Ck.checked&&Bc(Ac,"tsv",Ya.value,Ib.checked)}function Al(){if(!w&&pa===null){pa=k("div","calendar-dialog search"),Ca.push(pa),I.body.appendChild(pa);var i=k("div","title-bar");D(i,b.searchEventsTitle),pa.appendChild(i),Ld(i,pa,function(){Di=!0,Zf()}),i.ondblclick=Ei;var o=x(i,"ib-close",b.closeTooltipText,qd);o.onmousedown=J,o.onmouseup=J,Ud=x(i,"ib-minus",b.minimizedTooltipText,Ei),Ud.onmousedown=J,Ud.onmouseup=J,fc=k("div","contents"),pa.appendChild(fc),i=k("div","history-container"),fc.appendChild(i),sa=k("input",null,"text"),sa.placeholder=b.searchTextBoxPlaceholder,sa.oninput=He,sa.onpropertychange=He,sa.onkeypress=Gm,i.appendChild(sa),vb=k("div","ib-arrow-down-full"),vb.style.display="none",vb.onclick=Hm,i.appendChild(vb),Fb=k("div","history-dropdown custom-scroll-bars"),i.appendChild(Fb),i=k("div","checkbox-container"),fc.appendChild(i),kh=M(i,b.notSearchText,gc)[0],lh=M(i,b.matchCaseText,gc)[0],Ie=M(i,b.advancedText+":",Im)[0],Ie.checked=!0,$f=k("div","advanced"),fc.appendChild($f);var s=k("div","split");$f.appendChild(s),o=k("div","split-contents"),s.appendChild(o),i=k("div","split-contents"),s.appendChild(i),ua(o,b.includeText,"text-header"),s=k("div","checkbox-container"),o.appendChild(s),ag=M(s,b.titleText.replace(":",n.empty),gc)[0],mh=M(s,b.locationText.replace(":",n.empty),gc)[0],nh=M(s,b.descriptionText.replace(":",n.empty),gc)[0],oh=M(s,b.groupText.replace(":",n.empty),gc)[0],ph=M(s,b.urlText.replace(":",n.empty),gc)[0],ag.checked=!0,ua(i,b.optionsText,"text-header"),o=k("div","radio-buttons-container"),i.appendChild(o),qh=ma(o,b.startsWithText,"SearchOptionType",gc),rh=ma(o,b.endsWithText,"SearchOptionType",gc),sh=ma(o,b.containsText,"SearchOptionType",gc),sh.checked=!0,i=k("div","buttons-container"),fc.appendChild(i),th=Ia(i,b.previousText,"previous",Dk),uh=Ia(i,b.nextText,"next",Ek)}}function Im(){$f.style.display=Ie.checked?"block":"none",Wh(),Zf()}function gc(){Zf(),He(!1)}function He(i){i=r(i)?i:!0,Jb.length>0&&Fk(E," focused-event"),th.disabled=!0,uh.disabled=sa.value===n.empty,Jb=[],ed=0,Fi=null,i&&Gk(),Zf()}function he(){pa.style.display!=="block"&&(Jb=[],pa.style.display="block",He(!1),sa.value=y.lastSearchText,kh.checked=y.not,lh.checked=y.matchCase,Ie.checked=y.showAdvanced,ag.checked=y.searchTitle,mh.checked=y.searchLocation,nh.checked=y.searchDescription,oh.checked=y.searchGroup,ph.checked=y.searchUrl,qh.checked=y.startsWith,rh.checked=y.endsWith,sh.checked=y.contains,$f.style.display=Ie.checked?"block":"none",Wh()),fc.style.display!=="block"&&Ei(),sa.focus(),sa.select(),y.history.length>0&&(vb.style.display="block")}function Wh(){pa===null||Di||w||(Fa(y.left)?pa.style.left=y.left+"px":pa.style.left=ea.innerWidth/2-pa.offsetWidth/2+"px",Fa(y.top)?pa.style.top=y.top+"px":pa.style.top=ea.innerHeight/2-pa.offsetHeight/2+"px")}function qd(){var i=!1;return pa!==null&&pa.style.display==="block"&&(pa.style.display="none",He(),i=!0),i}function Ei(){fc.style.display==="block"?(fc.style.display="none",Ud.className="ib-square-hollow",Va(Ud,b.restoreTooltipText)):(fc.style.display="block",Ud.className="ib-minus",Va(Ud,b.minimizedTooltipText))}function Dk(){if(ed>0){ed--;var i=Jb[ed];Hk(),R(i.from),Ik(i)}}function Gm(i){i.keyCode===U.enter&&la(i)&&!th.disabled?Dk():i.keyCode!==U.enter||uh.disabled?Gk():Ek()}function Ek(){if(Jb.length===0){var i="day-",o=kh.checked,s=lh.checked,C=s?sa.value:sa.value.toLowerCase(),F={},j=Ab(Gd()),V=j.length,$=Qa(),_=$===ba,Fe=$===va,_e=$===ia;$=$===na,_?i="full-day-":Fe?i="month-":_e?i="week-day-":$&&(i="timeline-day-"),Zf(!0);for(var et=0;et<V;et++){var tt=j[et];if(ke(tt)){var lt=K(tt.title),rt=K(tt.location),nt=K(tt.description),it=K(tt.group),at=K(tt.url),ot=!1;s||(lt=lt.toLowerCase(),nt=nt.toLowerCase(),rt=rt.toLowerCase(),it=it.toLowerCase(),at=at.toLowerCase()),(ag.checked&&bg(lt,C)||mh.checked&&bg(rt,C)||nh.checked&&bg(nt,C)||oh.checked&&bg(it,C)||ph.checked&&bg(at,C))&&(ot=!0),o&&(ot=!ot),!ot||Ea(i+tt.id)===null&&(_||Fe||_e||$)||(_||Fe||_e||$?Jb.push(ue(tt,!1)):(lt=tt.from.getMonth()+"-"+tt.from.getFullYear(),F.hasOwnProperty(lt)||(Jb.push(ue(tt,!1)),F[lt]=!0)))}}}else ed++;Hk(),Jb.length>0&&(i=Jb[ed],R(new Date(i.from)),Ik(i))}function Ik(i){var o="day-",s=Qa(),C=s===ba,F=s===va,j=s===ia;if(s=s===na,Fk(E," focused-event"),C?o="full-day-":F?o="month-":j?o="week-day-":s&&(o="timeline-day-"),o=Ea(o+i.id),o!==null&&(o.className+=" focused-event",Fi=i.id,C||F||j||s))for(i=o.parentNode;;){if(i.scrollHeight>0&&i.scrollHeight>i.offsetHeight){i.scrollTop=o.offsetTop;break}i=i.parentNode}}function Hk(){th.disabled=ed===0,uh.disabled=ed===Jb.length-1||Jb.length===0}function bg(i,o){return qh.checked?ta(i,o):rh.checked?i.substring(i.length-o.length,i.length)===o:i.indexOf(o)>G.notFound}function Zf(i){i=r(i)?i:!1,wd(Ra.searchOptionsChanged);var o=Sd(sa.value);i&&(vb.style.display="block"),td(Ra.searchOptionsChanged,function(){var s=!0,C=y.history.length;if(i){s=!1;for(var F=0;F<C;F++)if(y.history[F]===o){s=!0;break}s||y.history.push(o)}(!i||s)&&(y.lastSearchText=o,y.not=kh.checked,y.matchCase=lh.checked,y.showAdvanced=Ie.checked,y.searchTitle=ag.checked,y.searchLocation=mh.checked,y.searchDescription=nh.checked,y.searchGroup=oh.checked,y.searchUrl=ph.checked,y.startsWith=qh.checked,y.endsWith=rh.checked,y.contains=sh.checked,Di&&(y.left=pa.offsetLeft,y.top=pa.offsetTop),A(b.events.onSearchOptionsUpdated,y))},2e3,!1)}function Gk(){var i=y.history.length;i>0?(vb.style.display="block",wd(Ra.searchEventsHistoryDropDown),td(Ra.searchEventsHistoryDropDown,function(){var o=sa.value,s=!1;if(Sd(o)!==n.empty){Jk(),Fb.innerHTML=n.empty;for(var C=0;C<i;C++){var F=y.history[C],j=o;F.substring(0,j.length).toLowerCase()===j.toLowerCase()&&F.toLowerCase()!==o.toLowerCase()&&(Kk(y.history[C],o.length),s=!0)}}s?Lk():af()},150,!1)):vb.style.display="none"}function Jk(){y.history.sort(function(i,o){var s=0;return i=i.toLowerCase(),o=o.toLowerCase(),i<o?s=-1:i>o&&(s=1),s})}function Hm(i){if(J(i),Fb.style.display!=="block"){Jk(),i=y.history.length,Fb.innerHTML=n.empty,sa.focus();for(var o=0;o<i;o++)Kk(y.history[o],0);Lk()}else af()}function Kk(i,o){var s=k("div","history-dropdown-item");Fb.appendChild(s);var C=k("span","search-search");D(C,i.substring(0,o)),s.appendChild(C),C=k("span"),D(C,i.substring(o)),s.appendChild(C),s.onclick=function(F){J(F),af(),sa.value=i,sa.selectionStart=sa.selectionEnd=sa.value.length,sa.focus(),He(!1)}}function af(){var i=!1;return Fb!==null&&vb.className==="ib-arrow-up-full"&&(Fb.style.display="none",vb.className="ib-arrow-down-full",i=!0),i}function Lk(){Fb!==null&&vb.className==="ib-arrow-down-full"&&(Fb.style.display="block",vb.className="ib-arrow-up-full")}function Bl(){if(!w&&Kb===null){Kb=k("div","calendar-dialog configuration"),Ca.push(Kb),I.body.appendChild(Kb);var i=k("div","title-bar");D(i,b.configurationTitleText),Kb.appendChild(i),Ld(i,Kb,null),x(i,"ib-close",b.closeTooltipText,Mk,!0),i=k("div","contents"),Kb.appendChild(i);var o=nk(i);we(o,b.displayTabText,function(s){xe(s,Vd,Kb)},!0),we(o,b.organizerTabText,function(s){xe(s,Je,Kb)}),Vd=ye(i,!0,!1),Je=ye(i,!1,!1),Gi=M(Vd,b.enableAutoRefreshForEventsText)[0],Hi=M(Vd,b.enableBrowserNotificationsText,null,null,null,"checkbox-tabbed-in")[0],Ii=M(Vd,b.enableTooltipsText,null,null,null,"checkbox-tabbed-down")[0],Ji=M(Vd,b.enableDragAndDropForEventText)[0],Ki=M(Vd,b.showHolidaysInTheDisplaysText)[0],ua(Je,b.organizerNameText),vh=k("input",null,"text"),Je.appendChild(vh),ua(Je,b.organizerEmailAddressText),wh=k("input",null,"email"),Je.appendChild(wh),o=k("div","buttons-container"),i.appendChild(o),Ia(o,b.updateText,"update",Jm),Ia(o,b.cancelText,"cancel",Mk)}}function Jm(){Gi.checked?u.startTheAutoRefreshTimer():u.stopTheAutoRefreshTimer(),b.eventNotificationsEnabled=Hi.checked,b.tooltipsEnabled=Ii.checked,b.dragAndDropForEventsEnabled=Ji.checked,b.showHolidays=Ki.checked,b.organizerName=vh.value,b.organizerEmailAddress=wh.value,sb=!1,A(b.events.onOptionsUpdated,b),Li(),Mi(),R(B,!0,!0),Xa(b.configurationUpdatedText)}function Mk(){Mi()}function jj(){$b(I.body,Na),Gi.checked=cg,Hi.checked=b.eventNotificationsEnabled,Ii.checked=b.tooltipsEnabled,Ji.checked=b.dragAndDropForEventsEnabled,Ki.checked=b.showHolidays,vh.value=b.organizerName,wh.value=b.organizerEmailAddress,kb.push(Mi),Kb.style.display="block"}function Mi(i){Ge(i),mb(I.body,Na),Kb.style.display="none"}function ke(i){var o=K(i.group),s=o.toLowerCase();i=L(i.type);var C=!0;return o!==n.empty?r(S.visibleGroups)&&(C=S.visibleGroups.indexOf(s)>G.notFound):C=!b.hideEventsWithoutGroupAssigned,C&&r(S.visibleEventTypes)&&P.hasOwnProperty(i)&&(C=S.visibleEventTypes.indexOf(i)>G.notFound),C}function Cl(){if(!w&&Cc===null&&b.jumpToDateEnabled){Cc=k("div","calendar-dialog jump-to-date"),Ca.push(Cc),I.body.appendChild(Cc);var i=k("div","title-bar");D(i,b.jumpToDateTitle),Cc.appendChild(i),Ld(i,Cc,null),x(i,"ib-close",b.closeTooltipText,xh,!0);var o=k("div","contents");Cc.appendChild(o),hc=k("input",null,"date"),o.appendChild(hc),i=k("div","buttons-container"),o.appendChild(i),o=Ia(i,b.goText,"go",Nk),Ia(i,b.cancelText,"cancel",xh),o.onkeydown=function(s){s.keyCode===U.enter&&Nk()}}}function ge(){if(Qa()!==va&&b.jumpToDateEnabled){$b(I.body,Na),Nb();var i=Qa();i===null?(A(b.events.onSetDate,hc),Hb(B,hc)):i===ba?Hb(N,hc):i===ia?Hb(Yb,hc):i===Ga?Hb(new Date(wa,0,1),hc):i===na&&Hb(fa,hc),kb.push(xh),Cc.style.display="block",hc.focus()}}function xh(i){Ge(i),mb(I.body,Na),Cc.style.display="none"}function Nk(){var i=Qa(),o=Be(hc);o.getFullYear()>=b.minimumYear&&o.getFullYear()<=b.maximumYear&&(i===null?(R(o),xb()):i===ba?Za(o):i===ia?Fc(o):i===Ga?Gc(o.getFullYear()):i===na&&Pb(o),xh())}function cj(){Y===null&&(Y=k("div","calendar-tooltip"),Ca.push(Y),I.body.appendChild(Y),Ni=k("div","ib-close"),yh=k("div","ib-edit"),zh=k("div","title-buttons"),zh.appendChild(Ni),zh.appendChild(yh),Wd=k("div","title"),dg=k("div","date"),Xd=k("div","duration"),eg=k("div","repeats"),fg=k("div","description"),gg=k("div","location"),Yd=k("div","url"),Ni.onclick=pc,yh.onclick=function(){T(Id)},document.body.addEventListener("mousemove",pc))}function ji(i,o,s,C){if(J(i),wd(Ra.showToolTip),pc(),C=r(C)?C:!1,Y.style.display!=="block"&&b.tooltipsEnabled){var F=W(s)?b.tooltipDelay:b.eventTooltipDelay;td(Ra.showToolTip,function(){if(C||!I.body.contains(Na)&&!Kg()&&!dk()&&ha===null){if(s=r(s)?s:n.empty,Y.className=s===n.empty?"calendar-tooltip-event":"calendar-tooltip",W(s))D(Y,s);else if(Id=o,Y.innerHTML=n.empty,Wd.innerHTML=n.empty,Xd.innerHTML=n.empty,Yd.innerHTML=n.empty,!A(b.events.onToolTipEventRender,Y,o)){if(Y.onmousemove=J,Y.appendChild(zh),Y.appendChild(Wd),Y.appendChild(dg),Y.appendChild(Xd),$a(yh,b.manualEditingEnabled),ab(o.url)){var j=ja(Yd,Km(o.url),"url-text");$b(Y,Yd),j.onclick=function(V){J(V),si(o.url),pc()}}else Yd.innerHTML=n.empty,Yd.onclick=null,mb(Y,Yd);L(o.repeatEvery)>z.never&&(j=k("div","ib-refresh-medium ib-no-hover ib-no-active"),j.style.borderColor=Wd.style.color,Wd.appendChild(j)),Wd.innerHTML+=rc(o.title),Fa(o.repeatEvery)&&o.repeatEvery>z.never?(D(eg,b.repeatsText.replace(":",n.empty)+n.space+vd(o.repeatEvery)),$b(Y,eg)):(eg.innerHTML=n.empty,mb(Y,eg)),ab(o.location)?(D(gg,o.location),$b(Y,gg)):(gg.innerHTML=n.empty,mb(Y,gg)),ab(o.description)?(D(fg,o.description),$b(Y,fg)):(fg.innerHTML=n.empty,mb(Y,fg)),o.from.getDate()===o.to.getDate()?o.isAllDay?D(dg,b.allDayText):(D(dg,fe(o.from,o.to)),D(Xd,Ub(o.from,o.to))):(Ye(dg,o.from,o.to),D(Xd,Ub(o.from,o.to))),Xd.innerHTML===n.empty&&Y.removeChild(Xd)}wf(i,Y)}},F,!1)}}function pc(){wd(Ra.showToolTip),Ok()&&(Y.style.display="none",Id=null,Y.onmousemove=null)}function Ok(){return Oi(Ra.showToolTip)||Y!==null&&Y.style.display==="block"}function Va(i,o,s){i!==null&&(i.onmousemove=function(C){ji(C,null,o,s)})}function Xa(i,o){lc!==null&&b.popUpNotificationsEnabled&&(o=r(o)?o:!0,wd(Ra.hideNotification),lc.innerHTML=n.empty,o=k("div",o?"success":"error"),lc.appendChild(o),lc.style.display="block",D(o,i),x(o,"ib-close-icon",b.closeTooltipText,Pk),td(Ra.hideNotification,function(){Pk()},5e3,!1))}function Pk(){lc.style.display="none"}function Kh(i,o){if(i!==null){o=r(o)?o:!0;var s=b.dayHeaderNames.length;i.innerHTML=n.empty,b.startOfWeekDay===za.saturday||b.startOfWeekDay===za.sunday?(Pi(i,b.startOfWeekDay,s),Pi(i,0,b.startOfWeekDay)):Pi(i,0,s),b.reverseOrderDaysOfWeek&&o&&rd(i)}}function Pi(i,o,s){for(;o<s;o++)b.visibleDays.indexOf(o)>G.notFound&&Lm(i,o)}function Lm(i,o){var s=b.dayHeaderNames[o],C=k("div",Dg());D(C,s),i.appendChild(C),C.oncontextmenu=function(F){if(!w&&(la(F)||sc(),Ka(),b.sideMenu.showDays)){jk=o;var j=b.visibleDays.length>1?"block":"none",V=b.workingDays.length>=1&&!ce(b.workingDays,b.visibleDays)?"block":"none";ik.style.display=j,kk.style.display=j,lk.style.display=V,mk.style.display=V,J(F),wf(F,ub)}},C.ondblclick=function(F){if(!w){var j=!1;if(ud.length===0){if(F=b.visibleDays.length,F>1){for(j=0;j<F;j++)ud.push(b.visibleDays[j]);b.visibleDays=[],b.visibleDays.push(o),j=!0}}else{for(b.visibleDays=[],F=ud.length,j=0;j<F;j++)b.visibleDays.push(ud[j]);ud=[],j=!0}j&&(sb=!1,A(b.events.onOptionsUpdated,b),R(B,!0,!0))}}}function kf(i){Qa()!==i&&(Qk(i,!1),Bb.push(i),Ah++,jb(i)||(i.className+=" view-shown"),i.style.zIndex=Ah,qd(),rf())}function Cd(i,o){jb(i)&&(i.className=i.className.replace(" view-shown",n.empty),Qk(i,o),Bb.length===0&&(Ah=0))}function Qk(i,o){o=r(o)?o:!0;for(var s=[],C=Bb.length,F=0;F<C;F++){var j=Bb[F];r(j)&&j.id!==i.id&&s.push(j)}Bb=[].slice.call(s),o&&rf()}function jb(i){return r(i)&&i.className&&i.className.indexOf("view-shown")>G.notFound}function Fj(i){i=r(i)?i:!0;var o=Qa();Cd(o,!i),Bb.length===0&&(Ah=0),i&&rf()}function Qa(){return Bb.length>0?Bb[Bb.length-1]:null}function rf(i){i=r(i)?i:!0;var o=Qa(),s=null;return o===null?s=yb.fullMonth:o===ba?s=yb.fullDay:o===ia?s=yb.fullWeek:o===Ga?s=yb.fullYear:o===na?s=yb.timeline:o===va&&(s=yb.allEvents),i&&W(s)&&A(b.events.onViewChange,s),s}function Kj(i,o){var s=new Date,C=new Date;for(C.setHours(0,0,0,0),60%o!==0&&(o=30);Z(C,s);){var F=k("div","hour");i.appendChild(F);var j=k("div","hour-text");j.innerText=Eb(new Date(C)),F.appendChild(j),C=lb(C,o),j=k("div","hour-text"),j.innerText=Eb(new Date(C)),F.appendChild(j),C=lb(C,o)}}function wg(i,o){var s=Ze(o);return o=qa.floor((i.pageY-s.top)/(o.offsetHeight/1440))/60,i=qa.floor(o),o=qa.round((o-i)*60),[i,o]}function Mj(i,o,s,C,F){var j=o.offsetHeight,V=o.offsetHeight/1440;o=0;var $=null;return F.isAllDay||($=L(F.repeatEvery),(Z(F.from,s)||$>z.never)&&(o=V*hg(F.from)),$=Z(F.to,s)||$>z.never?V*hg(F.to)-o:j,$-=b.spacing*2),o<=b.spacing&&(o+=b.spacing,$-=b.spacing),C.style.top=o+"px",$!==null&&(C.style.height=$+"px"),C.offsetTop+C.offsetHeight>j-b.spacing?(s=j-C.offsetTop-b.spacing*3+"px",C.style.height=s,C.style.maxHeight=s):C.style.maxHeight=j-(C.offsetTop+b.spacing*2)-V+"px",C=o+i.offsetHeight/2,C<=i.offsetHeight&&(C=0),C}function um(i,o,s,C){var F=i.scrollWidth,j=i.offsetWidth/1440;i=0;var V=L(C.repeatEvery);return(Z(C.from,o)||V>z.never)&&(i=j*hg(C.from)),o=Z(C.to,o)||V>z.never?j*hg(C.to)-i:F,o-=b.spacing*2,i<=b.spacing&&(i+=b.spacing,o-=b.spacing),s.style.left=i+"px",o!==null&&(s.style.width=o+"px"),s.offsetLeft+s.offsetWidth>F-b.spacing?(F=F-s.offsetLeft-b.spacing*4+"px",s.style.width=F,s.style.maxWidth=F):s.style.maxWidth=F-(s.offsetLeft+b.spacing*2)-j+"px",i-b.spacing}function Pj(i,o,s,C,F){var j=0;return s!==null&&(jc(i)&&jb(o)&&F?(i=C.offsetHeight/1440*hg(new Date),s.style.display="block",s.style.top=i-s.offsetHeight/2+"px",j=i):s.style.display="none"),j}function Lj(i,o){J(i),i=Se(o,"z-index",!1),i=i===null||i==="auto"?1:parseInt(i)+1,o.style.zIndex=i.toString()}function Qj(i){i=i.getElementsByClassName("event"),i=[].slice.call(i);var o=i.length;if(o>1){i.sort(Mm);for(var s=0;s<o;s++)for(var C=i[s],F=0;F<o;F++)if(F!==s){var j=i[F],V=!0,$=C.offsetLeft,_=C.offsetTop,Fe=C.offsetWidth,_e=j.offsetLeft,et=j.offsetTop,tt=j.offsetHeight,lt=j.offsetWidth;(_+C.offsetHeight<et||_>et+tt||$+Fe<_e||$>_e+lt)&&(V=!1),V&&(V=K(C.getAttribute("event-position")),$=K(j.getAttribute("event-position")),V===n.empty&&$===n.empty?(Bh(C),Bh(j),j.style.left=C.offsetLeft+C.offsetWidth+b.spacing+"px",C.setAttribute("event-position","left"),j.setAttribute("event-position","right")):V===n.empty&&$==="right"?(Bh(C),C.setAttribute("event-position","left"),j.setAttribute("event-position","right")):V===n.empty&&$==="left"&&(C.style.left=j.offsetLeft+j.offsetWidth+b.spacing+"px",Bh(C),C.setAttribute("event-position","right"),j.setAttribute("event-position","left")))}}}function Bh(i){i.style.width=i.offsetWidth/2-(b.spacing*3+b.spacing/4)+"px"}function Mm(i,o){var s=0;return i.offsetTop<o.offsetTop?s=-1:i.offsetTop>o.offsetTop&&(s=1),s}function Jj(i,o,s){J(i),xg===null?i.dataTransfer.files.length===0?Rk(i,o.getFullYear(),o.getMonth(),o.getDate()):Sk(i):(Z(Ag,o)||(ha=Wb,Zd=Ag,Tk(i,o.getFullYear(),o.getMonth(),o.getDate())),o=s.offsetHeight/1440,s=Ze(s),i=(qa.abs(i.pageY)-s.top+zg-yg)/o,Wb.from=lb(Wb.from,i),Wb.to=lb(Wb.to,i),qb(),A(b.events.onEventUpdated,Wb),Xa(b.eventUpdatedText.replace("{0}",Wb.title)),ra(),Wb=xg=null,yg=zg=0)}function Vh(i){if(J(i),b.manualEditingEnabled){var o=null;i=null;var s=0;if(jb(ba)?(o=Aa,i=Bg,s=i.length):jb(ia)&&(o=ne,i=ei,s=i.length),o!==null&&s>0){o=o.offsetHeight/1440;for(var C=!1,F=0;F<s;F++){var j=i[F];j.height!==j.eventElement.offsetHeight&&(C=(j.eventElement.offsetHeight-j.height)/o,j.height=j.eventElement.offsetHeight,j.eventDetails.to=lb(j.eventDetails.to,C),C=!0,A(b.events.onEventUpdated,j.eventDetails),Xa(b.eventUpdatedText.replace("{0}",j.eventDetails.title)))}C&&(qb(),ra())}}}function bb(){xd?Uk():Vk()}function Vk(){!xd&&b.fullScreenModeEnabled&&(Wk(),A(b.events.onFullScreenModeChanged,!0))}function Uk(){xd&&b.fullScreenModeEnabled&&(xd=!1,E.className=E.className.replace(" full-screen-view",n.empty),E.style.cssText=Xk,Yk("ib-arrow-expand-left-right",b.enableFullScreenTooltipText),ra(),A(b.events.onFullScreenModeChanged,!1))}function Wk(){Xk=E.style.cssText,xd=!0,E.className+=" full-screen-view",E.removeAttribute("style"),Yk("ib-arrow-contract-left-right",b.disableFullScreenTooltipText),ra()}function Yk(i,o){Ke(Hg,i),Ke(Zh,i),Ke(ni,i),Ke(ai,i),Ke(li,i),Ke(pi,i),Va(Hg,o),Va(Zh,o),Va(ni,o),Va(ai,o),Va(li,o),Va(pi,o)}function fm(i,o,s){if(b.showHolidays)for(var C=[],F=b.holidays.length,j=0;j<F;j++){var V=b.holidays[j],$=K(V.title,n.empty),_=K(V.backgroundColor,n.empty),Fe=K(V.textColor,n.empty);Oj(V,i)&&$!==n.empty&&C.indexOf($.toLowerCase())?(Nm(V,s,$,o),_!==n.empty&&s.style.setProperty("background-color",_,"important"),Fe!==n.empty&&s.style.setProperty("color",Fe,"important"),C.push($.toLowerCase())):(s.style.removeProperty("background-color"),s.style.removeProperty("color"))}}function Nm(i,o,s,C){var F=dd(i.onClick)||W(i.onClickUrl)?"holiday-link":"holiday",j=i.onClick;W(i.onClickUrl)&&(j=function(){ea.open(i.onClickUrl,b.urlWindowTarget)}),ja(o,s,F+C,j,!0,!0)}function Oj(i,o){var s=L(i.day),C=L(i.month);i=L(i.year);var F=!1;return(i===0&&s===o.getDate()&&C===o.getMonth()+1||i>0&&s===o.getDate()&&C===o.getMonth()+1&&i===o.getFullYear())&&(F=!0),F}function Gd(){var i=[];return Db(function(o){i.push(o)}),i}function Db(i){for(var o in wb)if(wb.hasOwnProperty(o)){for(var s in wb[o])if(wb[o].hasOwnProperty(s)){var C=Zk(wb[o][s]);if(i(C,o,s))return}}}function Ab(i,o){return o=r(o)?o:!0,i=i.sort(function(s,C){return s.from-C.from}),o&&(i=i.sort(function(s,C){return $k(C.isAllDay)-$k(s.isAllDay)})),i}function Zj(i,o){$b(I.body,Na);var s=function(){mb(I.body,Na)};Jf(b.confirmEventsRemoveTitle,b.confirmEventsRemoveMessage,function(){var C=0;s(),Db(function(F){L(F.repeatEvery)===z.never&&o(F.from,i)&&(u.removeEvent(F.id,!1),C++)}),qb(),Xa(b.eventsRemovedText.replace("{0}",C)),Pa()},s)}function Zk(i){return i.isAllDay&&(i.from=new Date(i.from.getFullYear(),i.from.getMonth(),i.from.getDate(),0,0),i.to=new Date(i.from.getFullYear(),i.from.getMonth(),i.from.getDate(),23,59)),i}function rk(i){i=r(i)&&P.hasOwnProperty(i)?i:0;for(var o in P)P.hasOwnProperty(o)&&r(P[o].eventEditorInput)&&(P[o].eventEditorInput.checked=!1);r(P[i].eventEditorInput)&&(P[i].eventEditorInput.checked=!0)}function Dm(){var i=0,o;for(o in P)if(P.hasOwnProperty(o)&&r(P[o].eventEditorInput)&&P[o].eventEditorInput.checked){i=parseInt(o);break}return i}function Z(i,o){return i.getDate()===o.getDate()&&i.getMonth()===o.getMonth()&&i.getFullYear()===o.getFullYear()}function Vj(i,o){return i.getMonth()===o.getMonth()&&i.getFullYear()===o.getFullYear()}function $e(i,o){return i=new Date(i.getFullYear(),i.getMonth(),i.getDate()),i.setHours(0,0,0,0),o=new Date(o.getFullYear(),o.getMonth(),o.getDate()),o.setHours(0,0,0,0),i<=o}function jc(i){var o=new Date;return i!==null&&i.getDate()===o.getDate()&&i.getFullYear()===o.getFullYear()&&i.getMonth()===o.getMonth()}function Ad(i){var o=("0"+i.getDate()).slice(-2),s=("0"+i.getMonth()).slice(-2);return o+"/"+s+"/"+i.getFullYear()}function ca(i){return i.getDay()-1<0?6:i.getDay()-1}function gd(i,o){return new Date(i,o+1,0).getDate()}function Ig(i){var o=b.thText;return i===31||i===21||i===1?o=b.stText:i===22||i===2?o=b.ndText:(i===23||i===3)&&(o=b.rdText),o}function hg(i){var o=i.getHours();return i=i.getMinutes(),o*60+i}function Vc(i,o){return i=new Date(i.getFullYear(),i.getMonth(),i.getDate()),o=new Date(o.getFullYear(),o.getMonth(),o.getDate()),o=qa.abs(o-i),qa.ceil(o/864e5)}function Cg(i){i.setDate(i.getDate()-1)}function cb(i,o){o=Fa(o)?o:1,i.setDate(i.getDate()+o)}function Xb(i,o){o=Fa(o)?o:1,i.setDate(i.getDate()+o*7)}function le(i,o){o=Fa(o)?o:1,i.setMonth(i.getMonth()+o)}function Bd(i,o){o=Fa(o)?o:1,i.setFullYear(i.getFullYear()+o)}function Ub(i,o){var s=[];return i=qa.abs(o-i)/1e3,o=qa.floor(i/86400),i-=o*86400,o>0&&s.push(o.toString()+n.space+(o===1?b.dayText:b.daysText)),o=qa.floor(i/3600)%24,i-=o*3600,o>0&&s.push(o.toString()+n.space+(o===1?b.hourText:b.hoursText)),i=qa.floor(i/60)%60,i>0&&s.push(i.toString()+n.space+(i===1?b.minuteText:b.minutesText)),s.join(", ")}function Hb(i,o){if(r(i)){var s=("0"+i.getDate()).slice(-2),C=("0"+(i.getMonth()+1)).slice(-2);o.value=o.type==="date"?i.getFullYear()+"-"+C+"-"+s:s+"/"+C+"/"+i.getFullYear()}}function Be(i,o){return o=o!==void 0?o:new Date,i.value!==n.empty&&(i.type==="date"?o=new Date(i.value+"T00:00:00Z"):(i=i.value.match(/^(\d{1,2})\/(\d{1,2})\/(\d{4})$/))&&(i=new Date(i[3],i[2]-1,i[1],0,0,0,0),i instanceof Date&&!isNaN(i)&&(o=i))),r(o)&&(o=new Date(o.getTime()+qa.abs(o.getTimezoneOffset()*6e4))),o}function qk(i,o){if(i.type==="date"){var s=("0"+o.getDate()).slice(-2),C=("0"+(o.getMonth()+1)).slice(-2);i.setAttribute("min",o.getFullYear()+"-"+C+"-"+s)}}function fh(i,o){var s=0,C=0,F=o.split(":");F.length===2&&(o=parseInt(F[0]),F=parseInt(F[1]),!isNaN(o)&&o.toString().length<=2&&(s=o),!isNaN(F)&&F.toString().length<=2&&(C=F)),i.setHours(s),i.setMinutes(C)}function lb(i,o){return new Date(i.getTime()+o*6e4)}function Oh(i,o){var s=ca(o);return i=i.replace("{dddd}",b.dayNames[s]),i=i.replace("{ddd}",b.dayNamesAbbreviated[s]),i=i.replace("{dd}",Q(o.getDate())),i=i.replace("{d}",o.getDate()),i=i.replace("{o}",Ig(o.getDate())),i=i.replace("{mmmm}",b.monthNames[o.getMonth()]),i=i.replace("{mmm}",b.monthNamesAbbreviated[o.getMonth()]),i=i.replace("{mm}",Q(o.getMonth()+1)),i=i.replace("{m}",o.getMonth()+1),i=i.replace("{yyyy}",o.getFullYear()),i=i.replace("{yyy}",o.getFullYear().toString().substring(1)),i=i.replace("{yy}",o.getFullYear().toString().substring(2)),i=i.replace("{y}",parseInt(o.getFullYear().toString().substring(2)).toString())}function Pe(i){return(b.startOfWeekDay===za.saturday||b.startOfWeekDay===za.sunday)&&(i+=7-b.startOfWeekDay),i}function Xe(i,o){var s=L(i.repeatEvery);return i=new Date(i.to),s>z.never&&(o=new Date(o),o.setHours(i.getHours(),i.getMinutes()),i=o),i}function fe(i,o){return Eb(i)+n.space+b.toTimeText+n.space+Eb(o)}function Eb(i,o){if(o=r(o)?o:b.useAmPmForTimeDisplays,b.useAmPmForTimeDisplays&&o){var s=i.getHours();o=i.getMinutes();var C="am";s>12?(s-=12,C="pm"):s===12?C="pm":s===0&&(s=12),o>0&&(s+=":"+Q(i.getMinutes())),s+=C}else s=Q(i.getHours())+":"+Q(i.getMinutes());return s}function Ye(i,o,s){i.innerHTML=n.empty,qc(i,o),ja(i,n.space+b.toTimeText+n.space),qc(i,s)}function qc(i,o,s,C,F){s=r(s)?s:!0,C=r(C)?C:!0,(F=r(F)?F:!1)&&ja(i,b.dayNames[ca(o)]+", "),Tb(i,o),ja(i,n.space+b.monthNames[o.getMonth()]),C&&ja(i,n.space+o.getFullYear()),s&&ja(i,n.space+Eb(o))}function Tb(i,o,s,C){r(s)&&ja(i,s),ja(i,o.getDate()),b.showDayNumberOrdinals&&(o=Ig(o.getDate()),r(o)&&(s=k("sup"),s.innerText=o,i.appendChild(s))),r(C)&&ja(i,C)}function ci(i,o,s,C){if(!nf(o)&&b.dragAndDropForEventsEnabled&&b.manualEditingEnabled){var F=new Date(s),j=b.weekendDays.indexOf(F.getDay())>=0?" drag-not-allowed-weekend-day":" drag-not-allowed";i.setAttribute("draggable",!0),i.ondragstart=function(V){A(b.events.onEventDragStart,o),V.dataTransfer.setData("event_details",ic.stringify(o)),Zd=F,ha=o,r(C)&&(C.className+=j,Om(C)),Ch("cell",function($){$.className+=" prevent-pointer-events"},i),Ch("events",function($){$.className+=" prevent-pointer-events"},i)},i.ondragend=function(){A(b.events.onEventDragStop,ha),ha=Zd=null,r(C)&&(C.className=C.className.replace(j,n.empty),Eg(C,F.getFullYear(),F.getMonth(),F.getDate())),Ch("cell",function(V){V.className=V.className.replace(" prevent-pointer-events",n.empty)},i),Ch("events",function(V){V.className=V.className.replace(" prevent-pointer-events",n.empty)},i)}}}function Eg(i,o,s,C){if(b.dragAndDropForEventsEnabled&&b.manualEditingEnabled){var F=new Date(o,s,C);i.ondragover=function(j){al(j,i,F)},i.ondragenter=function(j){al(j,i,F)},i.ondragleave=function(j){bl(j,i,F)},i.ondrop=function(j){J(j),bl(j,i,F),j.dataTransfer.files.length===0?Tk(j,o,s,C):Sk(j)}}}function Om(i){b.dragAndDropForEventsEnabled&&b.manualEditingEnabled&&(i.ondragover=null,i.ondragenter=null,i.ondragleave=null,i.ondrop=null)}function al(i,o,s){J(i),ha===null||o.className.indexOf(" drag-over")!==G.notFound||Z(Zd,s)||(o.className+=" drag-over")}function bl(i,o,s){J(i),ha!==null&&o.className.indexOf(" drag-over")>G.notFound&&!Z(Zd,s)&&(o.className=o.className.replace(" drag-over",n.empty))}function Tk(i,o,s,C){var F=new Date(o,s,C);if(ha===null||Z(Zd,F))ha===null&&Rk(i,o,s,C);else{A(b.events.onEventDragDrop,ha,F),r(C)||(i=gd(o,s),C=ha.from.getDate(),C>i&&(C=i));var j=Vc(ha.from,Zd);i=Vc(ha.from,ha.to),F=new Date(o,s,C,ha.from.getHours(),ha.from.getMinutes()),o=new Date(o,s,C,ha.to.getHours(),ha.to.getMinutes()),s=ha.repeatEnds,j>0&&(F.setDate(F.getDate()-j),o.setDate(o.getDate()-j)),r(s)&&(C=Vc(F,ha.from),F>ha.from?s.setDate(s.getDate()+C):s.setDate(s.getDate()-C)),i>0&&o.setDate(o.getDate()+i),u.updateEventDateTimes(ha.id,F,o,s),Xa(b.eventUpdatedText.replace("{0}",ha.title)),Pa()}}function Rk(i,o,s,C){if(i=Re(i.dataTransfer.getData("event_details")),r(i)&&ha===null){var F=new Date(i.from),j=new Date(i.to);i.from=new Date(o,s,C,F.getHours(),F.getMinutes(),0,0),i.to=new Date(o,s,C,j.getHours(),j.getMinutes(),0,0),u.addEvent(i),Xa(b.eventAddedText.replace("{0}",i.title))}}function Sk(i){r(ea.FileReader)&&b.importEventsEnabled&&Qi(i.dataTransfer.files)}function Re(a){try{var c=ic.parse(a)}catch(d){try{c=eval("("+a+")")}catch(i){console.error("Errors in object: "+d.message+", "+i.message),c=null}}return c}function Ld(i,o,s){i.onmousedown=function(C){$d||(Ka(),Lb=o,$d=!0,cl=C.pageX-Lb.offsetLeft,dl=C.pageY-Lb.offsetTop,Dh=Lb.offsetLeft,Eh=Lb.offsetTop)},i.onmouseup=function(){el(s)},i.oncontextmenu=function(){el(null)}}function el(i){$d&&($d=!1,Lb=null,Eh=Dh=0,i!==null&&i())}function Ol(i){$d&&(Lb.style.left=i.pageX-cl+"px",Lb.style.top=i.pageY-dl+"px")}function Pl(){$d&&(Lb.style.left=Dh+"px",Lb.style.top=Eh+"px",$d=!1,Lb=null,Eh=Dh=0)}function nk(i){var o=k("div");return i.appendChild(o),o}function we(i,o,s,C){C=r(C)?C:!1;var F=k("div","tab tab-control"+(C?"-selected":n.empty));D(F,o),i.appendChild(F),F.onclick=function(){s(F)}}function ye(i,o,s){o=r(o)?o:!1,s=r(s)?s:!0;var C=k("div","checkbox-container tab-content custom-scroll-bars");return i.appendChild(C),s&&(C.className+=" custom-scroll-bars"),o||(C.style.display="none"),C}function xe(i,o,s){var C=s.getElementsByClassName("tab-control-selected"),F=C.length;s=s.getElementsByClassName("tab-content");for(var j=s.length,V=0;V<F;V++)C[V].className="tab tab-control";for(C=0;C<j;C++)s[C].style.display="none";i.className="tab tab-control-selected",o.style.display="block"}function de(i,o,s,C){C=r(C)?C:!1,r(s)&&s<new Date&&(i.className+=" expired"),C&&r(s)&&s<B&&(s.getFullYear()!==B.getFullYear()||s.getMonth()!==B.getMonth())&&(i.className+=" not-in-current-month"),ab(o.color)?(i.style.backgroundColor=o.color,ab(o.colorText)&&(i.style.color=o.colorText),ab(o.colorBorder)&&(i.style.borderColor=o.colorBorder)):o.isAllDay&&(i.className+=" all-day")}function hf(i,o){Fi===o.id&&(i.className+=" focused-event"),fl(o.id)&&(i.className+=" selected-event");for(var s=!1,C=oa.length,F=0;F<C;F++)if(oa[F].id===o.id){s=!0;break}s&&(i.className=Vb?i.className+" cut-event":i.className+" copy-event")}function ig(i,o,s){s=r(s)?s:!1;var C=I.getElementsByClassName("event");C=[].slice.call(C);for(var F=C.length,j=0;j<F;j++){var V=C[j],$=V.getAttribute("event-id");$!==null&&$===i.toString()&&(V.className=s?V.className.replace(n.space+o,n.empty):V.className+(n.space+o))}}function gm(i,o){if(jc(i)&&!w){i=new Date;var s=new Date,C=new Date,F=L(o.repeatEvery);i.setHours(o.from.getHours(),o.from.getMinutes(),0,0),s.setHours(o.to.getHours(),o.to.getMinutes(),0,0),F!==z.never||jc(o.from)||i.setHours(0,0,0,0),F!==z.never||jc(o.to)||s.setHours(23,59,59,99),Fa(o.alertOffset)&&o.alertOffset>0&&(i=lb(i,-o.alertOffset)),C>=i&&C<=s&&((!ob(o.showAsBusy)||o.showAsBusy)&&(qe=!0),(!gl.hasOwnProperty(o.id)&&!ob(o.showAlerts)||o.showAlerts)&&hl(function(){Pm(o)},!1,o))}}function Pm(i){gl[i.id]=!0,new Notification(b.eventNotificationTitle,{body:b.eventNotificationBody.replace("{0}",i.title)}).onclick=function(){var o=K(i.url);o===n.empty?T(i):si(o),A(b.events.onNotificationClicked,i)}}function Li(){hl(function(){Notification.permission!=="granted"&&Notification.requestPermission()})}function hl(i,o,s){b.eventNotificationsEnabled&&!w&&(o=r(o)?o:!0,Notification?i():o&&console.error("Browser notifications API unavailable."),r(s)&&A(b.events.onNotification,s))}function si(i){ea.open(i,b.urlWindowTarget),A(b.events.onEventUrlClicked,i)}function ie(i){i=r(i)?i:!0;for(var o=oa.length,s=0;s<o;s++){var C=oa[s];Vb?ig(C.id,"cut-event",i):ig(C.id,"copy-event",i)}}function fk(i){oa=[];var o=Ha.length;if(o>0)for(i=0;i<o;i++)oa.push(Ha[i]);else oa.push(i)}function fl(i){for(var o=!1,s=Ha.length,C=0;C<s;C++)if(Ha[C].id===i){o=!0;break}return o}function Xh(i,o){for(var s=oa.length,C=0;C<s;C++){var F=oa[C],j=Vc(F.from,F.to);F=o?F:ue(F),F.from.setDate(i.getDate()),F.from.setMonth(i.getMonth()),F.from.setFullYear(i.getFullYear()),F.to.setDate(i.getDate()),F.to.setMonth(i.getMonth()),F.to.setFullYear(i.getFullYear()),F.to.setDate(F.to.getDate()+j),o?A(b.events.onEventUpdated,F):(F.id=null,u.addEvent(F,!1,!0))}Xa(b.eventsPastedText.replace("{0}",s)),o&&(sc(),oa=[],Vb=!1),La(),ra()}function jf(i,o){if(J(i),Ka(),nf(o))la(i)||sc();else if(la(i))if(fl(o.id)){i=Ha.length;for(var s=0;s<i;s++)if(Ha[s].id===o.id){Ha.splice(s,1);break}ig(o.id,"selected-event",!0)}else Ha.push(o),ig(o.id,"selected-event",!1);else sc()}function sc(){var i=!1,o=Ha.length;if(o>0){for(i=0;i<o;i++)ig(Ha[i].id,"selected-event",!0);i=!0,Ha=[]}return i}function Ej(i){if(oa=[],Vb=r(i)?i:!1,i=Ha.length,i>0){for(var o=0;o<i;o++)oa.push(Ha[o]);ie(!1)}}function Sh(){b.autoRefreshTimerDelay>0&&!w&&cg&&td(Ra.autoRefresh,function(){gj(),Pa()},b.autoRefreshTimerDelay)}function gj(){var i=A(b.events.onEventsFetch);if(ya(i))for(var o=i.length,s=0;s<o;s++){var C=i[s];u.removeEvent(C.id,!1,!1),u.addEvent(C,!1,!1)}}function Rh(){b.autoRefreshTimerDelay>0&&!w&&cg&&wd(Ra.autoRefresh)}function Pa(i,o){b.isWidget?ng?R():R(B):(i=r(i)?i:!1,o=r(o)?o:!1,(qj()||i)&&(ra(),ng?(R(),Wj()):La(),o&&A(b.events.onRefresh)))}function qj(){return!Ok()&&!I.body.contains(Na)&&!Kg()&&!dk()&&!Qe()&&ha===null}function td(i,o,s,C){C=r(C)?C:!0,Oi(i)||(Mb[i]=C?setInterval(o,s):setTimeout(function(){o(),delete Mb[i]},s))}function wd(i){Oi(i)&&(clearTimeout(Mb[i]),delete Mb[i])}function Oi(i){return Mb.hasOwnProperty(i)&&Mb[i]!==null}function lj(){var i=[],o=[];return Db(function(s){s=K(s.group),s!==n.empty&&o.indexOf(s.toLowerCase())===G.notFound&&(i.push(s),o.push(s.toLowerCase()))}),i.sort(),i}function k(i,o,s,C){var F=i.toLowerCase(),j=F==="text";return Ri.hasOwnProperty(F)||(Ri[F]=j?I.createTextNode(n.empty):I.createElement(F)),F=Ri[F].cloneNode(!1),(i==="input"&&s!=="button"||i==="textarea")&&(r(C)?F.id=C:F.id=kc()),r(o)&&(F.className=o),r(s)&&(F.type=s),F}function ua(i,o,s){var C=k("p");return D(C,o),i.appendChild(C),r(s)&&(C.className=s),C}function ja(i,o,s,C,F,j){return F=r(F)?F:!1,(j=r(j)?j:!1)&&i.appendChild(k("div","separator")),s=k("span",s),j=dd(C),D(s,o),i.appendChild(s),j&&(s.onclick=C),F&&j&&(s.ondblclick=J),s}function Ia(i,o,s,C,F){return s=k("input",s,"button"),s.value=o,s.onclick=C,i.appendChild(s),r(F)&&Va(s,F,!0),s}function Ea(i){return Le.hasOwnProperty(i)&&Le[i]!==null||(Le[i]=il(i)),I.body.contains(Le[i])||(Le[i]=il(i)),Le[i]}function il(i){var o=null;if(E===null)o=I.getElementById(i);else for(var s=E.getElementsByTagName("*"),C=s.length,F=0;F<C;F++)if(s[F].id===i){o=s[F];break}return o}function $b(i,o){try{i.contains(o)||i.appendChild(o)}catch(s){console.warn(s.message)}}function mb(i,o){try{i.contains(o)&&i.removeChild(o)}catch(s){console.warn(s.message)}}function J(i){i.preventDefault(),i.cancelBubble=!0}function Rc(i){i.cancelBubble=!0}function wf(i,o){var s=i.pageX,C=i.pageY,F=oj();o.style.display="block",s+o.offsetWidth>ea.innerWidth?s-=o.offsetWidth:s++,C+o.offsetHeight>ea.innerHeight?C-=o.offsetHeight:C++,s<F.left&&(s=i.pageX+1),C<F.top&&(C=i.pageY+1),o.style.left=s+"px",o.style.top=C+"px"}function mc(i,o){try{i.type=o}catch(s){console.error(s.message),i.type="text"}}function Ze(i){for(var o=0,s=0;i&&!isNaN(i.offsetLeft)&&!isNaN(i.offsetTop);)o+=i.offsetLeft-i.scrollLeft,s+=i.offsetTop-i.scrollTop,i=i.offsetParent;return{left:o,top:s}}function oj(){var i=I.documentElement;return{left:(ea.pageXOffset||i.scrollLeft)-(i.clientLeft||0),top:(ea.pageYOffset||i.scrollTop)-(i.clientTop||0)}}function Ge(i){(i=r(i)?i:!0)&&kb.pop()}function ue(i,o){return o=r(o)?o:!0,i=ic.parse(ic.stringify(i)),i.from=new Date(i.from),i.to=new Date(i.to),r(i.repeatEnds)&&(i.repeatEnds=new Date(i.repeatEnds)),delete i.created,delete i.lastUpdated,o&&delete i.id,i}function Ke(i,o){i!==null&&(i.className=o)}function rc(i){var o=i;return b.allowHtmlInDisplay||(o=k("div"),o.innerHTML=i,o=o.innerText),o}function Se(i,o,s){s=r(s)?s:!0;var C=null;return ea.getComputedStyle?C=I.defaultView.getComputedStyle(i,null).getPropertyValue(o):i.currentStyle&&(C=i.currentStyle[o]),s&&(C=parseFloat(C,10)),C}function D(i,o){b.allowHtmlInDisplay?i.innerHTML=o:i.innerText=rc(o)}function $a(i,o){i!==null&&(i.style.display=o?"inline-block":"none")}function Ch(i,o,s){i=E.getElementsByClassName(i);for(var C=i.length,F=0;F<C;F++)for(var j=i[F].children,V=j.length,$=0;$<V;$++)j[$]!==s&&o(j[$])}function rd(i){for(var o=i.children,s=o.length-1;s--;)i.appendChild(o[s])}function pg(i,o){i=I.getElementsByClassName(i),i=[].slice.call(i);for(var s=i.length,C=0;C<s;C++){var F=i[C];F.id!==Da&&(r(o)?F.className=o:F.style.display="none")}}function $h(i,o){for(i=i.getElementsByClassName(o);i[0];)i[0].parentNode.removeChild(i[0])}function Fk(i,o){for(i=i.getElementsByClassName(o);i[0];)i[0].className=i[0].className.replace(o,n.empty)}function ma(i,o,s,C){var F=k("div","radio-button-container");return i.appendChild(F),i=k("label","radio-button"),F.appendChild(i),F=k("input",null,"radio"),F.name=s,i.appendChild(F),r(C)&&(F.onchange=C),i.appendChild(k("span","check-mark")),ja(i,o,"text"),F}function M(i,o,s,C,F,j,V){j=r(j)?n.space+j:n.empty;var $=k("div");return i.appendChild($),i=k("label","checkbox"+j),$.appendChild(i),r(V)&&(i.onclick=V),V=k("input",null,"checkbox"),i.appendChild(V),r(C)&&(V.name=C),r(s)&&(V.onchange=s),r(F)&&(V.checked=F),i.appendChild(k("span","check-mark")),ja(i,o,"text"),[V,i]}function x(i,o,s,C,F){return o=k("div",o),o.ondblclick=J,o.onclick=C,i.appendChild(o),Va(o,s,F),o}function sm(i,o){i.innerHTML=n.empty;var s=k("div","no-events-available-text");i.appendChild(s),ua(s,b.noEventsAvailableFullText),b.manualEditingEnabled&&(s.appendChild(k("div")),ja(s,b.clickText+n.space),ja(s,b.hereText,"link",o),ja(s,n.space+b.toAddANewEventText))}function Q(i){return i=i.toString(),i.length===1?"0"+i:i}function Sd(i){return i.replace(/^\s+|\s+$/g,n.empty)}function kc(){for(var i=[],o=0;o<32;o++){o!==8&&o!==12&&o!==16&&o!==20||i.push("-");var s=qa.floor(qa.random()*16).toString(16);i.push(s)}return i.join(n.empty)}function ta(i,o){return i.substring(0,o.length)===o}function Km(i,o){var s=i;return o=r(o)?o:30,i.length>o&&(o=o%2===0?o/2:(o-1)/2,s=i.substring(0,o)+"..."+i.substring(i.length-o)),s}function r(i){return i!=null&&i!==n.empty}function Yh(i){return typeof i=="function"}function dd(i){return r(i)&&Yh(i)}function W(i){return r(i)&&typeof i=="string"}function Fa(i){return r(i)&&typeof i=="number"}function ob(i){return r(i)&&typeof i=="boolean"}function Ta(i){return r(i)&&typeof i=="object"}function ya(i){return Ta(i)&&i instanceof Array}function ab(i){return W(i)&&i!==n.empty}function Dc(i){return Ta(i)&&i instanceof Date}function hj(i){return Ta(i)&&i.tagName!==void 0}function sk(i){return/^https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_\+.~#?&\/=]*)$/.test(i)}function ce(i,o){var s=ya(i)&&ya(o);return s&&(i.sort(),o.sort(),s=ic.stringify(i)===ic.stringify(o)),s}function p(i,o){return typeof i=="string"?i:o}function hb(i,o){return W(i)?i:o}function v(i,o){return ob(i)?i:o}function xa(i,o){return Fa(i)?i:o}function jg(i,o){return ya(i)?i:o}function Si(i,o){return Dc(i)?i:o}function H(i,o){return dd(i)?i:o}function qb(){if(b.useLocalStorageForEvents&&ea.localStorage){if(b.useLocalStorageForEvents&&ea.localStorage){for(var i=ea.localStorage.length,o=[],s=0;s<i;s++)ta(ea.localStorage.key(s),"CJS_")&&o.push(ea.localStorage.key(s));for(i=o.length,s=0;s<i;s++)ea.localStorage.removeItem(o[s])}for(o=Ab(Gd()),i=o.length,s=0;s<i;s++){var C=ic.stringify(o[s]);ea.localStorage.setItem("CJS_"+s.toString(),C)}}}function Qi(i){for(var o=i.length,s=[],C=[],F=function(_,Fe){s.push(_),C=C.concat(Fe),s.length===o&&(_=C,_.length>0&&(qb(),Sb(),La(),ra(),Xa(b.eventsImportedText.replace("{0}",_.length)),A(b.events.onEventsImported,_)))},j=0;j<o;j++){var V=i[j],$=V.name.split(".").pop().toLowerCase();$==="json"?Qm(V,F):($==="ics"||$==="ical")&&Rm(V,F)}}function Qm(i,o){var s=new FileReader,C=[];s.readAsText(i),s.onloadend=function(){o(i.name,C)},s.onload=function(F){F=Re(F.target.result),Ta(F)&&F.hasOwnProperty("events")&&(F=F.events);for(var j=F.length,V=0;V<j;V++){var $=F[V];u.removeEvent($.id,!1,!1),u.addEvent($,!1,!1)&&C.push($)}}}function Rm(i,o){var s=new FileReader,C=[];s.readAsText(i),s.onloadend=function(){o(i.name,C)},s.onload=function(F){F=F.target.result.split(n.newLineCharacterReturn);var j=F.length;if(F[0].indexOf("BEGIN:VCALENDAR")>G.notFound&&F[j-1].indexOf("END:VCALENDAR")>G.notFound)for(var V=!1,$={},_=0;_<j;_++){var Fe=F[_];if(Fe.indexOf("BEGIN:VEVENT")>G.notFound)V=!0;else if(Fe.indexOf("END:VEVENT")>G.notFound){var _e=ic.parse(ic.stringify($));V=!1,$={},u.removeEvent(_e.id,!1,!1),u.addEvent(_e,!1,!1)&&C.push(_e)}if(V){if(ta(Fe,"UID:"))$.id=Fe.split(":").pop();else if(ta(Fe,"SUMMARY:"))$.title=Fe.split(":").pop();else if(ta(Fe,"DESCRIPTION:"))$.description=Fe.split(":").pop();else if(ta(Fe,"DTSTART:")||ta(Fe,"DTSTART;"))$.from=Fh(Fe.split(":").pop()),$.isAllDay=Fe.split(":").pop().length===8;else if(ta(Fe,"DTEND:")||ta(Fe,"DTEND;"))$.to=Fh(Fe.split(":").pop(),!0);else if(ta(Fe,"CREATED:"))$.created=Fh(Fe.split(":").pop());else if(ta(Fe,"LOCATION:"))$.location=Fe.split(":").pop();else if(ta(Fe,"URL:"))$.url=Fe.split(":").pop();else if(ta(Fe,"TRANSP:"))$.showAsBusy=Fe.split(":").pop()==="OPAQUE";else if(ta(Fe,"BEGIN:VALARM"))$.showAlerts=!0;else if(ta(Fe,"CATEGORIES:"))$.group=Fe.split(":").pop();else if(ta(Fe,"ORGANIZER;"))_e=$,Fe=Fe.split(";").pop().split(":"),_e.organizerName=Fe[0].replace("CN=",n.empty),_e.organizerEmailAddress=Fe[2];else if(ta(Fe,"RRULE:")){_e=$,Fe=Fe.split(":").pop().split(";");for(var et=Fe.length,tt=null,lt=null,rt=null,nt=0;nt<et;nt++){var it=Fe[nt];ta(it,"FREQ=")?tt=it.split("=")[1]:ta(it,"INTERVAL=")?lt=it.split("=")[1]:ta(it,"UNTIL=")&&(rt=it.split("=")[1])}r(tt)&&(r(lt)&&(lt=parseInt(lt),lt>=2&&tt!=="WEEKLY"&&(_e.repeatEveryCustomValue=lt)),r(_e.repeatEveryCustomValue)?tt==="DAILY"?_e.repeatEveryCustomType=O.daily:tt==="WEEKLY"?_e.repeatEveryCustomType=O.weekly:tt==="MONTHLY"?_e.repeatEveryCustomType=O.monthly:tt==="YEARLY"&&(_e.repeatEveryCustomType=O.yearly):tt==="DAILY"?_e.repeatEvery=z.everyDay:tt==="WEEKLY"?_e.repeatEvery=z.everyWeek:tt==="MONTHLY"?_e.repeatEvery=z.everyMonth:tt==="MONTHLY"&&lt===2?_e.repeatEvery=z.every2Weeks:tt==="YEARLY"&&(_e.repeatEvery=z.everyYear),r(rt)&&(Fe=Fh(rt),Fe.setDate(Fe.getDate()-1),_e.repeatEnds=Fe))}}}}}function Fh(i,o){var s=n.empty,C=i.length===8;return s+=i.substring(0,4),i=i.slice(4),s+="-"+i.substring(0,2),i=i.slice(2),s+="-"+i.substring(0,2),i=i.slice(2),s+="T",C?(o=r(o)?o:!1,s+=o?"23:59:00":"00:00:00"):(i=i.slice(1),s+=i.substring(0,2),i=i.slice(2),s+=":"+i.substring(0,2),i=i.slice(2),s+=":"+i.substring(0,2),i.slice(2)),new Date(s+"Z")}function Il(){var i=k("input",null,"file");i.accept=".ical, .ics, .json",i.multiple="multiple",i.onchange=function(){Qi(i.files)},Nb(),i.click()}function Bc(i,o,s,C){o=r(o)?o.toLowerCase():"csv",C=r(C)?C:!1;var F=n.empty,j=Ab,V=[];if(V=r(i)?V.concat(i):Gd(),V=Ab(V),i=j(V,!1),o==="csv"){F=i.length,j=Ti(),V=j[0];var $=j[1],_=[];j=[];for(var Fe=0;Fe<$;Fe++)_.push(jl(V[Fe]));for(j.push(_.join(",")),V=0;V<F;V++){$=j,_=Ui(i[V]),Fe=_.length;for(var _e=0;_e<Fe;_e++)_[_e]=jl(_[_e]);$.push(_.join(","))}F=j.join(n.newLine)}else if(o==="xml"){for(V=s,F=[],j=i.length,F.push('<?xml version="1.0" ?>'),F.push("<Calendar>"),r(V)&&F.push("<Filename>"+V+"</Filename>"),F.push("<LastModified>"+Vi()+"</LastModified>"),F.push("</Calendar>"),F.push("<Events>"),V=0;V<j;V++){for($=i[V],_=Gh($),Fe=_.length,F.push("<Event>"),_e=0;_e<Fe;_e++){var et=_[_e];if(et!=="customTags"&&$.hasOwnProperty(et)&&$[et]!==null){var tt=Wi(et);F.push("<"+tt+">"+Hh(et,$[et])+"</"+tt+">")}}F.push("</Event>")}F.push("</Events>"),F=F.join(n.newLine)}else if(o==="json")F=gk(i);else if(o==="text"){for(V=s,F=[],j=i.length,r(V)&&F.push("Filename: "+V),F.push("Last Modified: "+Vi()),F.push(n.empty),V=0;V<j;V++){for($=i[V],_=Gh($),Fe=_.length,_e=0;_e<Fe;_e++)et=_[_e],et!=="customTags"&&$.hasOwnProperty(et)&&$[et]!==null&&F.push(Wi(et)+": "+Hh(et,$[et]));F.push(n.empty)}F.pop(),F=F.join(n.newLine)}else if(o==="ical"){for(F=[],j=i.length,F.push("BEGIN:VCALENDAR"),F.push("VERSION:2.0"),F.push("PRODID:-//Bunoon//Calendar.js v"+u.getVersion()+"//EN"),F.push("CALSCALE:GREGORIAN"),V=0;V<j;V++){if($=i[V],_=K($.organizerName),Fe=K($.organizerEmailAddress),et=L($.repeatEvery),W(_)||(_=b.organizerName),W(Fe)||(Fe=b.organizerEmailAddress),F.push("BEGIN:VEVENT"),F.push("UID:"+K($.id)),F.push("STATUS:CONFIRMED"),F.push("SEQUENCE:0"),!ob($.showAsBusy)||$.showAsBusy?F.push("TRANSP:OPAQUE"):F.push("TRANSP:TRANSPARENT"),$.isAllDay?(F.push("DTSTART:"+kl($.from)),F.push("DTEND:"+kl($.to))):(F.push("DTSTART:"+Me($.from)),F.push("DTEND:"+Me($.to))),Dc($.created)&&(_e=Me($.created),F.push("DTSTAMP:"+_e),F.push("CREATED:"+_e)),Dc($.lastUpdated)&&F.push("LAST-MODIFIED:"+Me($.lastUpdated)),W(_)&&W(Fe)&&F.push("ORGANIZER;CN="+_+":MAILTO:"+Fe),et!==z.never){if(_=F,Fe=_.push,_e=$,tt=et,et=[],tt===z.custom){tt=L(_e.repeatEveryCustomType);var lt=L(_e.repeatEveryCustomValue);tt===O.daily?et.push("FREQ=DAILY"):tt===O.weekly?et.push("FREQ=WEEKLY"):tt===O.monthly?et.push("FREQ=MONTHLY"):tt===O.yearly&&et.push("FREQ=YEARLY"),et.push("INTERVAL="+lt.toString())}else tt===z.everyDay?et.push("FREQ=DAILY"):tt===z.everyWeek||tt===z.every2Weeks?et.push("FREQ=WEEKLY"):tt===z.everyMonth?et.push("FREQ=MONTHLY"):tt===z.everyYear&&et.push("FREQ=YEARLY"),tt===z.every2Weeks?et.push("INTERVAL=2"):et.push("INTERVAL=1");Dc(_e.repeatEnds)&&(_e=new Date(_e.repeatEnds),_e.setDate(_e.getDate()+1),et.push("UNTIL="+Me(_e))),_e=et.join(";"),Fe.call(_,"RRULE:"+_e)}W($.title)&&F.push("SUMMARY:"+kg($.title)),W($.description)&&F.push("DESCRIPTION:"+kg($.description)),W($.location)&&F.push("LOCATION:"+kg($.location)),W($.url)&&F.push("URL:"+kg($.url)),W($.group)&&F.push("CATEGORIES:"+kg($.group)),(!ob($.showAlerts)||$.showAlerts)&&(F.push("BEGIN:VALARM"),F.push("TRIGGER;VALUE=DATE-TIME:"+Me($.from)),F.push("ACTION:DISPLAY"),F.push("END:VALARM")),F.push("END:VEVENT")}F.push("END:VCALENDAR"),F=F.join(n.newLineCharacterReturn)}else if(o==="md"){for(F=i.length,j=Ti(),V=j[1],j=["| "+j[0].join(" | ")+" |"],$=[],_=0;_<V;_++)$.push("---");for(j.push("| "+$.join(" | ")+" |"),V=0;V<F;V++)$=Ui(i[V]),j.push("| "+$.join(" | ")+" |");F=j.join(n.newLine)}else if(o==="html"){for(V=s,F=[],j=i.length,F.push("<!DOCTYPE html>"),F.push("<html>"),F.push("<head>"),F.push('<meta charset="utf-8" />'),F.push('<meta http-equiv="Last-Modified" content="'+Vi()+' GMT" />'),r(V)&&F.push("<title>"+V+"</title>"),F.push("</head>"),F.push("<body>"),V=0;V<j;V++){for($=i[V],_=Gh($),Fe=_.length,F.push("<h3><b>"+$.id+":</b></h3>"),F.push("<ul>"),_e=0;_e<Fe;_e++)et=_[_e],et!=="customTags"&&$.hasOwnProperty(et)&&$[et]!==null&&F.push("<li><b>"+Wi(et)+"</b>: "+Hh(et,$[et])+"</li>");F.push("</ul>")}F.push("</body>"),F.push("</html>"),F=F.join(n.newLine)}else if(o==="tsv"){for(F=i.length,j=Ti(),V=j[0],$=j[1],_=[],j=[],Fe=0;Fe<$;Fe++)_.push(ll(V[Fe]));for(j.push(_.join("	")),V=0;V<F;V++){for($=j,_=Ui(i[V]),Fe=_.length,_e=0;_e<Fe;_e++)_[_e]=ll(_[_e]);$.push(_.join("	"))}F=j.join(n.newLine)}F!==n.empty&&(C?(Kf.clipboard.writeText(F),Xa(b.eventsExportedText)):(C=k("a"),j="text",$=V=o,o==="text"?(V="plain",$="txt"):o==="ical"?(V="calendar",$="ics"):o==="json"?j="application":o==="md"?V="x-markdown":o==="html"?V="html":o==="tsv"&&(V="tab-separated-values"),V=[j,V,$],o=V[0],j=V[1],V=V[2],s=r(s)?s:hk(V),C.style.display="none",C.setAttribute("target","_blank"),C.setAttribute("href","data:"+o+"/"+j+";charset=utf-8,"+encodeURIComponent(F)),C.setAttribute("download",s),I.body.appendChild(C),C.click(),I.body.removeChild(C),Xa(b.eventsExportedToText.replace("{0}",s))),A(b.events.onEventsExported,i))}function hk(i,o){o=r(o)?o:b.exportStartFilename;var s=new Date,C=Q(s.getDate())+"-"+Q(s.getMonth()+1)+"-"+s.getFullYear();return s=Q(s.getHours())+"-"+Q(s.getMinutes()),o+C+"_"+s+"."+i}function lg(i){return i?b.yesText:b.noText}function Ne(i){var o=b.repeatsNever;return r(i)&&(o=Q(i.getDate())+"/"+Q(i.getMonth()+1)+"/"+i.getFullYear(),i=Q(i.getHours())+":"+Q(i.getMinutes()),o=o+n.space+i),o}function K(i,o){return o=r(o)?o:n.empty,W(i)?i:o}function L(i,o){return o=r(o)?o:0,Fa(i)?i:o}function $k(i,o){return o=r(o)?o:0,ob(i)?i?1:0:o}function xi(i,o){return o=r(o)?o:!1,ob(i)?i:o}function Uc(i,o){return o=r(o)?o:[],ya(i)?i:o}function vd(i){var o=b.dailyText;return i=L(i),i===z.everyDay?o=b.repeatsEveryDayText:i===z.everyWeek?o=b.repeatsEveryWeekText:i===z.every2Weeks?o=b.repeatsEvery2WeeksText:i===z.everyMonth?o=b.repeatsEveryMonthText:i===z.everyYear?o=b.repeatsEveryYearText:i===z.custom&&(o=b.repeatsByCustomSettingsText),o}function Ih(i,o){o=r(o)?o:!1,i=Uc(i);for(var s=i.length,C=0;C<s;C++)i[C]=o?'"'+i[C]+'"':i[C];return i.join(",")}function Wi(i){return i.charAt(0).toUpperCase()+i.slice(1)}function Hh(i,o,s){var C=(s=r(s)?s:!1)?'"'+K(o)+'"':K(o);return typeof o=="boolean"?C=s?o.toString():lg(o):typeof o=="object"&&o instanceof Date?C=s?'"'+o.toISOString()+'"':Ne(o):typeof o=="object"&&o instanceof Array?C=i!=="repeatEveryExcludeDays"||s?s?"["+Ih(o)+"]":Ih(o):ml(o):typeof o=="number"&&(i!=="repeatEvery"||s?i!=="repeatEveryCustomType"||s?C=i!=="type"||s?o.toString():P[parseInt(o)].text:(i=b.dailyText,o=L(o),o===O.daily?i=b.dailyText:o===O.weekly?i=b.weeklyText:o===O.monthly?i=b.monthlyText:o===O.yearly&&(i=b.yearlyText),C=i):C=vd(o)),C}function ml(i){var o=[];if(ya(i))for(var s=i.length,C=0;C<s;C++){var F=i[C]-1;F===-1&&(F=6),o.push(b.dayNames[F])}return Ih(o)}function Ti(){var i=[b.idText,b.typeText,b.fromText,b.toText,b.isAllDayText,b.titleText,b.descriptionText,b.locationText,b.backgroundColorText,b.textColorText,b.borderColorText,b.repeatsText,b.repeatEndsText,b.repeatDaysToExcludeText,b.seriesIgnoreDatesText,b.createdText,b.lastUpdatedText,b.organizerNameText,b.organizerEmailAddressText,b.urlText,b.lockedText,b.showAlertsText,b.showAsBusyText,b.alertOffsetText];return[i,i.length]}function Ui(i){var o=[];return o.push(K(i.id)),o.push(P[L(i.type)].text),o.push(Ne(i.from)),o.push(Ne(i.to)),o.push(lg(i.isAllDay)),o.push(K(i.title)),o.push(K(i.description)),o.push(K(i.location)),o.push(K(i.color)),o.push(K(i.colorText)),o.push(K(i.colorBorder)),o.push(vd(i.repeatEvery)),o.push(Ne(i.repeatEnds)),o.push(ml(i.repeatEveryExcludeDays)),o.push(Ih(i.seriesIgnoreDates)),o.push(Ne(i.created)),o.push(Ne(i.lastUpdated)),o.push(K(i.organizerName)),o.push(K(i.organizerEmailAddress)),o.push(K(i.url)),o.push(lg(i.locked)),o.push(lg(!ob(i.showAlerts)||i.showAlerts)),o.push(lg(!ob(i.showAsBusy)||i.showAsBusy)),o.push(L(i.alertOffset)),o}function Gh(i){var o=[],s;for(s in i)i.hasOwnProperty(s)&&o.push(s);return o.sort(),o}function Vi(){var i=new Date,o=Oh("{ddd}, {dd} {mmm} {yyyy}",i);return o+=" "+Q(i.getHours())+":"+Q(i.getMinutes())+":"+Q(i.getSeconds())}function jl(i){return i=i.toString().replace(/(\r\n|\n|\r)/gm,n.empty).replace(/(\s\s)/gm,n.space),i=i.replace(/"/g,'""'),'"'+i+'"'}function gk(i){var o=[],s=i.length;o.push("{"),o.push('"events": [');for(var C=0;C<s;C++){var F=i[C],j=Gh(F),V=j.length;o.push("{");for(var $=0;$<V;$++){var _=j[$];_!=="customTags"&&F.hasOwnProperty(_)&&F[_]!==null&&o.push('"'+_+'":'+Hh(_,F[_],!0)+",")}F=o[o.length-1],o[o.length-1]=F.substring(0,F.length-1),o.push("},")}return o[o.length-1]="}",o.push("]"),o.push("}"),o.join(n.newLine)}function kg(i){return rc(K(i)).replace(/\n|\r/g,n.empty)}function Me(i){var o=[];return r(i)&&(o.push(i.getFullYear()),o.push(Q(i.getMonth()+1)),o.push(Q(i.getDate())),o.push("T"),o.push(Q(i.getHours())),o.push(Q(i.getMinutes())),o.push("00Z")),o.join(n.empty)}function kl(i){var o=[];return r(i)&&(o.push(i.getFullYear()),o.push(Q(i.getMonth()+1)),o.push(Q(i.getDate()))),o.join(n.empty)}function ll(i){return i=i.replace(/\\/g,"\\\\")}function A(i){var o=null,s=[].slice.call(arguments,1);return s.length>0&&(o=!1),dd(i)&&(o=i.apply(null,s)),o}function ee(i,o,s){dd(b.events.onEventClick)&&i.addEventListener("click",function(){A(b.events.onEventClick,o)}),b.manualEditingEnabled?i.ondblclick=function(C){J(C),r(s)?T(o,null,null,s):T(o)}:dd(b.events.onEventDoubleClick)&&(i.ondblclick=function(){A(b.events.onEventDoubleClick,o)})}function bf(i){r(i)&&J(i),(!w||ib)&&(i=new Date(B),i.setMonth(i.getMonth()-1),i.getFullYear()>=b.minimumYear&&(R(i),A(b.events.onPreviousMonth,i),xb()))}function cf(i){r(i)&&J(i),(!w||ib)&&(i=new Date(B),i.setMonth(i.getMonth()+1),i.getFullYear()<=b.maximumYear&&(R(i),A(b.events.onNextMonth,i),xb()))}function sg(){if(!w||ib){var i=new Date(B);i.setFullYear(i.getFullYear()-1),i.getFullYear()>=b.minimumYear&&(R(i),A(b.events.onPreviousYear,i),xb())}}function tg(){if(!w||ib){var i=new Date(B);i.setFullYear(i.getFullYear()+1),i.getFullYear()<=b.maximumYear&&(R(i),A(b.events.onNextYear,i),xb())}}function ug(){if(!w||ib){var i=new Date;(B.getMonth()!==i.getMonth()||B.getFullYear()!==i.getFullYear())&&(R(),A(b.events.onToday),xb())}}function nl(i){b=rb(i),b.views=rb(b.views),b.showDayNumberOrdinals=v(b.showDayNumberOrdinals,!0),b.dragAndDropForEventsEnabled=v(b.dragAndDropForEventsEnabled,!0),b.exportEventsEnabled=v(b.exportEventsEnabled,!0),b.manualEditingEnabled=v(b.manualEditingEnabled,!0),b.autoRefreshTimerDelay=xa(b.autoRefreshTimerDelay,3e4),b.fullScreenModeEnabled=v(b.fullScreenModeEnabled,!0),b.tooltipDelay=xa(b.tooltipDelay,1e3),b.holidays=jg(b.holidays,[{day:1,month:1,title:"New Year's Day",onClickUrl:"https://en.wikipedia.org/wiki/New_Year%27s_Day"},{day:14,month:2,title:"Valentine's Day",onClickUrl:"https://en.wikipedia.org/wiki/Valentine%27s_Day"},{day:1,month:4,title:"April Fools' Day",onClickUrl:"https://en.wikipedia.org/wiki/April_Fools%27_Day"},{day:22,month:4,title:"Earth Day",onClickUrl:"https://en.wikipedia.org/wiki/Earth_Day"},{day:31,month:10,title:"Halloween",onClickUrl:"https://en.wikipedia.org/wiki/Halloween"},{day:11,month:11,title:"Remembrance Day",onClickUrl:"https://en.wikipedia.org/wiki/Remembrance_Day"},{day:24,month:12,title:"Christmas Eve",onClickUrl:"https://en.wikipedia.org/wiki/Christmas_Eve"},{day:25,month:12,title:"Christmas Day",onClickUrl:"https://en.wikipedia.org/wiki/Christmas"},{day:26,month:12,title:"Boxing Day",onClickUrl:"https://en.wikipedia.org/wiki/Boxing_Day"},{day:31,month:12,title:"New Year's Eve",onClickUrl:"https://en.wikipedia.org/wiki/New_Year%27s_Eve"}]),b.organizerName=hb(b.organizerName,n.empty),b.organizerEmailAddress=hb(b.organizerEmailAddress,n.empty),b.spacing=xa(b.spacing,10),b.maximumEventTitleLength=xa(b.maximumEventTitleLength,0),b.maximumEventDescriptionLength=xa(b.maximumEventDescriptionLength,0),b.maximumEventLocationLength=xa(b.maximumEventLocationLength,0),b.maximumEventGroupLength=xa(b.maximumEventGroupLength,0),b.eventNotificationsEnabled=v(b.eventNotificationsEnabled,!1),b.tooltipsEnabled=v(b.tooltipsEnabled,!0),b.urlWindowTarget=hb(b.urlWindowTarget,"_blank"),b.defaultEventBackgroundColor=hb(b.defaultEventBackgroundColor,"#484848"),b.defaultEventTextColor=hb(b.defaultEventTextColor,"#F5F5F5"),b.defaultEventBorderColor=hb(b.defaultEventBorderColor,"#282828"),b.hideEventsWithoutGroupAssigned=v(b.hideEventsWithoutGroupAssigned,!1),b.showHolidays=v(b.showHolidays,!0),b.useTemplateWhenAddingNewEvent=v(b.useTemplateWhenAddingNewEvent,!0),b.useEscapeKeyToExitFullScreenMode=v(b.useEscapeKeyToExitFullScreenMode,!0),b.allowHtmlInDisplay=v(b.allowHtmlInDisplay,!1),b.initialDateTime=Si(b.initialDateTime,null),b.data=jg(b.data,null),b.weekendDays=fd(b.weekendDays,0)?[0,6]:b.weekendDays,b.workingDays=fd(b.workingDays,0)?[]:b.workingDays,b.minimumYear=xa(b.minimumYear,1900),b.maximumYear=xa(b.maximumYear,2099),b.defaultEventDuration=xa(b.defaultEventDuration,30),b.configurationDialogEnabled=v(b.configurationDialogEnabled,!0),b.popUpNotificationsEnabled=v(b.popUpNotificationsEnabled,!0),b.startOfWeekDay=xa(b.startOfWeekDay,za.monday),b.useLocalStorageForEvents=v(b.useLocalStorageForEvents,!1),b.shortcutKeysEnabled=v(b.shortcutKeysEnabled,!0),b.reverseOrderDaysOfWeek=v(b.reverseOrderDaysOfWeek,!1),b.importEventsEnabled=v(b.importEventsEnabled,!0),b.useAmPmForTimeDisplays=v(b.useAmPmForTimeDisplays,!1),b.isWidget=v(b.isWidget,!1),b.viewToOpenOnFirstLoad=hb(b.viewToOpenOnFirstLoad,null),b.eventColorsEditingEnabled=v(b.eventColorsEditingEnabled,!0),b.eventTooltipDelay=xa(b.eventTooltipDelay,1e3),b.jumpToDateEnabled=v(b.jumpToDateEnabled,!0),fd(b.visibleDays)&&(b.visibleDays=[0,1,2,3,4,5,6],ud=[]),i=hb(b.workingHoursStart,null);var o=hb(b.workingHoursEnd,null);r(i)||(i=b.workingHoursStart,i=Ta(i)?i:null),r(o)||(o=b.workingHoursEnd,o=Ta(o)?o:null),b.workingHoursStart=i,b.workingHoursEnd=o,b.sideMenu=rb(b.views.sideMenu),b.sideMenu.showDays=v(b.sideMenu.showDays,!0),b.sideMenu.showGroups=v(b.sideMenu.showGroups,!0),b.sideMenu.showEventTypes=v(b.sideMenu.showEventTypes,!0),b.sideMenu.showWorkingDays=v(b.sideMenu.showWorkingDays,!0),b.sideMenu.showWeekendDays=v(b.sideMenu.showWeekendDays,!0),b.views.fullDay=rb(b.views.fullDay),b.views.fullDay.enabled=v(b.views.fullDay.enabled,!0),b.views.fullDay.showAllDayEventDetails=v(b.views.fullDay.showAllDayEventDetails,!1),b.views.fullDay.minutesBetweenSections=xa(b.views.fullDay.minutesBetweenSections,30),b.views.fullDay.showTimelineArrow=v(b.views.fullDay.showTimelineArrow,!0),b.views.fullDay.showExtraTitleBarButtons=v(b.views.fullDay.showExtraTitleBarButtons,!0),b.views.fullWeek=rb(b.views.fullWeek),b.views.fullWeek.enabled=v(b.views.fullWeek.enabled,!0),b.views.fullWeek.showAllDayEventDetails=v(b.views.fullWeek.showAllDayEventDetails,!1),b.views.fullWeek.showDayNamesHeaders=v(b.views.fullWeek.showDayNamesHeaders,!0),b.views.fullWeek.minutesBetweenSections=xa(b.views.fullWeek.minutesBetweenSections,30),b.views.fullWeek.showTimelineArrow=v(b.views.fullWeek.showTimelineArrow,!0),b.views.fullWeek.showWeekNumbersInTitles=v(b.views.fullWeek.showWeekNumbersInTitles,!1),b.views.fullWeek.showExtraTitleBarButtons=v(b.views.fullWeek.showExtraTitleBarButtons,!0),b.views.fullWeek.showDatesInDayHeaders=v(b.views.fullWeek.showDatesInDayHeaders,!0),b.views.fullMonth=rb(b.views.fullMonth),b.views.fullMonth.maximumEventsPerDayDisplay=xa(b.views.fullMonth.maximumEventsPerDayDisplay,3),b.views.fullMonth.showTimesInEvents=v(b.views.fullMonth.showTimesInEvents,!1),b.views.fullMonth.minimumDayHeight=xa(b.views.fullMonth.minimumDayHeight,0),b.views.fullMonth.showPreviousNextMonthNames=v(b.views.fullMonth.showPreviousNextMonthNames,!0),b.views.fullMonth.useOnlyDotEvents=v(b.views.fullMonth.useOnlyDotEvents,!1),b.views.fullMonth.applyCssToEventsNotInCurrentMonth=v(b.views.fullMonth.applyCssToEventsNotInCurrentMonth,!0),b.views.fullMonth.addYearButtons=v(b.views.fullMonth.addYearButtons,!1),b.views.fullMonth.titleBarDateFormat=hb(b.views.fullMonth.titleBarDateFormat,"{mmmm} {yyyy}"),b.views.fullMonth.showDayNamesHeaders=v(b.views.fullMonth.showDayNamesHeaders,!0),b.views.fullMonth.isPinUpViewEnabled=v(b.views.fullMonth.isPinUpViewEnabled,!1),b.views.fullMonth.pinUpViewImageUrls=jg(b.views.fullMonth.pinUpViewImageUrls,[]),b.views.fullMonth.showMonthButtonsInYearDropDownMenu=v(b.views.fullMonth.showMonthButtonsInYearDropDownMenu,!0),b.views.fullMonth.showExtraTitleBarButtons=v(b.views.fullMonth.showExtraTitleBarButtons,!0),b.views.fullMonth.pinUpViewImageCssClasses=jg(b.views.fullMonth.pinUpViewImageCssClasses,[]),ob(b.views.fullMonth.allowEventScrolling)||(b.views.fullMonth.allowEventScrolling=!1,b.views.fullMonth.allowEventScrolling&&(b.views.fullMonth.maximumEventsPerDayDisplay=0)),b.views.fullYear=rb(b.views.fullYear),b.views.fullYear.enabled=v(b.views.fullYear.enabled,!0),b.views.fullYear.showExtraTitleBarButtons=v(b.views.fullYear.showExtraTitleBarButtons,!0),b.views.timeline=rb(b.views.timeline),b.views.timeline.enabled=v(b.views.timeline.enabled,!0),b.views.timeline.defaultAxis=hb(b.views.timeline.defaultAxis,"group"),b.views.timeline.minutesBetweenSections=xa(b.views.timeline.minutesBetweenSections,30),b.views.timeline.showExtraTitleBarButtons=v(b.views.timeline.showExtraTitleBarButtons,!0),b.views.allEvents=rb(b.views.allEvents),b.views.allEvents.enabled=v(b.views.allEvents.enabled,!0),b.views.allEvents.showExtraTitleBarButtons=v(b.views.allEvents.showExtraTitleBarButtons,!0),b.views.datePicker=rb(b.views.datePicker),b.views.datePicker.selectedDateFormat=hb(b.views.datePicker.selectedDateFormat,"{d}{o} {mmmm} {yyyy}"),b.views.datePicker.minimumDate=Si(b.views.datePicker.minimumDate,null),b.views.datePicker.maximumDate=Si(b.views.datePicker.maximumDate,null),b.events=rb(b.events),b.events.onPreviousMonth=H(b.events.onPreviousMonth,null),b.events.onNextMonth=H(b.events.onNextMonth,null),b.events.onPreviousYear=H(b.events.onPreviousYear,null),b.events.onNextYear=H(b.events.onNextYear,null),b.events.onToday=H(b.events.onToday,null),b.events.onEventAdded=H(b.events.onEventAdded,null),b.events.onEventUpdated=H(b.events.onEventUpdated,null),b.events.onEventRemoved=H(b.events.onEventRemoved,null),b.events.onEventsAdded=H(b.events.onEventsAdded,null),b.events.onEventsCleared=H(b.events.onEventsCleared,null),b.events.onEventsExported=H(b.events.onEventsExported,null),b.events.onSetDate=H(b.events.onSetDate,null),b.events.onEventsSet=H(b.events.onEventsSet,null),b.events.onGroupsCleared=H(b.events.onGroupsCleared,null),b.events.onEventsUpdated=H(b.events.onEventsUpdated,null),b.events.onOptionsUpdated=H(b.events.onOptionsUpdated,null),b.events.onNotificationClicked=H(b.events.onNotificationClicked,null),b.events.onSearchOptionsUpdated=H(b.events.onSearchOptionsUpdated,null),b.events.onFullScreenModeChanged=H(b.events.onFullScreenModeChanged,null),b.events.onEventsSetFromJSON=H(b.events.onEventsSetFromJSON,null),b.events.onEventsAddedFromJSON=H(b.events.onEventsAddedFromJSON,null),b.events.onDatePickerDateChanged=H(b.events.onDatePickerDateChanged,null),b.events.onGroupRemoved=H(b.events.onGroupRemoved,null),b.events.onEventUrlClicked=H(b.events.onEventUrlClicked,null),b.events.onDestroy=H(b.events.onDestroy,null),b.events.onRefresh=H(b.events.onRefresh,null),b.events.onDatePickerOpened=H(b.events.onDatePickerOpened,null),b.events.onDatePickerClosed=H(b.events.onDatePickerClosed,null),b.events.onRender=H(b.events.onRender,null),b.events.onEventDragStart=H(b.events.onEventDragStart,null),b.events.onEventDragStop=H(b.events.onEventDragStop,null),b.events.onEventDragDrop=H(b.events.onEventDragDrop,null),b.events.onEventClick=H(b.events.onEventClick,null),b.events.onEventDoubleClick=H(b.events.onEventDoubleClick,null),b.events.onVisibleGroupsChanged=H(b.events.onVisibleGroupsChanged,null),b.events.onVisibleEventTypesChanged=H(b.events.onVisibleEventTypesChanged,null),b.events.onNotification=H(b.events.onNotification,null),b.events.onBeforeEventAddEdit=H(b.events.onBeforeEventAddEdit,null),b.events.onBusyStateChange=H(b.events.onBusyStateChange,null),b.events.onEventsFetch=H(b.events.onEventsFetch,null),b.events.onEventsImported=H(b.events.onEventsImported,null),b.events.onFullDayEventRender=H(b.events.onFullDayEventRender,null),b.events.onFullWeekEventRender=H(b.events.onFullWeekEventRender,null),b.events.onFullMonthEventRender=H(b.events.onFullMonthEventRender,null),b.events.onAllEventsEventRender=H(b.events.onAllEventsEventRender,null),b.events.onTimelineEventRender=H(b.events.onTimelineEventRender,null),b.events.onWidgetEventRender=H(b.events.onWidgetEventRender,null),b.events.onToolTipEventRender=H(b.events.onToolTipEventRender,null),b.events.onFullDayTitleRender=H(b.events.onFullDayTitleRender,null),b.events.onFullWeekTitleRender=H(b.events.onFullWeekTitleRender,null),b.events.onTimelineTitleRender=H(b.events.onTimelineTitleRender,null),b.events.onFullMonthPinUpRender=H(b.events.onFullMonthPinUpRender,null),b.events.onViewChange=H(b.events.onViewChange,null),fd(b.dayHeaderNames,7)&&(b.dayHeaderNames="Mon Tue Wed Thu Fri Sat Sun".split(" ")),fd(b.dayNames,7)&&(b.dayNames="Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" ")),fd(b.dayNamesAbbreviated,7)&&(b.dayNamesAbbreviated="Mon Tue Wed Thu Fri Sat Sun".split(" ")),fd(b.monthNames,12)&&(b.monthNames="January February March April May June July August September October November December".split(" ")),fd(b.monthNamesAbbreviated,12)&&(b.monthNamesAbbreviated="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")),b.previousMonthTooltipText=p(b.previousMonthTooltipText,"Previous Month"),b.nextMonthTooltipText=p(b.nextMonthTooltipText,"Next Month"),b.previousDayTooltipText=p(b.previousDayTooltipText,"Previous Day"),b.nextDayTooltipText=p(b.nextDayTooltipText,"Next Day"),b.previousWeekTooltipText=p(b.previousWeekTooltipText,"Previous Week"),b.nextWeekTooltipText=p(b.nextWeekTooltipText,"Next Week"),b.addEventTooltipText=p(b.addEventTooltipText,"Add Event"),b.closeTooltipText=p(b.closeTooltipText,"Close"),b.exportEventsTooltipText=p(b.exportEventsTooltipText,"Export Events"),b.todayTooltipText=p(b.todayTooltipText,"Today"),b.refreshTooltipText=p(b.refreshTooltipText,"Refresh"),b.searchTooltipText=p(b.searchTooltipText,"Search"),b.expandDayTooltipText=p(b.expandDayTooltipText,"Expand Day"),b.viewAllEventsTooltipText=p(b.viewAllEventsTooltipText,"View All Events"),b.viewFullWeekTooltipText=p(b.viewFullWeekTooltipText,"View Full Week"),b.fromText=p(b.fromText,"From:"),b.toText=p(b.toText,"To:"),b.isAllDayText=p(b.isAllDayText,"Is All-Day"),b.titleText=p(b.titleText,"Title:"),b.descriptionText=p(b.descriptionText,"Description:"),b.locationText=p(b.locationText,"Location:"),b.addText=p(b.addText,"Add"),b.updateText=p(b.updateText,"Update"),b.cancelText=p(b.cancelText,"Cancel"),b.removeEventText=p(b.removeEventText,"Remove"),b.addEventTitle=p(b.addEventTitle,"Add Event"),b.editEventTitle=p(b.editEventTitle,"Edit Event"),b.exportStartFilename=p(b.exportStartFilename,"exported_events_"),b.fromTimeErrorMessage=p(b.fromTimeErrorMessage,"Please select a valid 'From' time."),b.toTimeErrorMessage=p(b.toTimeErrorMessage,"Please select a valid 'To' time."),b.toSmallerThanFromErrorMessage=p(b.toSmallerThanFromErrorMessage,"Please select a 'To' date that is larger than the 'From' date."),b.titleErrorMessage=p(b.titleErrorMessage,"Please enter a value in the 'Title' field (no empty space)."),b.stText=p(b.stText,"st"),b.ndText=p(b.ndText,"nd"),b.rdText=p(b.rdText,"rd"),b.thText=p(b.thText,"th"),b.yesText=p(b.yesText,"Yes"),b.noText=p(b.noText,"No"),b.allDayText=p(b.allDayText,"All-Day"),b.allEventsText=p(b.allEventsText,"All Events"),b.toTimeText=p(b.toTimeText,"to"),b.confirmEventRemoveTitle=p(b.confirmEventRemoveTitle,"Confirm Event Removal"),b.confirmEventRemoveMessage=p(b.confirmEventRemoveMessage,"Removing this event cannot be undone.  Do you want to continue?"),b.okText=p(b.okText,"OK"),b.exportEventsTitle=p(b.exportEventsTitle,"Export Events"),b.selectColorsText=p(b.selectColorsText,"Select Colors"),b.backgroundColorText=p(b.backgroundColorText,"Background Color:"),b.textColorText=p(b.textColorText,"Text Color:"),b.borderColorText=p(b.borderColorText,"Border Color:"),b.searchEventsTitle=p(b.searchEventsTitle,"Search Events"),b.previousText=p(b.previousText,"Previous"),b.nextText=p(b.nextText,"Next"),b.matchCaseText=p(b.matchCaseText,"Match Case"),b.repeatsText=p(b.repeatsText,"Repeats:"),b.repeatDaysToExcludeText=p(b.repeatDaysToExcludeText,"Repeat Days To Exclude:"),b.daysToExcludeText=p(b.daysToExcludeText,"Days To Exclude:"),b.seriesIgnoreDatesText=p(b.seriesIgnoreDatesText,"Series Ignore Dates:"),b.repeatsNever=p(b.repeatsNever,"Never"),b.repeatsEveryDayText=p(b.repeatsEveryDayText,"Every Day"),b.repeatsEveryWeekText=p(b.repeatsEveryWeekText,"Every Week"),b.repeatsEvery2WeeksText=p(b.repeatsEvery2WeeksText,"Every 2 Weeks"),b.repeatsEveryMonthText=p(b.repeatsEveryMonthText,"Every Month"),b.repeatsEveryYearText=p(b.repeatsEveryYearText,"Every Year"),b.repeatsCustomText=p(b.repeatsCustomText,"Custom:"),b.repeatOptionsTitle=p(b.repeatOptionsTitle,"Repeat Options"),b.moreText=p(b.moreText,"More"),b.includeText=p(b.includeText,"Include:"),b.minimizedTooltipText=p(b.minimizedTooltipText,"Minimize"),b.restoreTooltipText=p(b.restoreTooltipText,"Restore"),b.removeAllEventsInSeriesText=p(b.removeAllEventsInSeriesText,"Remove All Events In Series"),b.createdText=p(b.createdText,"Created:"),b.organizerNameText=p(b.organizerNameText,"Organizer:"),b.organizerEmailAddressText=p(b.organizerEmailAddressText,"Organizer Email:"),b.enableFullScreenTooltipText=p(b.enableFullScreenTooltipText,"Turn On Full-Screen Mode"),b.disableFullScreenTooltipText=p(b.disableFullScreenTooltipText,"Turn Off Full-Screen Mode"),b.idText=p(b.idText,"ID:"),b.expandMonthTooltipText=p(b.expandMonthTooltipText,"Expand Month"),b.repeatEndsText=p(b.repeatEndsText,"Repeat Ends:"),b.noEventsAvailableText=p(b.noEventsAvailableText,"No events available."),b.viewFullWeekText=p(b.viewFullWeekText,"View Full Week"),b.noEventsAvailableFullText=p(b.noEventsAvailableFullText,"There are no events available to view."),b.clickText=p(b.clickText,"Click"),b.hereText=p(b.hereText,"here"),b.toAddANewEventText=p(b.toAddANewEventText,"to add a new event."),b.weekText=p(b.weekText,"Week"),b.groupText=p(b.groupText,"Group:"),b.configurationTooltipText=p(b.configurationTooltipText,"Configuration"),b.configurationTitleText=p(b.configurationTitleText,"Configuration"),b.groupsText=p(b.groupsText,"Groups"),b.eventNotificationTitle=p(b.eventNotificationTitle,"Calendar.js"),b.eventNotificationBody=p(b.eventNotificationBody,"The event '{0}' has started."),b.optionsText=p(b.optionsText,"Options:"),b.startsWithText=p(b.startsWithText,"Starts With"),b.endsWithText=p(b.endsWithText,"Ends With"),b.containsText=p(b.containsText,"Contains"),b.displayTabText=p(b.displayTabText,"Display"),b.enableAutoRefreshForEventsText=p(b.enableAutoRefreshForEventsText,"Enable auto-refresh for events"),b.enableBrowserNotificationsText=p(b.enableBrowserNotificationsText,"Enable browser notifications"),b.enableTooltipsText=p(b.enableTooltipsText,"Enable tooltips"),b.dayText=p(b.dayText,"day"),b.daysText=p(b.daysText,"days"),b.hourText=p(b.hourText,"hour"),b.hoursText=p(b.hoursText,"hours"),b.minuteText=p(b.minuteText,"minute"),b.minutesText=p(b.minutesText,"minutes"),b.enableDragAndDropForEventText=p(b.enableDragAndDropForEventText,"Enable drag & drop for events"),b.organizerTabText=p(b.organizerTabText,"Organizer"),b.removeEventsTooltipText=p(b.removeEventsTooltipText,"Remove Events"),b.confirmEventsRemoveTitle=p(b.confirmEventsRemoveTitle,"Confirm Events Removal"),b.confirmEventsRemoveMessage=p(b.confirmEventsRemoveMessage,"Removing these non-repeating events cannot be undone.  Do you want to continue?"),b.eventText=p(b.eventText,"Event"),b.optionalText=p(b.optionalText,"Optional"),b.urlText=p(b.urlText,"Url:"),b.openUrlText=p(b.openUrlText,"Open Url"),b.thisWeekTooltipText=p(b.thisWeekTooltipText,"This Week"),b.dailyText=p(b.dailyText,"Daily"),b.weeklyText=p(b.weeklyText,"Weekly"),b.monthlyText=p(b.monthlyText,"Monthly"),b.yearlyText=p(b.yearlyText,"Yearly"),b.repeatsByCustomSettingsText=p(b.repeatsByCustomSettingsText,"By Custom Settings"),b.lastUpdatedText=p(b.lastUpdatedText,"Last Updated:"),b.advancedText=p(b.advancedText,"Advanced"),b.copyText=p(b.copyText,"Copy"),b.pasteText=p(b.pasteText,"Paste"),b.duplicateText=p(b.duplicateText,"Duplicate"),b.showAlertsText=p(b.showAlertsText,"Show Alerts"),b.selectDatePlaceholderText=p(b.selectDatePlaceholderText,"Select date..."),b.hideDayText=p(b.hideDayText,"Hide Day"),b.notSearchText=p(b.notSearchText,"Not (opposite)"),b.showHolidaysInTheDisplaysText=p(b.showHolidaysInTheDisplaysText,"Show holidays in the main display and title bars"),b.newEventDefaultTitle=p(b.newEventDefaultTitle,"* New Event"),b.urlErrorMessage=p(b.urlErrorMessage,"Please enter a valid Url in the 'Url' field (or leave blank)."),b.searchTextBoxPlaceholder=p(b.searchTextBoxPlaceholder,"Search title, description, etc..."),b.currentMonthTooltipText=p(b.currentMonthTooltipText,"Current Month"),b.cutText=p(b.cutText,"Cut"),b.showMenuTooltipText=p(b.showMenuTooltipText,"Show Menu"),b.eventTypesText=p(b.eventTypesText,"Event Types"),b.lockedText=p(b.lockedText,"Locked:"),b.typeText=p(b.typeText,"Type:"),b.sideMenuHeaderText=p(b.sideMenuHeaderText,"Calendar.js"),b.sideMenuDaysText=p(b.sideMenuDaysText,"Days"),b.visibleDaysText=p(b.visibleDaysText,"Visible Days"),b.previousYearTooltipText=p(b.previousYearTooltipText,"Previous Year"),b.nextYearTooltipText=p(b.nextYearTooltipText,"Next Year"),b.showOnlyWorkingDaysText=p(b.showOnlyWorkingDaysText,"Show Only Working Days"),b.exportFilenamePlaceholderText=p(b.exportFilenamePlaceholderText,"Name (optional)"),b.errorText=p(b.errorText,"Error"),b.exportText=p(b.exportText,"Export"),b.configurationUpdatedText=p(b.configurationUpdatedText,"Configuration updated."),b.eventAddedText=p(b.eventAddedText,"{0} event added."),b.eventUpdatedText=p(b.eventUpdatedText,"{0} event updated."),b.eventRemovedText=p(b.eventRemovedText,"{0} event removed."),b.eventsRemovedText=p(b.eventsRemovedText,"{0} events removed."),b.eventsExportedToText=p(b.eventsExportedToText,"Events exported to {0}."),b.eventsPastedText=p(b.eventsPastedText,"{0} events pasted."),b.eventsExportedText=p(b.eventsExportedText,"Events exported."),b.copyToClipboardOnlyText=p(b.copyToClipboardOnlyText,"Copy to clipboard only"),b.workingDaysText=p(b.workingDaysText,"Working Days"),b.weekendDaysText=p(b.weekendDaysText,"Weekend Days"),b.showAsBusyText=p(b.showAsBusyText,"Show As Busy"),b.selectAllText=p(b.selectAllText,"Select All"),b.selectNoneText=p(b.selectNoneText,"Select None"),b.importEventsTooltipText=p(b.importEventsTooltipText,"Import Events"),b.eventsImportedText=p(b.eventsImportedText,"{0} events imported."),b.viewFullYearTooltipText=p(b.viewFullYearTooltipText,"View Full Year"),b.currentYearTooltipText=p(b.currentYearTooltipText,"Current Year"),b.alertOffsetText=p(b.alertOffsetText,"Alert Offset (minutes):"),b.viewFullDayTooltipText=p(b.viewFullDayTooltipText,"View Full Day"),b.confirmEventUpdateTitle=p(b.confirmEventUpdateTitle,"Confirm Event Update"),b.confirmEventUpdateMessage=p(b.confirmEventUpdateMessage,"Would you like to update the event from this point forward, or the entire series?"),b.forwardText=p(b.forwardText,"Forward"),b.seriesText=p(b.seriesText,"Series"),b.viewTimelineTooltipText=p(b.viewTimelineTooltipText,"View Timeline"),b.nextPropertyTooltipText=p(b.nextPropertyTooltipText,"Next Property"),b.noneText=p(b.noneText,"(none)"),b.shareText=p(b.shareText,"Share"),b.shareStartFilename=p(b.shareStartFilename,"shared_events_"),b.previousPropertyTooltipText=p(b.previousPropertyTooltipText,"Previous Property"),b.jumpToDateTitle=p(b.jumpToDateTitle,"Jump To Date"),b.goText=p(b.goText,"Go"),mg(b.eventTypeNormalText,"Normal",0),mg(b.eventTypeMeetingText,"Meeting",1),mg(b.eventTypeBirthdayText,"Birthday",2),mg(b.eventTypeHolidayText,"Holiday",3),mg(b.eventTypeTaskText,"Task",4),Li()}function mg(i,o,s){P.hasOwnProperty(s)&&(W(i)?P[s].text=i:P[s].text=o)}function fd(i,o){return o=Fa(o)?o:1,!ya(i)||i.length<o}function rb(i,o){return Ta(i)||(i=Ta(o)?o:{}),i}var u=this,I=null,ea=null,Kf=null,Da=null,qa=null,ic=null,n={empty:"",space:" ",newLine:`
`,newLineCharacterReturn:`\r
`},G={notFound:-1},za={monday:0,saturday:5,sunday:6},U={enter:13,escape:27,left:37,right:39,down:40,a:65,c:67,e:69,f:70,g:71,j:74,m:77,o:79,v:86,x:88,f5:116,f11:122},z={never:0,everyDay:1,everyWeek:2,every2Weeks:3,everyMonth:4,everyYear:5,custom:6},O={daily:0,weekly:1,monthly:2,yearly:3},b={},y={},P={0:{text:"Normal Label",eventEditorInput:null},1:{text:"Meeting Label",eventEditorInput:null},2:{text:"Birthday Label",eventEditorInput:null},3:{text:"Holiday Label",eventEditorInput:null},4:{text:"Task Label",eventEditorInput:null}},S={visibleGroups:null,visibleEventTypes:null,visibleAllEventsMonths:{}},sb=!1,ae=!1,Oe=!1,wb={},Hd={},Ha=[],oa=[],Vb=!1,Zd=null,ha=null,gl={},B=null,ng=!1,Ic=null,qe=!1,Xj=!1,Le={},Ca=[],Ri={},Mb={},cg=!0,Ra={windowResize:"WindowResize",searchOptionsChanged:"SearchOptionsChanged",searchEventsHistoryDropDown:"SearchEventsHistoryDropDown",showToolTip:"ShowToolTip",autoRefresh:"AutoRefresh",hideNotification:"HideNotification",sideMenuEvents:"SideMenuEvents"},zb=null,Qb=null,og=!1,id=null,Kc=null,Oc=null,md=null,Pc=null,ld=null,pd=null,Lc=null,od=null,Mc=null,nd=null,Nc=null,be=null,Hc=null,Te=null,w=!1,ib=!1,nj=null,yb={fullMonth:"full-month",fullDay:"full-day",fullWeek:"full-week",fullYear:"full-year",timeline:"timeline",allEvents:"all-events"},Bb=[],Ah=0,xg=null,yg=null,Wb=null,zg=null,Ag=null,E=null,Na=null,xd=!1,Xk=null,ud=[],ba=null,df=null,Cb=null,Tc=null,Aa=null,je=null,N=null,nc=[],Zh=null,Gj=null,ff=null,Hj=null,Bg=[],ia=null,Ua=null,ai=null,Sj=null,Ed=null,Dd=null,Fd=null,ne=null,me=null,lf=null,oc=[],mf={},Yb=null,Rj=null,oe=null,di=!1,Fg=null,of=0,ei=[],Ob=null,pf=[],X=null,pe=null,Nh=null,Jg=null,Zb=null,qf=null,Xc={},Hg=null,Gg=null,tb=null,Wc=0,fi=null,Ec=null,kd=[],Mh=null,Ga=null,li=null,ki=null,re=null,wa=null,Mg=0,va=null,ni=null,Yj=null,Jd=null,Rb=[],vg=[],oi=[],na=null,pi=null,bk=null,ak=null,Wa=null,vf=null,sf=null,tf=null,Og={},uf=[],Jc=[],fa=null,Ng=null,db=null,se="location organizerName group organizerEmailAddress url title description".split(" "),kb=[],Lb=null,Dh=0,Eh=0,$d=!1,cl=0,dl=0,gb=null,ac=null,Wg=null,Xg=null,$c=null,Vg=null,Yc=null,bc=null,cc=null,nb=null,dc=null,ze=null,Lf=null,Mf=null,Gb=null,wi=null,Pd=null,Qd=null,Od=null,Ae=null,wc=null,Nf=null,Of=null,Pf=null,Qf=null,Rf=null,ec=null,Yg=null,Md=null,Sf=null,Tf=null,Uf=null,bd=null,ka={},Hf=null,Sg=null,Nd=null,yi=null,Vf=null,xc=null,Ce=null,De=null,Ee=null,yc=null,Zg=null,$g=null,ah=null,bh=null,ch=null,dh=null,eh=null,Rd=null,cd=null,zi=null,Ai=null,Tg=null,Bi=null,Yf=null,zc=null,Ya=null,Ci=null,wk=null,xk=null,yk=null,zk=null,Ak=null,Bk=null,Ck=null,Ac=null,Ib=null,jh=null,pa=null,Ud=null,fc=null,sa=null,lh=null,kh=null,Ie=null,$f=null,ag=null,mh=null,nh=null,oh=null,ph=null,qh=null,rh=null,sh=null,th=null,uh=null,Di=!1,Jb=[],ed=0,Fi=null,Fb=null,vb=null,Kb=null,Vd=null,Je=null,Gi=null,Hi=null,Ii=null,Ji=null,Ki=null,vh=null,wh=null,Cc=null,hc=null,Ma=null,qi=null,Pg=null,Kd=null,da=null,fb=null,ek=null,If=null,Gf=null,ri=null,Ff=null,Ef=null,zf=null,Df=null,Cf=null,Bf=null,Af=null,yf=null,xf=null,Rg=null,Qg=null,Sa=null,vi=null,ui=null,ti=null,Ug=null,ef=null,ve=null,ub=null,ik=null,kk=null,lk=null,mk=null,jk=null,Y=null,zh=null,Ni=null,yh=null,Wd=null,dg=null,Xd=null,eg=null,fg=null,gg=null,Yd=null,Id=null,lc=null;u.turnOnFullScreen=function(){return w||Vk(),u},u.turnOffFullScreen=function(){return w||Uk(),u},u.isFullScreenActivated=function(){return xd},u.startTheAutoRefreshTimer=function(){return w||(cg=!0,Sh()),u},u.stopTheAutoRefreshTimer=function(){return w||(Rh(),cg=!1),u},u.destroy=function(){if(sb){Oe&&Jh(!1);for(var i in Mb)Mb.hasOwnProperty(i)&&Mb[i]!==null&&(clearTimeout(Mb[i]),delete Mb[i]);i=Ca.length;for(var o=0;o<i;o++)I.body.removeChild(Ca[o]);Ca=[],w&&I.removeEventListener("click",hd),b.tooltipsEnabled&&document.body.removeEventListener("mousemove",pc),r(E)&&(E.className=n.empty,E.innerHTML=n.empty),A(b.events.onDestroy,Da)}return u},u.moveToPreviousMonth=function(){return bf(),u},u.moveToNextMonth=function(){return cf(),u},u.moveToPreviousYear=function(){return sg(),u},u.moveToNextYear=function(){return tg(),u},u.moveToToday=function(){return ug(),u},u.getCurrentDisplayDate=function(){return new Date(B)},u.setCurrentDisplayDate=function(i){return!Dc(i)||w&&!ib||(i=new Date(i),!Z(B,i)&&i.getFullYear()>=b.minimumYear&&i.getFullYear()<=b.maximumYear&&(R(i),A(b.events.onSetDate,i))),u},u.getSelectedDatePickerDate=function(){return w?new Date(Ic):null},u.setSelectedDatePickerDate=function(i){return Dc(i)&&w&&(i=new Date(i),pj(i)&&!Z(i,Ic)&&i.getFullYear()>=b.minimumYear&&i.getFullYear()<=b.maximumYear&&(i.setHours(0,0,0,0),hd(),Qh(i),A(b.events.onDatePickerDateChanged,i),Ic=i)),u},u.refresh=function(){return w||Pa(!0,!0),u},u.export=function(i){return b.exportEventsEnabled&&!w&&(i=hb(i,"csv"),Bc(null,i)),u},u.import=function(i){return b.importEventsEnabled&&!w&&Qi(i),u},u.setEvents=function(i,o,s){return w||(s=v(s,!0),wb={},u.addEvents(i,o,!1),s&&A(b.events.onEventsSet,i)),u},u.setEventsFromJson=function(i,o,s){if(!w){s=v(s,!0);var C=Re(i);ya(C)?u.setEvents(C,o,!1):Ta(C)&&C.hasOwnProperty("events")&&u.setEvents(C.events,o,!1),s&&A(b.events.onEventsSetFromJSON,i)}return u},u.addEvents=function(i,o,s){if(!w){o=v(o,!0),s=v(s,!0);for(var C=i.length,F=0;F<C;F++)u.addEvent(i[F],!1,!1,!1);qb(),s&&A(b.events.onEventsAdded,i),o&&(Sb(),La(),ra())}return u},u.addEventsFromJson=function(i,o,s){if(!w){s=v(s,!0);var C=Re(i);ya(C)?u.addEvents(C,o,!1):Ta(C)&&C.hasOwnProperty("events")&&u.addEvents(C.events,o,!1),s&&A(b.events.onEventsAddedFromJSON,i)}return u},u.addEvent=function(i,o,s,C){var F=!1;if(!w&&(C=v(C,!0),W(i.from)&&(i.from=new Date(i.from)),W(i.to)&&(i.to=new Date(i.to)),W(i.repeatEnds)&&(i.repeatEnds=new Date(i.repeatEnds)),W(i.created)&&(i.created=new Date(i.created)),W(i.lastUpdated)&&(i.lastUpdated=new Date(i.lastUpdated)),i.color===b.defaultEventBackgroundColor&&(i.color=null),i.colorText===b.defaultEventTextColor&&(i.colorText=null),i.colorBorder===b.defaultEventBorderColor&&(i.colorBorder=null),i.from<=i.to)){var j=i.from;j=j.getFullYear()+"-"+j.getMonth()+"-"+j.getDate();var V=kc();if(wb.hasOwnProperty(j)||(wb[j]={}),!wb[j].hasOwnProperty(V)){o=v(o,!0),s=v(s,!0),F=K(i.title);var $=K(i.description),_=K(i.location),Fe=K(i.group),_e=K(i.url);if(r(S.visibleGroups)&&!dd(b.events.onEventsFetch)){var et=Fe.toLowerCase();S.visibleGroups.indexOf(et)===G.notFound&&S.visibleGroups.push(et)}r(i.id)?V=i.id:i.id=V,b.maximumEventTitleLength>0&&F!==n.empty&&F.length>b.maximumEventTitleLength&&(i.title=i.title.substring(0,b.maximumEventTitleLength)),b.maximumEventDescriptionLength>0&&$!==n.empty&&$.length>b.maximumEventDescriptionLength&&(i.description=i.description.substring(0,b.maximumEventDescriptionLength)),b.maximumEventLocationLength>0&&_!==n.empty&&_.length>b.maximumEventLocationLength&&(i.location=i.location.substring(0,b.maximumEventLocationLength)),b.maximumEventGroupLength>0&&Fe!==n.empty&&Fe.length>b.maximumEventGroupLength&&(i.group=i.group.substring(0,b.maximumEventGroupLength)),_e===n.empty||sk(_e)||(i.url=n.empty),Dc(i.created)||(i.created=new Date),C&&(i.lastUpdated=new Date),wb[j][V]=Zk(i),F=!0,s&&A(b.events.onEventAdded,i),o&&(qb(),Sb(),La(),ra())}}return F},u.updateEvents=function(i,o,s){if(!w){o=v(o,!0),s=v(s,!0);for(var C=i.length,F=0;F<C;F++){var j=i[F];u.updateEvent(j.id,j,!1,!1)}s&&A(b.events.onEventsUpdated,i),o&&(qb(),Sb(),La(),ra())}return u},u.updateEvent=function(i,o,s,C){var F=!1;return!w&&(F=u.removeEvent(i,!1,!1))&&(s=v(s,!0),C=v(C,!0),F=u.addEvent(o,s,!1),qb(),F&&C&&A(b.events.onEventUpdated,o)),F},u.updateEventDateTimes=function(i,o,s,C,F,j){var V=!1;return w||(F=v(F,!0),j=v(j,!0),Db(function($){if($.id===i)return $.from=o,$.to=s,$.repeatEnds=C,V=!0,j&&A(b.events.onEventUpdated,$),F&&(qb(),Sb(),La(),ra()),!0})),V},u.removeEvent=function(i,o,s){var C=!1;return w||(o=v(o,!0),s=v(s,!0),Db(function(F,j,V){if(V===i)return delete wb[j][V],C=!0,s&&A(b.events.onEventRemoved,F),o&&(qb(),Sb(),La(),ra()),!0})),C},u.clearEvents=function(i,o){return w||(i=v(i,!0),o=v(o,!0),wb={},o&&A(b.events.onEventsCleared),i&&(qb(),Sb(),La(),ra())),u},u.getEvents=function(){var i=[];return w||(i=Ab(Gd())),i},u.getEvent=function(i){var o=null;return W(i)&&!w&&Db(function(s){if(s.id===i)return o=s,!0}),o},u.removeExpiredEvents=function(i,o){return w||(i=v(i,!0),o=v(o,!0),Db(function(s){L(s.repeatEvery)===z.never&&s.to<new Date&&u.removeEvent(s.id,!1,o)}),i&&(qb(),Sb(),La(),ra())),u},u.addEventType=function(i,o){var s=!1;return Fa(i)&&W(o)&&!w&&!P.hasOwnProperty(i)&&(P[i]={text:o,eventEditorInput:null},r(S.visibleEventTypes)&&S.visibleEventTypes.push(i),s=!0),s},u.removeEventType=function(i){var o=!1;return Fa(i)&&!w&&P.hasOwnProperty(i)&&(delete P[i],o=!0),o},u.setVisibleEventTypes=function(i,o){if(ya(i)&&!w){o=v(o,!0),S.visibleEventTypes=[];for(var s=i.length,C=0;C<s;C++)S.visibleEventTypes.indexOf(i[C])===G.notFound&&S.visibleEventTypes.push(i[C]);Pa(!0,!1),o&&A(b.events.onVisibleEventTypesChanged,S.visibleEventTypes)}return u},u.getAllGroups=function(){return lj()},u.clearAllGroups=function(i,o){return w||(i=v(i,!0),o=v(o,!0),Db(function(s){s.group=null}),o&&A(b.events.onGroupsCleared),i&&(Sb(),La(),ra())),u},u.removeGroup=function(i,o,s){if(W(i)&&!w){o=v(o,!0),s=v(s,!0);var C=i.toLowerCase();Db(function(F){F.group!==null&&F.group.toLowerCase()===C&&(F.group=null)}),s&&A(b.events.onGroupRemoved,i),o&&(Sb(),La(),ra())}return u},u.setVisibleGroups=function(i,o){if(ya(i)&&!w){o=v(o,!0),S.visibleGroups=[];for(var s=i.length,C=0;C<s;C++){var F=i[C].toLowerCase();S.visibleGroups.indexOf(F)===G.notFound&&S.visibleGroups.push(F)}Pa(!0,!1),o&&A(b.events.onVisibleGroupsChanged,S.visibleGroups)}return u},u.setClipboardEvent=function(i){return Ta(i)&&!w&&(oa=[ue(i)]),u},u.setClipboardEvents=function(i){if(ya(i)&&!w){oa=[];for(var o=i.length,s=0;s<o;s++)oa.push(ue(i[s]))}return u},u.getClipboardEvents=function(){var i=null;return w||(i=oa),i},u.clearClipboard=function(){return w||(oa=[]),u},u.getVersion=function(){return"2.12.2"},u.getId=function(){return Da},u.isBusy=function(){return qe},u.getCurrentView=function(){return rf(!1)},u.setOptions=function(i,o){for(var s in i)i.hasOwnProperty(s)&&(b[s]=i[s]);return nl(b),ij(),Li(),sb&&((o=v(o,!0))&&A(b.events.onOptionsUpdated,b),sb=!1,w&&!ib||R(B,!0,!0)),u},u.setSearchOptions=function(i,o){if(!w){i=rb(i),o=v(o,!0),qd();for(var s in i)i.hasOwnProperty(s)&&(y[s]=i[s]);o&&A(b.events.onSearchOptionsUpdated,y)}return u},u.addHolidays=function(i,o,s){return ya(i)&&!w&&(o=v(o,!0),s=v(s,!0),b.holidays=b.holidays.concat(i),o&&A(b.events.onOptionsUpdated,b),s&&R(B,!0,!0)),u},u.removeHolidays=function(i,o,s){if(ya(i)&&!w){o=v(o,!0),s=v(s,!0);for(var C=b.holidays.length,F=[],j=0;j<C;j++){var V=b.holidays[j],$=K(V.title,n.empty);i.indexOf($)===G.notFound&&F.push(V)}b.holidays=F,o&&A(b.events.onOptionsUpdated,b),s&&R(B,!0,!0)}return u},u.getHolidays=function(){return b.holidays},function(i,o,s,C,F){I=i,ea=o,Kf=s,qa=C,ic=F,Da=ol,(W(Da)||hj(Da))&&(nl(pl),y=rb(ql,b.searchOptions),y.enabled=v(y.enabled,!0),y.lastSearchText=hb(y.lastSearchText,n.empty),y.not=v(y.not,!1),y.matchCase=v(y.matchCase,!1),y.showAdvanced=v(y.showAdvanced,!1),y.searchTitle=v(y.searchTitle,!0),y.searchLocation=v(y.searchLocation,!1),y.searchDescription=v(y.searchDescription,!1),y.searchGroup=v(y.searchGroup,!1),y.searchUrl=v(y.searchUrl,!1),y.startsWith=v(y.startsWith,!1),y.endsWith=v(y.endsWith,!1),y.contains=v(y.contains,!0),y.left=xa(y.left,null),y.top=xa(y.top,null),y.history=jg(y.history,[]),R(b.initialDateTime,!0),E!==null&&ob(b.openInFullScreenMode)&&b.openInFullScreenMode&&!w&&Wk())}(document,window,navigator,Math,JSON)}/*! Calendar.js v2.12.2 | (c) Bunoon 2024 | MIT License */(function(){function q(){for(var i=d.domElementTypes,o=i.length,s=0;s<o;s++){var C=m.getElementsByTagName(i[s]);C=[].slice.call(C);for(var F=C.length,j=0;j<F&&r(C[j]);j++);}}function r(i){var o=!0;if(g(i)&&i.hasAttribute("data-binding-calendar")){var s=i.getAttribute("data-binding-calendar");k(s)?(s=w(s),s.parsed&&l(s.result)?(i=new calendarJs(i,s.result),s=i.getId(),h.hasOwnProperty(s)||(h[s]=i)):d.safeMode||(console.error(d.attributeNotValidErrorText.replace("{{attribute_name}}","data-binding-calendar")),o=!1)):d.safeMode||(console.error(d.attributeNotSetErrorText.replace("{{attribute_name}}","data-binding-calendar")),o=!1)}return o}function g(i){return i!=null&&i!==t.empty}function l(i){return g(i)&&typeof i=="object"}function k(i){return g(i)&&typeof i=="string"}function x(i){return g(i)&&typeof i=="function"}function w(a){var c=!0,b=null;try{k(a)&&(b=u.parse(a))}catch(f){try{b=eval("("+a+")"),x(b)&&(b=b())}catch(i){d.safeMode||(console.error(d.objectErrorText.replace("{{error_1}}",f.message).replace("{{error_2}}",i.message)),c=!1),b=null}}return{parsed:c,result:b}}function v(i){var o={};i=d=l(i)?i:o,o=d.safeMode;var s=g(o)&&typeof o=="boolean";i.safeMode=s?o:!0,i=d,s=d.domElementTypes,o=["div","input"],k(s)?(s=s.split(t.space),s.length===0&&(s=o)):s=l(s)&&s instanceof Array?s:o,i.domElementTypes=s}var m=null,u=null,e={},d={},h={},t={empty:"",space:" "};e.render=function(i){return l(i)&&r(i),e},e.renderAll=function(){return q(),e},e.instance=function(i){var o=null;return k(i)&&h.hasOwnProperty(i)&&(o=h[i]),o},e.setConfiguration=function(i){for(var o in i)i.hasOwnProperty(o)&&(d[o]=i[o]);return v(d),e},e.getIds=function(){var i=[],o;for(o in h)h.hasOwnProperty(o)&&i.push(o);return i},function(i,o,s){m=i,u=s,v(),m.addEventListener("DOMContentLoaded",function(){q()}),g(o.$calendar)||(o.$calendar=e)}(document,window,JSON)})();
